 <script>


side-distpatch
fetch("http://keys.ggm.bim/etebligat/side-dispatch", {
  "headers": {
    "accept": "application/json, text/javascript, */*; q=0.01",
    "accept-language": "tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7",
    "content-type": "application/x-www-form-urlencoded; charset=UTF-8"
  },
  "referrer": "http://keys.ggm.bim/etebligat/index.jsp?token=501091d0af143c0c39542712ca97265540e735f22ea710f860686727e9e17909783da6ba8d196caa7cf7f09b5083775792a6c7500bdfd39f94cebb65fb7c5ffa",
  "referrerPolicy": "strict-origin-when-cross-origin",
  "body": "cmd=SIDE.GET_EAGER_BF_DEFS&callid=f27f5bf56482d-6&token=501091d0af143c0c39542712ca97265540e735f22ea710f860686727e9e17909783da6ba8d196caa7cf7f09b5083775792a6c7500bdfd39f94cebb65fb7c5ffa&jp=%7B%22userid%22%3A%2235353114746%22%2C%22bfnames%22%3A%5B%22etebligat.P_ETEBLIGAT_IMZALANACAK_IN%22%5D%2C%22loadedList%22%3A%5B%22etebligat.PG_MAIN_PAGE%22%5D%2C%22resourceBundleLang%22%3A%22tr%22%7D",
  "method": "POST",
  "mode": "cors",
  "credentials": "include"
});

istek
cmd: SIDE.GET_EAGER_BF_DEFS
callid: f27f5bf56482d-6
token: 501091d0af143c0c39542712ca97265540e735f22ea710f860686727e9e17909783da6ba8d196caa7cf7f09b5083775792a6c7500bdfd39f94cebb65fb7c5ffa
jp: {"userid":"35353114746","bfnames":["etebligat.P_ETEBLIGAT_IMZALANACAK_IN"],"loadedList":["etebligat.PG_MAIN_PAGE"],"resourceBundleLang":"tr"}

yanıt
{
    "data": {
        "appRefDepList": [
            "RF_ETEBLIGAT_SAYMANLIKLAR",
            "RF_ETEBLIGAT_DURUM",
            "RF_ETEBLIGAT_VERGI_DAIRELERI",
            "RF_IHBARNAME_EK_TURU"
        ],
        "sideRefDepList": [
            "SIDE_RF_ETEBLIGAT_BELGE_TURU"
        ],
        "bfscript": "BFEngine.markModule('etebligat');\n\n(function(window,undefined){function Definition(){this.VERSION=\"1\";this.BC_REF=\"CSC-FILEUPLOAD\";this.EVENTS=[];this.METHODS=[];this.SCR={labelPosition:\"inherited\",label:\"E Uploader\",defaultName:\"eUploader\"};this.Business=function(){this.$$oc=function(n,i){window.z=i;eval(n+\"=window.z;\")};this.$$destroy=function(){};this.init=function(){}}}BFEngine.register(\"E_UPLOADER\",new Definition())})(window);\n(function(window,undefined){function Definition(){this.VERSION=\"1\";this.BC_REF=\"CSC-CS-METIN\";this.EVENTS=[];this.METHODS=[];this.SCR={layoutConfig:{},visible:true,readonly:false,labelPosition:\"inherited\",style:{},disabled:false,label:\"BELGE NO\",defaultName:\"eBelgeNo\",maxLength:\"20\",validation:{regex:\"\"}};this.Business=function(){this.$$oc=function(n,i){window.z=i;eval(n+\"=window.z;\")};this.$$destroy=function(){};this.init=function(){}}}BFEngine.register(\"E_BELGE_NO\",new Definition())})(window);\n(function(window,undefined){function Definition(){this.VERSION=\"1\";this.MEMBERS={panel:\"GEN_PNL$$2428\"};this.EVENTS=[];this.METHODS=[];this.SCR={border:true,collapsePos:\"right\",visible:true,showCloseIcon:false,memberConfig:{eFlexpdf:{pdfFile:\"\",urlPrefix:\"\",style:{width:\"700\",height:\"700\"},showLink:false,url:\"\"},panel:{layoutConfig:{}}},title:\"Ek Goster\",layoutConfig:{},layout:\"CSC-HORIZONTAL\",readonly:false,labelPosition:\"left\",style:{fillPanel:false,borderPanel:false},disabled:false,defaultName:\"ekGoster\",panelType:\"none\",validation:{}};this.Business=function(){var panel=null;var eFlexpdf=null;this.$$oc=function(n,i){window.z=i;eval(n+\"=window.z;\")};this.$$destroy=function(){panel=null;eFlexpdf=null};this.init=function(){panel=BFEngine.get(\"panel\",this);eFlexpdf=BFEngine.get(\"panel.eFlexpdf\",this)}}}BFEngine.register(\"R_EK_GOSTER\",new Definition())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={title:\"TITLE\",panel1:\"GEN_PNL$$2466\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-VERTICAL\",style:{\"min-width\":\"50px\"}};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2465\",new a())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={seperator:\"SEPERATOR\",buton:\"BUTON\",buton1:\"BUTON\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-VERTICAL\",style:{\"min-width\":\"50px\"}};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2466\",new a())})(window);\n(function(window,undefined){function Definition(){this.VERSION=\"1\";this.BC_REF=\"CSC-TABLE-CELL\";this.EVENTS=[];this.METHODS=[];this.SCR={};this.Business=function(){this.$$oc=function(n,i){window.z=i;eval(n+\"=window.z;\")};this.$$destroy=function(){};this.init=function(){}}}BFEngine.register(\"TABLECELL\",new Definition())})(window);\n(function(window,undefined){function Definition(){this.VERSION=\"1\";this.BC_REF=\"CSC-COMBOBOX\";this.EVENTS=[];this.METHODS=[];this.SCR={refDataNames:\"SIDE_RF_ETEBLIGAT_BELGE_TURU\",appRefData:\"\",visible:true,label:\"BELGE TÜRÜ\",valueField:\"\",textField:\"\",layoutConfig:{},readonly:false,labelPosition:\"inherited\",style:{},disabled:false,defaultName:\"eTebligatTuru\",validation:{}};this.Business=function(){this.$$oc=function(n,i){window.z=i;eval(n+\"=window.z;\")};this.$$destroy=function(){};this.init=function(){this.on(\"oninit\",this,function(component,param){BFEngine.a();try{}finally{BFEngine.r()}},128)}}}BFEngine.register(\"E_TEBLIGAT_TURU\",new Definition())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={mbtnIndir:\"MINIBUTTON\",dosya:\"E_DOSYA_ADI\",mbtnDosyaSil:\"MINIBUTTON\",yeni:\"HIDDEN\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-TABLE\"};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2506\",new a())})(window);\n(function(window,undefined){function Definition(){this.VERSION=\"1\";this.MEMBERS={pnl:\"GEN_PNL$$2446\",seperator1:\"SEPERATOR\",pnlAciklama:\"GEN_PNL$$2449\",popup:\"GEN_PNL$$2451\"};this.EVENTS=[];this.METHODS=[\"alanlariTemizle\"];this.SCR={layoutConfig:{width:\"\",minWidth:\"\",height:\"\"},layout:\"CSC-PAGE\",border:true,visible:true,readonly:false,style:{},disabled:false,memberConfig:{rDokuman:{style:{width:\"800\",height:\"600\"}},mbtnDosyaSil:{layoutConfig:{filter:false,ftype:\"eq\",cellAlign:\"center\",vertAlign:\"inherited\",columnWidth:\"10\",fpath:\"\"},buttonType:\"css/bc-style/img/delete.png\",style:{width:\"\"},label:\"SİL\"},pnlButon:{layout:\"CSC-HORIZONTAL\"},aciklama:{readonly:true,maxlength:\"512\",style:{width:\"500\",height:\"150\"},label:\"AÇIKLAMA\",validation:{req:true}},belgeNo:{readonly:true},uploader:{label:\"DOSYA YÜKLEME\"},aciklamaEski:{layoutConfig:{zindex:100}},konu:{readonly:true,style:{width:\"500\"},label:\"KONU\",maxLength:\"255\",validation:{req:true}},seperator1:{size:\"20\"},seperator2:{size:\"10\"},uyari:{visible:false,title:\"<span style=\\\"font-weight: bold; color: rgb(255, 0, 0); background-color: rgb(255, 255, 255); font-family: 'Arial Black';\\\">TEKRAR DÜZENLENECEK<\/span>\"},tblUpload:{layoutConfig:{zindex:100},style:{width:\"\"},nodata:\"Dosya Eklenmedi..\",pageNum:\"5\"},pnlDosyaBilgi:{layout:\"CSC-BASIC-FORM\",label:\"\"},dosya:{layoutConfig:{filter:false,ftype:\"eq\",cellAlign:\"center\",vertAlign:\"inherited\",columnWidth:\"10\",fpath:\"\"},style:{width:\"\"},label:\"DOSYA ADI\"},btnIptal:{title:\"VAZGEÇ\"},belgeTuru:{readonly:true,label:\"BELGE TÜRÜ\"},mbtnIndir:{layoutConfig:{filter:false,cellAlign:\"center\",ftype:\"eq\",vertAlign:\"inherited\",columnWidth:\"10\",fpath:\"\"},buttonType:\"css/bc-style/img/download-blue.png\",style:{width:\"\"},label:\"İNDİR\"},pnl:{layoutConfig:{zindex:100},layout:\"CSC-HORIZONTAL\",title:\"\"},pnlAciklama:{layoutConfig:{zindex:100},layout:\"CSC-BASIC-FORM\"},popup:{layoutConfig:{zindex:100}},tebligatEkTuru:{label:\"IHBARNAME EK TURU\"},btnTekrarDuzenlenecek:{visible:false,title:\"GERİ GÖNDER\"},seperator:{size:\"50\"},btnKaydet:{label:\"\",title:\"DEĞİŞİKLİKLERİ KAYDET\"},yeni:{layoutConfig:{filter:false,ftype:\"eq\",cellAlign:\"inherited\",vertAlign:\"inherited\",columnWidth:\"10\",fpath:\"\"}}},title:\"BELGE VE EK DETAYLARI\",validation:{}};this.Business=function(){var CURRENT_PAGE=null;var pnl=null;var pnlDosyaBilgi=null;var oid=null;var zarfoid=null;var orgoid=null;var dizin=null;var rowid=null;var belgeNo=null;var belgeTuru=null;var uploader=null;var tebligatEkTuru=null;var seperator=null;var tblUpload=null;var mbtnIndir=null;var dosya=null;var mbtnDosyaSil=null;var yeni=null;var seperator2=null;var seperator1=null;var pnlAciklama=null;var uyari=null;var konu=null;var aciklamaEski=null;var aciklama=null;var pnlButon=null;var btnKaydet=null;var btnTekrarDuzenlenecek=null;var btnIptal=null;var popup=null;var rDokuman=null;this.$$oc=function(n,i){window.z=i;eval(n+\"=window.z;\")};this.$$destroy=function(){pnl=null;pnlDosyaBilgi=null;oid=null;zarfoid=null;orgoid=null;dizin=null;rowid=null;belgeNo=null;belgeTuru=null;uploader=null;tebligatEkTuru=null;seperator=null;tblUpload=null;mbtnIndir=null;dosya=null;mbtnDosyaSil=null;yeni=null;seperator2=null;seperator1=null;pnlAciklama=null;uyari=null;konu=null;aciklamaEski=null;aciklama=null;pnlButon=null;btnKaydet=null;btnTekrarDuzenlenecek=null;btnIptal=null;popup=null;rDokuman=null};this.init=function(){pnl=BFEngine.get(\"pnl\",this);pnlDosyaBilgi=BFEngine.get(\"pnl.pnlDosyaBilgi\",this);oid=BFEngine.get(\"pnl.pnlDosyaBilgi.oid\",this);zarfoid=BFEngine.get(\"pnl.pnlDosyaBilgi.zarfoid\",this);orgoid=BFEngine.get(\"pnl.pnlDosyaBilgi.orgoid\",this);dizin=BFEngine.get(\"pnl.pnlDosyaBilgi.dizin\",this);rowid=BFEngine.get(\"pnl.pnlDosyaBilgi.rowid\",this);belgeNo=BFEngine.get(\"pnl.pnlDosyaBilgi.belgeNo\",this);belgeTuru=BFEngine.get(\"pnl.pnlDosyaBilgi.belgeTuru\",this);uploader=BFEngine.get(\"pnl.pnlDosyaBilgi.uploader\",this);tebligatEkTuru=BFEngine.get(\"pnl.pnlDosyaBilgi.tebligatEkTuru\",this);seperator=BFEngine.get(\"pnl.seperator\",this);tblUpload=BFEngine.get(\"pnl.tblUpload\",this);mbtnIndir=BFEngine.get(\"pnl.tblUpload.mbtnIndir\",this);dosya=BFEngine.get(\"pnl.tblUpload.dosya\",this);mbtnDosyaSil=BFEngine.get(\"pnl.tblUpload.mbtnDosyaSil\",this);yeni=BFEngine.get(\"pnl.tblUpload.yeni\",this);seperator2=BFEngine.get(\"pnl.seperator2\",this);seperator1=BFEngine.get(\"seperator1\",this);pnlAciklama=BFEngine.get(\"pnlAciklama\",this);uyari=BFEngine.get(\"pnlAciklama.uyari\",this);konu=BFEngine.get(\"pnlAciklama.konu\",this);aciklamaEski=BFEngine.get(\"pnlAciklama.aciklamaEski\",this);aciklama=BFEngine.get(\"pnlAciklama.aciklama\",this);pnlButon=BFEngine.get(\"pnlAciklama.pnlButon\",this);btnKaydet=BFEngine.get(\"pnlAciklama.pnlButon.btnKaydet\",this);btnTekrarDuzenlenecek=BFEngine.get(\"pnlAciklama.pnlButon.btnTekrarDuzenlenecek\",this);btnIptal=BFEngine.get(\"pnlAciklama.pnlButon.btnIptal\",this);popup=BFEngine.get(\"popup\",this);rDokuman=BFEngine.get(\"popup.rDokuman\",this);mbtnDosyaSil.on(\"selected\",this,function(component){BFEngine.a();try{;var dosyaAdi=currentRow.getValue(\"dosya\");var bno=belgeNo.getValue();var boid=oid.getValue();libGIBIntraUtil.GIBIntraServiceCall(CURRENT_PAGE,\"etebligatService_ekSil\",{belgeoid:boid,dosyaAdi:dosyaAdi},function(resp){;CSPopupUTILS.MessageBox(bno+\" numaralı tebliğ edilecek belge için ek dosya silindi !\");if(resp.mesaj){tblUpload.deleteRow(currentRow.getRowId())}},function(err){CSPopupUTILS.MessageBox(err[0].text);console.log(\"HATA:\",err)})}finally{BFEngine.r()}},46);mbtnIndir.on(\"selected\",this,function(component){BFEngine.a();try{;var oid=CURRENT_PAGE.oid.getValue();var dizin=CURRENT_PAGE.dizin.getValue();var dosya=currentRow.getValue(\"dosya\");var dosyaismi=dosya.split(\".\")[0];var uzanti=dosya.split(\".\")[1];var params=\"\";var url;if(uzanti.toUpperCase()===\"PDF\"){url=SideModuleManager.getAppUrl(\"etebligat\",\"islem\");params=\"?dosyaismi=\"+dosyaismi+\"&uzanti=\"+uzanti+\"&oid=\"+oid+\"&cmd=getEk&islem=view&token=\"+encodeURIComponent(CSSession.getToken(\"etebligat\"))+\"&userId=\"+CSSession.getUserId()+\"&tur=teblig&belgeTuru=ek\";rDokuman.eFlexpdf.setFlexConfig({url:url,PDFFile:params});popup.open()}else{url=SideModuleManager.getAppUrl(\"etebligat\",\"islem\");SIDEUtil.downloadFile({cmd:\"downloadEk\",dosyaismi:dosyaismi,uzanti:uzanti,oid:oid,islem:\"download\",tur:\"teblig\",belgeTuru:\"ek\"},{url:url})}}finally{BFEngine.r()}},47);this.on(\"oninit\",this,function(component,param){BFEngine.a();try{CURRENT_PAGE=this}finally{BFEngine.r()}},48);this.on(\"selected\",this,function(component){BFEngine.a();try{}finally{BFEngine.r()}},49);this.alanlariTemizle=function(){BFEngine.a();try{oid.clear();orgoid.clear();zarfoid.clear();dizin.clear();rowid.clear();dosya.clear();belgeNo.clear();belgeTuru.clear();konu.clear();aciklama.clear();uyari.setVisible(false);tblUpload.clear()}finally{BFEngine.r()}}}}}BFEngine.register(\"P_ETEBLIGAT_BELGE_DETAY\",new Definition())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={pnlDosyaBilgi:\"GEN_PNL$$2505\",seperator:\"SEPERATOR\",tblUpload:\"GEN_PNL$$2506\",seperator2:\"SEPERATOR\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-VERTICAL\",style:{\"min-width\":\"50px\"}};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2507\",new a())})(window);\n(function(window,undefined){function Definition(){this.VERSION=\"1\";this.BC_REF=\"CSC-CS-METIN\";this.EVENTS=[];this.METHODS=[];this.SCR={layoutConfig:{},visible:true,readonly:false,labelPosition:\"inherited\",style:{},disabled:false,label:\"DOSYA ADI\",defaultName:\"eDosyaAdi\",validation:{}};this.Business=function(){this.$$oc=function(n,i){window.z=i;eval(n+\"=window.z;\")};this.$$destroy=function(){};this.init=function(){}}}BFEngine.register(\"E_DOSYA_ADI\",new Definition())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={btnTekrarDuzenlenecek:\"BUTON\",btnIptal:\"BUTON\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-VERTICAL\",style:{\"min-width\":\"50px\"}};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2508\",new a())})(window);\n(function(window,undefined){function Definition(){this.VERSION=\"1\";this.BC_REF=\"CSC-HIDDEN\";this.EVENTS=[];this.METHODS=[];this.SCR={};this.Business=function(){this.$$oc=function(n,i){window.z=i;eval(n+\"=window.z;\")};this.$$destroy=function(){};this.init=function(){}}}BFEngine.register(\"HIDDEN\",new Definition())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={uyari:\"TITLE\",konu:\"E_KONU\",aciklamaEski:\"HIDDEN\",aciklama:\"E_ACIKLAMA\",pnlButon:\"GEN_PNL$$2508\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-VERTICAL\",style:{\"min-width\":\"50px\"}};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2509\",new a())})(window);\n(function(window,undefined){function Definition(){this.VERSION=\"1\";this.MEMBERS={panel:\"GEN_PNL$$2511\",popup:\"GEN_PNL$$2514\"};this.EVENTS=[];this.METHODS=[\"ekleriGetir\",\"getDfsteMi\",\"setDfsteMi\"];this.SCR={border:true,collapsePos:\"right\",visible:true,showCloseIcon:false,memberConfig:{popup:{layoutConfig:{}},tableEkler:{layoutConfig:{},title:\"EKLER\",rownumbers:true},dosya:{layoutConfig:{filter:false,cellAlign:\"inherited\",ftype:\"eq\",vertAlign:\"inherited\",columnWidth:\"10\",fpath:\"\"},style:{width:\"200\"},label:\"EK DOSYA ADI\"},dokumanOid:{layoutConfig:{filter:false,cellAlign:\"inherited\",ftype:\"eq\",vertAlign:\"inherited\",columnWidth:\"10\",fpath:\"\"}},eFlexpdf:{pdfFile:\"\",urlPrefix:\"\",style:{width:\"700\",height:\"700\"},showLink:false,url:\"\"},dokumanDosyaAdi:{layoutConfig:{filter:false,cellAlign:\"inherited\",ftype:\"eq\",vertAlign:\"inherited\",columnWidth:\"10\",fpath:\"\"},style:{width:\"200\"},label:\"DÖKÜMAN DOSYA ADI\"},panel:{layout:\"CSC-BALANCED-HOR\",style:{width:\"\",height:\"\"}},belgeOid:{layoutConfig:{filter:false,ftype:\"eq\",cellAlign:\"inherited\",vertAlign:\"inherited\",columnWidth:\"10\",fpath:\"\"}},dokumanTable:{noHeader:false,visible:false,title:\"DÖKÜMAN DOSYA ADI\",collapsible:true,rownumbers:true},panelEkler:{layoutConfig:{},labelPosition:\"top\",label:\"\",title:\"EKLER\",titleClass:\"knockout\"}},title:\"Dokuman Ve Ek Goster\",layoutConfig:{},layout:\"CSC-HORIZONTAL\",readonly:false,labelPosition:\"left\",style:{fillPanel:false,borderPanel:false},disabled:false,defaultName:\"dokumanVeEkGoster\",panelType:\"none\",validation:{}};this.Business=function(){var dfsteMi=false;var panel=null;var eFlexpdf=null;var panelEkler=null;var tableEkler=null;var belgeOid=null;var dosya=null;var dokumanTable=null;var dokumanOid=null;var dokumanDosyaAdi=null;var popup=null;var ekGoster=null;this.$$oc=function(n,i){window.z=i;eval(n+\"=window.z;\")};this.$$destroy=function(){panel=null;eFlexpdf=null;panelEkler=null;tableEkler=null;belgeOid=null;dosya=null;dokumanTable=null;dokumanOid=null;dokumanDosyaAdi=null;popup=null;ekGoster=null};this.init=function(){panel=BFEngine.get(\"panel\",this);eFlexpdf=BFEngine.get(\"panel.eFlexpdf\",this);panelEkler=BFEngine.get(\"panel.panelEkler\",this);tableEkler=BFEngine.get(\"panel.panelEkler.tableEkler\",this);belgeOid=BFEngine.get(\"panel.panelEkler.tableEkler.belgeOid\",this);dosya=BFEngine.get(\"panel.panelEkler.tableEkler.dosya\",this);dokumanTable=BFEngine.get(\"panel.panelEkler.dokumanTable\",this);dokumanOid=BFEngine.get(\"panel.panelEkler.dokumanTable.dokumanOid\",this);dokumanDosyaAdi=BFEngine.get(\"panel.panelEkler.dokumanTable.dokumanDosyaAdi\",this);popup=BFEngine.get(\"popup\",this);ekGoster=BFEngine.get(\"popup.ekGoster\",this);dokumanDosyaAdi.on(\"selected\",this,function(component){BFEngine.a();try{;var oid=currentRow.getValue(\"dokumanOid\");var dosya=currentRow.getValue(\"dokumanDosyaAdi\");var dosyaismi=dosya.split(\".\")[0];var uzanti=dosya.split(\".\")[1];var params=\"\";var url=\"\";if(uzanti.toUpperCase()===\"PDF\"){url=SideModuleManager.getAppUrl(\"etebligat\",\"islem\");params=\"?dosyaismi=\"+dosyaismi+\"&uzanti=\"+uzanti+\"&oid=\"+oid+\"&cmd=getEk&islem=view&token=\"+encodeURIComponent(CSSession.getToken(\"etebligat\"))+\"&userId=\"+CSSession.getUserId()+\"&tur=teblig&belgeTuru=dokuman\";ekGoster.eFlexpdf.setFlexConfig({url:url,PDFFile:params});popup.open()}else{url=SideModuleManager.getAppUrl(\"etebligat\",\"islem\");SIDEUtil.downloadFile({cmd:\"downloadEk\",dosyaismi:dosyaismi,uzanti:uzanti,oid:oid,islem:\"download\",tur:\"teblig\",belgeTuru:\"dokuman\"},{url:url})}}finally{BFEngine.r()}},85);dosya.on(\"selected\",this,function(component){BFEngine.a();try{;var oid=currentRow.getValue(\"belgeOid\");var dosya=currentRow.getValue(\"dosya\");var dosyaismi=dosya.split(\".\")[0];var uzanti=dosya.split(\".\")[1];var params=\"\";var url=\"\";if(uzanti.toUpperCase()===\"PDF\"){url=SideModuleManager.getAppUrl(\"etebligat\",\"islem\");params=\"?dosyaismi=\"+dosyaismi+\"&uzanti=\"+uzanti+\"&oid=\"+oid+\"&cmd=getEk&islem=view&token=\"+encodeURIComponent(CSSession.getToken(\"etebligat\"))+\"&userId=\"+CSSession.getUserId()+\"&tur=teblig&belgeTuru=ek\";ekGoster.eFlexpdf.setFlexConfig({url:url,PDFFile:params});popup.open()}else{url=SideModuleManager.getAppUrl(\"etebligat\",\"islem\");SIDEUtil.downloadFile({cmd:\"downloadEk\",dosyaismi:dosyaismi,uzanti:uzanti,oid:oid,islem:\"download\",tur:\"teblig\",belgeTuru:\"ek\"},{url:url})}}finally{BFEngine.r()}},86);this.on(\"ekleriGetir\",this,function(component){BFEngine.a();try{var page=this;var belgeOid=belgeOid;libGIBIntraUtil.GIBIntraServiceCall(page,\"etebligatService_etebligatAciklamaGetir\",{oid:belgeOid},function(resp){tableEkler.clear();tableEkler.add(resp.dosyalar)},function(Err){console.log(\"HATA:\",Err)})}finally{BFEngine.r()}},87);this.ekleriGetir=function(belgeOid){BFEngine.a();try{;var page=this;var belgeOid=belgeOid;tableEkler.clear();dokumanTable.clear();libGIBIntraUtil.GIBIntraServiceCall(page,\"etebligatService_etebligatAciklamaGetir\",{oid:belgeOid},function(resp){tableEkler.add(resp.dosyalar)},function(Err){console.log(\"HATA:\",Err)});libGIBIntraUtil.GIBIntraServiceCall(page,\"etebligatService_etebligatDokumanGetir\",{oid:belgeOid},function(response){;if(response.dosyalar.length!==0){dokumanTable.setVisible(true);for(var i=0;i<response.dosyalar.length;i++){;var dokumanOidTablo=response.dosyalar[i].belgeOid;var dosyaAdiTablo=response.dosyalar[i].dosya;dokumanTable.add({dokumanOid:dokumanOidTablo,dokumanDosyaAdi:dosyaAdiTablo})}}},function(Err){console.log(\"HATA:\",Err)})}finally{BFEngine.r()}};this.getDfsteMi=function(){BFEngine.a();try{return dfsteMi}finally{BFEngine.r()}};this.setDfsteMi=function(value){BFEngine.a();try{dfsteMi=value}finally{BFEngine.r()}}}}}BFEngine.register(\"R_DOKUMAN_VE_EK_GOSTER\",new Definition())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={vkn:\"E_VERGINO_MF\",tckn:\"E_TCKIMLIKNO_MF\",unvan:\"E_UNVAN_TX\",vdKodu:\"E_VERGI_DAIRESI_CMB\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-VERTICAL\",style:{\"min-width\":\"50px\"}};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2427\",new a())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={eFlexpdf:\"E_FLEXPDF\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-VERTICAL\",style:{\"min-width\":\"50px\"}};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2428\",new a())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={btnImzalaServis:\"BUTON\",btnGeriGonder:\"BUTON\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-VERTICAL\",style:{\"min-width\":\"50px\"}};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2549\",new a())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={oid:\"HIDDEN\",zarfoid:\"HIDDEN\",orgoid:\"HIDDEN\",dizin:\"HIDDEN\",rowid:\"HIDDEN\",belgeNo:\"E_BELGE_NO\",belgeTuru:\"E_TEBLIGAT_TURU\",uploader:\"E_UPLOADER\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-VERTICAL\",style:{\"min-width\":\"50px\"}};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2505\",new a())})(window);\n(function(window,undefined){function Definition(){this.VERSION=\"1\";this.BC_REF=\"CSC-MASKFIELD\";this.EVENTS=[];this.METHODS=[];this.SCR={layoutConfig:{},number:\"\",visible:true,readonly:false,labelPosition:\"inherited\",style:{},disabled:false,label:\"T.C. KİMLİK NO\",defaultName:\"tckn\",validation:{},mask:\"99999999999\"};this.Business=function(){this.$$oc=function(n,i){window.z=i;eval(n+\"=window.z;\")};this.$$destroy=function(){};this.init=function(){}}}BFEngine.register(\"E_TCKIMLIKNO_MF\",new Definition())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={btnKaydet:\"BUTON\",btnTekrarDuzenlenecek:\"BUTON\",btnIptal:\"BUTON\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-VERTICAL\",style:{\"min-width\":\"50px\"}};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2450\",new a())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={rDokuman:\"R_DOKUMAN_GOSTER\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-POPUP\"};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2451\",new a())})(window);\n(function(window,undefined){function Definition(){this.VERSION=\"1\";this.BC_REF=\"CSC-MASKFIELD\";this.EVENTS=[];this.METHODS=[\"init\"];this.SCR={layoutConfig:{},visible:true,readonly:false,labelPosition:\"inherited\",style:{},disabled:false,label:\"VERGİ NO\",defaultName:\"vkn\",validation:{req:false},mask:\"9999999999\"};this.Business=function(){this.$$oc=function(n,i){window.z=i;eval(n+\"=window.z;\")};this.$$destroy=function(){};this.init=function(){this.init=function(){BFEngine.a();try{}finally{BFEngine.r()}}}}}BFEngine.register(\"E_VERGINO_MF\",new Definition())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={tablerow:\"GEN_PNL$$2415\",tablerow1:\"GEN_PNL$$2416\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-TABLE-HEADER\"};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2414\",new a())})(window);\n(function(window,undefined){function Definition(){this.VERSION=\"1\";this.BC_REF=\"CSC-CS-METIN\";this.EVENTS=[];this.METHODS=[];this.SCR={layoutConfig:{},visible:true,readonly:false,labelPosition:\"inherited\",style:{},disabled:false,label:\"UNVAN\",defaultName:\"unvan\",maxLength:\"72\",validation:{}};this.Business=function(){this.$$oc=function(n,i){window.z=i;eval(n+\"=window.z;\")};this.$$destroy=function(){};this.init=function(){}}}BFEngine.register(\"E_UNVAN_TX\",new Definition())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={tablecell:\"TABLECELL\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-TABLE-ROW\"};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2415\",new a())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={tablecell1:\"TABLECELL\",tablecell2:\"TABLECELL\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-TABLE-ROW\"};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2416\",new a())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={mesaj:\"E_ACIKLAMA_TXX\",vergino:\"E_ACIKLAMA_TXX\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-TABLE-ROW\"};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2417\",new a())})(window);\n(function(window,undefined){function Definition(){this.VERSION=\"1\";this.BC_REF=\"CSC-FLEX-PDF\";this.EVENTS=[];this.METHODS=[];this.SCR={layoutConfig:{},pdfFile:\"Paper.pdf\",visible:true,readonly:false,style:{},disabled:false,label:\"E Flexpdf\",defaultName:\"eFlexpdf\",validation:{},url:\"/flex\"};this.Business=function(){this.$$oc=function(n,i){window.z=i;eval(n+\"=window.z;\")};this.$$destroy=function(){};this.init=function(){this.on(\"onload\",this,function(component){BFEngine.a();try{console.log(\"flex config : \",this.getConfig())}finally{BFEngine.r()}},188)}}}BFEngine.register(\"E_FLEXPDF\",new Definition())})(window);\n(function(window,undefined){function Definition(){this.VERSION=\"1\";this.BC_REF=\"CSC-COMBOBOX\";this.EVENTS=[];this.METHODS=[];this.SCR={appRefData:\"RF_ETEBLIGAT_SAYMANLIKLAR\",visible:true,focusable:\"true\",label:\"VERGİ DAİRESİ\",valueField:\"orgOid\",textField:\"vdKoduAdiTypeAciklama\",layoutConfig:{},readonly:false,labelPosition:\"inherited\",filterProp:\"\",style:{},disabled:false,defaultName:\"vergiDaireleri\",validation:{}};this.Business=function(){this.$$oc=function(n,i){window.z=i;eval(n+\"=window.z;\")};this.$$destroy=function(){};this.init=function(){this.on(\"oninit\",this,function(component,param){BFEngine.a();try{;this.filter(\"vdType\",\"1\");var organization=CSSession.get(\"birimKoduList\");this.filter(\"vdKodu\",organization.replace(\"[\",\"\").replace(\"]\",\"\").split(\", \"),true);this.setEmptyText(\"\");this.setEmptyOption(false)}finally{BFEngine.r()}},52)}}}BFEngine.register(\"E_VERGI_DAIRELERI\",new Definition())})(window);\n(function(window,undefined){function Definition(){this.VERSION=\"1\";this.MEMBERS={tabpanel:\"GEN_PNL$$2551\",popupAciklama:\"GEN_PNL$$2558\",popupDokuman:\"GEN_PNL$$2566\",popupOnay:\"GEN_PNL$$2567\",popupDokumanDuzenle:\"GEN_PNL$$2568\"};this.EVENTS=[];this.METHODS=[\"alanlariTemizle\",\"aciklamaEkle\",\"imzalancakBelgeSorgula\",\"geriAciklamaEkle\"];this.SCR={layoutConfig:{},layout:\"CSC-PAGE\",border:true,visible:true,readonly:false,style:{},disabled:false,memberConfig:{\"pEtebligatBelgeDetay.btnKaydet\":{visible:false},mukVknBas:{readonly:true},\"pEtebligatDokumanDetay.btnIptal\":{title:\"KAPAT\"},panel1:{layoutConfig:{zindex:100},layout:\"CSC-HORIZONTAL\"},mukBelgeNo:{readonly:true},panel3:{layout:\"CSC-BASIC-FORM\"},\"topluOnay.panel\":{style:{width:\"440px\",height:\"100px\"}},panel2:{layout:\"CSC-HORIZONTAL\",label:\"VERGİ NO ARALIĞI\"},pnlButon:{layout:\"CSC-HORIZONTAL\",style:{textAlign:\"center\"}},mukVknBit:{readonly:true},vergiDaireleri:{emptyText:\"---VERGİ DAİRESİ SEÇİN---\",validation:{req:true}},vergiNo:{layoutConfig:{filter:true,ftype:\"like\",sortable:true}},srgBelgeTuru:{refDataNames:\"SIDE_RF_ETEBLIGAT_BELGE_TURU\",appRefData:\"\",visible:true,label:\"TEBLİGAT TÜRÜ\",valueField:\"\",validation:{req:true},textField:\"\"},\"pEtebligatDokumanDetay.uploader\":{visible:false},pnlSonuc:{layoutConfig:{closable:true},title:\"SONUÇ\"},\"pEtebligatBelgeDetay.aciklama\":{readonly:false,maxlength:\"512\",style:{width:\"400\",height:\"100\"}},mukvkn:{readonly:true},pnlBilgi:{layout:\"CSC-BASIC-FORM\"},pnlVknAraligi:{layoutConfig:{zindex:100},layout:\"CSC-BASIC-FORM\",labelPosition:\"left\",colCount:\"2\",title:\"VERGİ KİMLİK NUMARASI ARALIĞI\"},\"topluOnay.title\":{style:{width:\"395px\"},label:\"\",title:\"<span style=\\\"font-weight: bold; color: rgb(0, 0, 0); font-family: 'Arial Black';\\\">Belgeleri Toplu Geri Göndermek İstediğinize Emin Misiniz?<\/span>\",fontWeight:\"normal\",tips:\"\"},mbtnilk25sec:{buttonType:\"css/bc-style/img/minibutton/check.png\",label:\"İLK 15 KAYDI SEÇ\"},panel4:{layout:\"CSC-BASIC-FORM\"},\"pEtebligatBelgeDetay.tblUpload\":{style:{width:\"350px\"}},btnSorgula:{title:\"SORGULA\"},zarfOid:{layoutConfig:{filter:false,ftype:\"eq\",cellAlign:\"inherited\",vertAlign:\"inherited\",columnWidth:\"10\",fpath:\"\"}},seperator1:{size:\"20\"},pEtebligatBelgeDetay:{layoutConfig:{minWidth:\"\"}},popupDokumanDuzenle:{layoutConfig:{zindex:100}},accordion:{layoutConfig:{zindex:100}},srgBelgeDurum:{filterProp:\"GENEL\"},panelVergiDairesi:{layoutConfig:{zindex:100},layout:\"CSC-BASIC-FORM\"},orgOid:{layoutConfig:{filter:false,ftype:\"eq\",cellAlign:\"inherited\",vertAlign:\"inherited\",columnWidth:\"10\",fpath:\"\"}},pEtebligatDokumanDetay:{title:\"DOKÜMAN EKLE DETAYLARI\"},mbtnDokumanEkle:{layoutConfig:{filter:false,cellAlign:\"inherited\",ftype:\"eq\",vertAlign:\"inherited\",columnWidth:\"\",fpath:\"\"},visible:false,buttonType:\"css/bc-style/img/add1.png\",disabled:false,title:\"DOKÜMAN GÖRÜNTÜLE\"},\"pEtebligatBelgeDetay.mbtnDosyaSil\":{visible:false},\"pEtebligatBelgeDetay.uploader\":{visible:false},dokumanVeEkGoster:{style:{width:\"\",height:\"\"}},\"pEtebligatDokumanDetay.mbtnDosyaSil\":{visible:false},rgVergiNoTCKNUnvan:{layoutConfig:{zindex:100},title:\"VERGİ NO - TC KİMLİK NO\"},\"pEtebligatBelgeDetay.tebligatEkTuru\":{readonly:true},\"dokumanVeEkGoster.popup\":{style:{width:\"700\"}},popupAciklama:{layoutConfig:{zindex:100},isGlobal:true,style:{width:\"700px\"}},pnlBelgeSorgu:{layout:\"CSC-BASIC-FORM\",titleType:\"window\",title:\"BELGE BİLGİLERİ\"},mukBelgeTuru:{readonly:true,label:\"BELGE TÜRÜ\"},tblSonuc:{selectable:true,page:true,title:\"\",rowApp:\"zebra\",selectall:true,pageNum:\"30\",rownumbers:true},btnImzalaServis:{title:\"SEÇİLENLERİ İMZALA VE TEBLİĞ ET\"},popupDokuman:{layoutConfig:{zindex:100},isGlobal:true,style:{width:\"900\",height:\"600\"}},mtnSecimKaldir:{buttonType:\"css/bc-style/img/delete1.png\",label:\"SEÇİMİ KALDIR\"},tcKimlikNo:{layoutConfig:{filter:true,ftype:\"like\",cellAlign:\"inherited\",vertAlign:\"inherited\",columnWidth:\"10\",fpath:\"\",sortable:true}},btnGeriGonder:{title:\"TOPLU GERİ GÖNDER\"},unvan:{layoutConfig:{filter:false,ftype:\"like\",sortable:false}},mbtnBelgeGoster:{label:\"BELGE\"},topluOnay:{style:{width:\"450px\",height:\"100px\"}},belgeNo:{layoutConfig:{filter:true,ftype:\"like\",sortable:true}},tabpanel:{layoutConfig:{zindex:100},tabPlacement:\"top\"},panel:{layout:\"CSC-HORIZONTAL\",style:{textAlign:\"center\"}},popupOnay:{layoutConfig:{zindex:100},isGlobal:true,style:{width:\"450px\",height:\"100px\"}},durum:{layoutConfig:{filter:true,ftype:\"cmb\",sortable:true}},hazirlayanMemur:{layoutConfig:{filter:false,ftype:\"eq\",cellAlign:\"inherited\",vertAlign:\"inherited\",columnWidth:\"10\",fpath:\"\"},visible:false,label:\"HAZIRLAYAN MEMUR\"},mbtnAciklamaEkle:{buttonType:\"css/bc-style/img/add1.png\",label:\"EK BİLGİ\"},mukOrgOid:{readonly:true,valueField:\"orgOid\"},\"topluOnay.panel1\":{style:{width:\"300\",height:\"50\"}},vknbit:{label:\"VERGİ NO BİTİŞ\"},vknbas:{label:\"VERGİ NO BAŞLANGIÇ\"},hashValue:{layoutConfig:{filter:false,ftype:\"eq\",cellAlign:\"inherited\",vertAlign:\"inherited\",columnWidth:\"10\",fpath:\"\"}},belgeTuru:{layoutConfig:{filter:true,ftype:\"cmb\",sortable:true},label:\"BELGE TÜRÜ\"},imzasizPdfOptime:{layoutConfig:{filter:true,ftype:\"like\",sortable:true},label:\"HAZIRLANMA TARİHİ\"},\"pEtebligatBelgeDetay.btnTekrarDuzenlenecek\":{visible:true},pnlSorgu:{title:\"SORGULAMA\"},\"rgVergiNoTCKNUnvan.vdKodu\":{visible:false},mukBelgeDurum:{readonly:true},btnTemizle:{title:\"TEMİZLE\"}},validation:{}};this.Business=function(){var CURRENT_PAGE=null;var tabSayisi=0;var toplamTab=0;var seciliTab=\"\";var tabpanel=null;var pnlSorgu=null;var panelVergiDairesi=null;var vergiDaireleri=null;var accordion=null;var rgVergiNoTCKNUnvan=null;var pnlVknAraligi=null;var vknbas=null;var vknbit=null;var pnlBelgeSorgu=null;var srgBelgeNo=null;var srgBelgeDurum=null;var srgBelgeTuru=null;var pnlButon=null;var btnSorgula=null;var btnTemizle=null;var pnlSonuc=null;var pnlBilgi=null;var mukOrgOid=null;var mukvkn=null;var mukBelgeNo=null;var mukBelgeTuru=null;var mukBelgeDurum=null;var panel2=null;var mukVknBas=null;var mukVknBit=null;var seperator=null;var pnlTablo=null;var seperator1=null;var panel1=null;var panel3=null;var mbtnilk25sec=null;var panel4=null;var mtnSecimKaldir=null;var tblSonuc=null;var vergiNo=null;var tcKimlikNo=null;var unvan=null;var orgOid=null;var belgeTuru=null;var durum=null;var belgeNo=null;var mbtnBelgeGoster=null;var hazirlayanMemur=null;var imzasizPdfOptime=null;var mbtnAciklamaEkle=null;var mbtnDokumanEkle=null;var oid=null;var dizin=null;var hashValue=null;var zarfOid=null;var panel=null;var btnImzalaServis=null;var btnGeriGonder=null;var popupAciklama=null;var pEtebligatBelgeDetay=null;var popupDokuman=null;var dokumanVeEkGoster=null;var popupOnay=null;var topluOnay=null;var popupDokumanDuzenle=null;var pEtebligatDokumanDetay=null;this.$$oc=function(n,i){window.z=i;eval(n+\"=window.z;\")};this.$$destroy=function(){tabpanel=null;pnlSorgu=null;panelVergiDairesi=null;vergiDaireleri=null;accordion=null;rgVergiNoTCKNUnvan=null;pnlVknAraligi=null;vknbas=null;vknbit=null;pnlBelgeSorgu=null;srgBelgeNo=null;srgBelgeDurum=null;srgBelgeTuru=null;pnlButon=null;btnSorgula=null;btnTemizle=null;pnlSonuc=null;pnlBilgi=null;mukOrgOid=null;mukvkn=null;mukBelgeNo=null;mukBelgeTuru=null;mukBelgeDurum=null;panel2=null;mukVknBas=null;mukVknBit=null;seperator=null;pnlTablo=null;seperator1=null;panel1=null;panel3=null;mbtnilk25sec=null;panel4=null;mtnSecimKaldir=null;tblSonuc=null;vergiNo=null;tcKimlikNo=null;unvan=null;orgOid=null;belgeTuru=null;durum=null;belgeNo=null;mbtnBelgeGoster=null;hazirlayanMemur=null;imzasizPdfOptime=null;mbtnAciklamaEkle=null;mbtnDokumanEkle=null;oid=null;dizin=null;hashValue=null;zarfOid=null;panel=null;btnImzalaServis=null;btnGeriGonder=null;popupAciklama=null;pEtebligatBelgeDetay=null;popupDokuman=null;dokumanVeEkGoster=null;popupOnay=null;topluOnay=null;popupDokumanDuzenle=null;pEtebligatDokumanDetay=null};this.init=function(){tabpanel=BFEngine.get(\"tabpanel\",this);pnlSorgu=BFEngine.get(\"tabpanel.pnlSorgu\",this);panelVergiDairesi=BFEngine.get(\"tabpanel.pnlSorgu.panelVergiDairesi\",this);vergiDaireleri=BFEngine.get(\"tabpanel.pnlSorgu.panelVergiDairesi.vergiDaireleri\",this);accordion=BFEngine.get(\"tabpanel.pnlSorgu.accordion\",this);rgVergiNoTCKNUnvan=BFEngine.get(\"tabpanel.pnlSorgu.accordion.rgVergiNoTCKNUnvan\",this);pnlVknAraligi=BFEngine.get(\"tabpanel.pnlSorgu.accordion.pnlVknAraligi\",this);vknbas=BFEngine.get(\"tabpanel.pnlSorgu.accordion.pnlVknAraligi.vknbas\",this);vknbit=BFEngine.get(\"tabpanel.pnlSorgu.accordion.pnlVknAraligi.vknbit\",this);pnlBelgeSorgu=BFEngine.get(\"tabpanel.pnlSorgu.pnlBelgeSorgu\",this);srgBelgeNo=BFEngine.get(\"tabpanel.pnlSorgu.pnlBelgeSorgu.srgBelgeNo\",this);srgBelgeDurum=BFEngine.get(\"tabpanel.pnlSorgu.pnlBelgeSorgu.srgBelgeDurum\",this);srgBelgeTuru=BFEngine.get(\"tabpanel.pnlSorgu.pnlBelgeSorgu.srgBelgeTuru\",this);pnlButon=BFEngine.get(\"tabpanel.pnlSorgu.pnlButon\",this);btnSorgula=BFEngine.get(\"tabpanel.pnlSorgu.pnlButon.btnSorgula\",this);btnTemizle=BFEngine.get(\"tabpanel.pnlSorgu.pnlButon.btnTemizle\",this);pnlSonuc=BFEngine.get(\"tabpanel.pnlSonuc\",this);pnlBilgi=BFEngine.get(\"tabpanel.pnlSonuc.pnlBilgi\",this);mukOrgOid=BFEngine.get(\"tabpanel.pnlSonuc.pnlBilgi.mukOrgOid\",this);mukvkn=BFEngine.get(\"tabpanel.pnlSonuc.pnlBilgi.mukvkn\",this);mukBelgeNo=BFEngine.get(\"tabpanel.pnlSonuc.pnlBilgi.mukBelgeNo\",this);mukBelgeTuru=BFEngine.get(\"tabpanel.pnlSonuc.pnlBilgi.mukBelgeTuru\",this);mukBelgeDurum=BFEngine.get(\"tabpanel.pnlSonuc.pnlBilgi.mukBelgeDurum\",this);panel2=BFEngine.get(\"tabpanel.pnlSonuc.pnlBilgi.panel2\",this);mukVknBas=BFEngine.get(\"tabpanel.pnlSonuc.pnlBilgi.panel2.mukVknBas\",this);mukVknBit=BFEngine.get(\"tabpanel.pnlSonuc.pnlBilgi.panel2.mukVknBit\",this);seperator=BFEngine.get(\"tabpanel.pnlSonuc.seperator\",this);pnlTablo=BFEngine.get(\"tabpanel.pnlSonuc.pnlTablo\",this);seperator1=BFEngine.get(\"tabpanel.pnlSonuc.pnlTablo.seperator1\",this);panel1=BFEngine.get(\"tabpanel.pnlSonuc.pnlTablo.panel1\",this);panel3=BFEngine.get(\"tabpanel.pnlSonuc.pnlTablo.panel1.panel3\",this);mbtnilk25sec=BFEngine.get(\"tabpanel.pnlSonuc.pnlTablo.panel1.panel3.mbtnilk25sec\",this);panel4=BFEngine.get(\"tabpanel.pnlSonuc.pnlTablo.panel1.panel4\",this);mtnSecimKaldir=BFEngine.get(\"tabpanel.pnlSonuc.pnlTablo.panel1.panel4.mtnSecimKaldir\",this);tblSonuc=BFEngine.get(\"tabpanel.pnlSonuc.pnlTablo.tblSonuc\",this);vergiNo=BFEngine.get(\"tabpanel.pnlSonuc.pnlTablo.tblSonuc.vergiNo\",this);tcKimlikNo=BFEngine.get(\"tabpanel.pnlSonuc.pnlTablo.tblSonuc.tcKimlikNo\",this);unvan=BFEngine.get(\"tabpanel.pnlSonuc.pnlTablo.tblSonuc.unvan\",this);orgOid=BFEngine.get(\"tabpanel.pnlSonuc.pnlTablo.tblSonuc.orgOid\",this);belgeTuru=BFEngine.get(\"tabpanel.pnlSonuc.pnlTablo.tblSonuc.belgeTuru\",this);durum=BFEngine.get(\"tabpanel.pnlSonuc.pnlTablo.tblSonuc.durum\",this);belgeNo=BFEngine.get(\"tabpanel.pnlSonuc.pnlTablo.tblSonuc.belgeNo\",this);mbtnBelgeGoster=BFEngine.get(\"tabpanel.pnlSonuc.pnlTablo.tblSonuc.mbtnBelgeGoster\",this);hazirlayanMemur=BFEngine.get(\"tabpanel.pnlSonuc.pnlTablo.tblSonuc.hazirlayanMemur\",this);imzasizPdfOptime=BFEngine.get(\"tabpanel.pnlSonuc.pnlTablo.tblSonuc.imzasizPdfOptime\",this);mbtnAciklamaEkle=BFEngine.get(\"tabpanel.pnlSonuc.pnlTablo.tblSonuc.mbtnAciklamaEkle\",this);mbtnDokumanEkle=BFEngine.get(\"tabpanel.pnlSonuc.pnlTablo.tblSonuc.mbtnDokumanEkle\",this);oid=BFEngine.get(\"tabpanel.pnlSonuc.pnlTablo.tblSonuc.oid\",this);dizin=BFEngine.get(\"tabpanel.pnlSonuc.pnlTablo.tblSonuc.dizin\",this);hashValue=BFEngine.get(\"tabpanel.pnlSonuc.pnlTablo.tblSonuc.hashValue\",this);zarfOid=BFEngine.get(\"tabpanel.pnlSonuc.pnlTablo.tblSonuc.zarfOid\",this);panel=BFEngine.get(\"tabpanel.pnlSonuc.panel\",this);btnImzalaServis=BFEngine.get(\"tabpanel.pnlSonuc.panel.btnImzalaServis\",this);btnGeriGonder=BFEngine.get(\"tabpanel.pnlSonuc.panel.btnGeriGonder\",this);popupAciklama=BFEngine.get(\"popupAciklama\",this);pEtebligatBelgeDetay=BFEngine.get(\"popupAciklama.pEtebligatBelgeDetay\",this);popupDokuman=BFEngine.get(\"popupDokuman\",this);dokumanVeEkGoster=BFEngine.get(\"popupDokuman.dokumanVeEkGoster\",this);popupOnay=BFEngine.get(\"popupOnay\",this);topluOnay=BFEngine.get(\"popupOnay.topluOnay\",this);popupDokumanDuzenle=BFEngine.get(\"popupDokumanDuzenle\",this);pEtebligatDokumanDetay=BFEngine.get(\"popupDokumanDuzenle.pEtebligatDokumanDetay\",this);accordion.on(\"tabSelected\",this,function(component,selectedTab,tabname){BFEngine.a();try{switch(tabname){case\"pnlVknAraligi\":rgVergiNoTCKNUnvan.clear();break;case\"rgVergiNoTCKNUnvan\":pnlVknAraligi.clear();break}}finally{BFEngine.r()}},101);BFEngine.addDynamicEvent(this,\"tabpanel.pnlSonuc.panel.btnGeriGonder\",\"selected\",function(component){BFEngine.a();try{var rows=tabpanel.getTabByName(seciliTab).pnlTablo.tblSonuc.getSelectedRows();if(rows.length<=0){CSPopupUTILS.MessageBox(\"Lütfen kayıt seçiniz.\")}else{popupOnay.open()}}finally{BFEngine.r()}},102);BFEngine.addDynamicEvent(this,\"tabpanel.pnlSonuc.panel.btnImzalaServis\",\"selected\",function(component){BFEngine.a();try{;var rows=tabpanel.getTabByName(seciliTab).pnlTablo.tblSonuc.getSelectedRows();if(rows.length<=0){CSPopupUTILS.MessageBox(\"Lütfen kayıt seçiniz.\")}else{if(rows.length>0&&rows.length<=15){var dataIds=[];var dataHashes=[];var orgoid=tabpanel.getTabByName(seciliTab).pnlBilgi.mukOrgOid.getValue();var vd=tabpanel.getTabByName(seciliTab).pnlBilgi.mukOrgOid.getText();var data=\"\";var tebligeGonderilecek={kayitlar:[]};for(var i=0;i<rows.length;i++){var vknTckn=\"\";var unvan=rows[i].getValue(\"unvan\");unvan=unvan.replace(/[&\\/\\\\#,+()$~%.'\":*?<>{}]/g,\"\");dataIds.push(rows[i].getValue(\"oid\")+\"`a`\"+rows[i].getValue(\"zarfOid\")+\"`a`\"+rows[i].getValue(\"vergiNo\")+\"`a`\"+unvan+\"`a`\"+rows[i].getValue(\"belgeNo\")+\"`a`\"+rows[i].getValue(\"tcKimlikNo\")+\"`a`\"+rows[i].getText(\"belgeTuru\")+\"`a`\"+rows[i].getValue(\"belgeTuru\")+\"`a`\"+rows[i].getValue(\"hashValue\"));dataHashes.push(rows[i].getValue(\"hashValue\"));data+=rows[i].getValue(\"oid\")+\"`a`\"+rows[i].getValue(\"zarfOid\")+\"`a`\"+rows[i].getValue(\"vergiNo\")+\"`a`\"+unvan+\"`a`\"+rows[i].getValue(\"belgeNo\")+\"`a`\"+rows[i].getValue(\"tcKimlikNo\")+\"`a`\"+rows[i].getText(\"belgeTuru\")+\"`a`\"+rows[i].getValue(\"belgeTuru\")+\"`e`\"+rows[i].getValue(\"hashValue\")+\"`n`\";if(rows[i].getValue(\"vergiNo\").length===10){vknTckn=rows[i].getValue(\"vergiNo\")}else{vknTckn=rows[i].getValue(\"tcKimlikNo\")}}var signParams={dokumanOids:dataIds,downloadUrl:SideModuleManager.getFullAppUrl(\"etebligat\",\"dispatch?cmd=etebligatImzaServis_imzalanacakVerileriIndir\"),uploadUrl:SideModuleManager.getFullAppUrl(\"etebligat\",\"dispatch?cmd=etebligatImzaServis_imzaliVerileriYukle\"),orgOid:orgoid,vdAdi:vd,tokenParamName:\"token\",token:CSSession.getToken(),autoDetectSmartCardType:\"true\",progressBar:true,passwordTimeout:\"30\"};console.log(\"signParams: \"+signParams);var tablo=tabpanel.getTabByName(seciliTab).pnlTablo.tblSonuc;libETebligatToolsService.init(function(res){libETebligatToolsService.imzala(signParams,function(){tablo.deleteSelectedRows();if(tablo.getRows().length===0&&seciliTab!==undefined){tabpanel.closeTab(seciliTab)}},function(err){tablo.deleteSelectedRows()})},function(err){CSPopupUTILS.MessageBox(\"İmzalama işlemi sırasında bir hata oluştu.\")})}else{CSPopupUTILS.MessageBox(\"En fazla 15 kayıt seçebilirsiniz!\")}}}finally{BFEngine.r()}},103);btnSorgula.on(\"selected\",this,function(component){BFEngine.a();try{;var page=this;if(tabSayisi==10){CSPopupUTILS.MessageBox(\"Sorgulama için en fazla 10 sekme açılabilir!\");return}if((vknbas.getValue()!==\"\"&&vknbit.getValue()===\"\")||(vknbas.getValue()===\"\"&&vknbit.getValue()!==\"\")){CSPopupUTILS.MessageBox(\"Vergi no aralığı ile sorgulama yapılırken, VERGİ NO BAŞLANGIÇ ve VERGİ NO BİTİŞ alanlarının dolu olması gerekir!\")}var isvalid=pnlSorgu.isValid();if(!isvalid.success){var uyari=\"\";for(var i=0;i<isvalid.messages.length;i++){uyari+=isvalid.messages[i]+\"<\/br>\"}CSPopupUTILS.MessageBox(uyari);return}var v=rgVergiNoTCKNUnvan.vkn.getValue();var t=rgVergiNoTCKNUnvan.tckn.getValue();var ooid=vergiDaireleri.getValue();var bno=srgBelgeNo.getValue();var bturu=srgBelgeTuru.getValue();var bdurum=srgBelgeDurum.getValue();var arr=[];if(bdurum===\"\"||bdurum===undefined){for(var k=0;k<srgBelgeDurum.getOptions().length;k++){arr.push(srgBelgeDurum.getOptions()[k].value)}bdurum=arr}else{arr.push(srgBelgeDurum.getValue());bdurum=arr}var title=\"\";tabSayisi++;title=\"Sorgu \"+(++toplamTab);if(rgVergiNoTCKNUnvan.vkn.getValue()!==\"\"){title=\"VKN : \"+rgVergiNoTCKNUnvan.vkn.getValue()}else{if(srgBelgeNo.getValue()!==\"\"){title=\"Belge No : \"+srgBelgeNo.getValue()}else{if(srgBelgeTuru.getValue()!==\"\"){title=srgBelgeTuru.getText()}else{if(srgBelgeDurum.getValue()!==\"\"){title=srgBelgeDurum.getText()}}}}var oncekiTabName=tabpanel.getSelectedTabName();var seciliTab=libGIBIntraUtil.cloneToTab(tabpanel,\"pnlSonuc\",title);seciliTab.pnlTablo.tblSonuc.setDataSource(\"etebligatService_etebligatBelgeSorgulaImzaIcin\",{respKeyParam:\"list\",orgoid:ooid,vkn:v,tckn:t,belgoNo:bno,belgeDurumlari:bdurum,zarfDurumlari:[\"210\"],belgeTuru:bturu,baslangic:vknbas.getValue(),bitis:vknbit.getValue(),imzalanmaTarihi:\"\"},{progress:\"Lütfen Bekleyiniz\"},function(resp){seciliTab.mukvkn.setValue(rgVergiNoTCKNUnvan.vkn.getValue());seciliTab.mukOrgOid.setValue(vergiDaireleri.getValue());seciliTab.mukBelgeNo.setValue(srgBelgeNo.getValue());seciliTab.mukBelgeDurum.setValue(srgBelgeDurum.getValue());seciliTab.mukBelgeTuru.setValue(srgBelgeTuru.getValue());if(rgVergiNoTCKNUnvan.vkn.getValue()===\"\"){seciliTab.mukVknBas.setValue(vknbas.getValue());seciliTab.mukVknBit.setValue(vknbit.getValue())}},function(Err){CSPopupUTILS.MessageBox(Err[0].text);tabpanel.closeTab(seciliTab);tabpanel.selectTab(oncekiTabName);console.log(\"HATA:\",Err)});if(bturu===\"13\"||bturu===\"39\"){seciliTab.pnlTablo.tblSonuc.mbtnDokumanEkle.setVisible(true)}else{seciliTab.pnlTablo.tblSonuc.mbtnDokumanEkle.setVisible(false)}}finally{BFEngine.r()}},104);btnTemizle.on(\"selected\",this,function(component){BFEngine.a();try{this.alanlariTemizle()}finally{BFEngine.r()}},105);BFEngine.addDynamicEvent(this,\"tabpanel.pnlSonuc.pnlTablo.tblSonuc.mbtnAciklamaEkle\",\"selected\",function(component){BFEngine.a();try{;var page=this;pEtebligatBelgeDetay.alanlariTemizle();pEtebligatBelgeDetay.aciklama.setReadonly(false);var bdurumu=currentRow.getValue(\"belgeDurum\");var oid=currentRow.getValue(\"oid\");var tur=currentRow.getValue(\"belgeTuru\");var bno=currentRow.getValue(\"belgeNo\");var dzn=currentRow.getValue(\"dizin\");var ooid=tabpanel.getTabByName(seciliTab).pnlBilgi.mukOrgOid.getValue();pEtebligatBelgeDetay.belgeNo.setValue(bno);pEtebligatBelgeDetay.belgeTuru.setValue(tur);pEtebligatBelgeDetay.oid.setValue(oid);pEtebligatBelgeDetay.orgoid.setValue(ooid);pEtebligatBelgeDetay.dizin.setValue(dzn);pEtebligatBelgeDetay.rowid.setValue(currentRow.getRowId());if(tur===\"66\"){pEtebligatBelgeDetay.tebligatEkTuru.setVisible(false)}else{pEtebligatBelgeDetay.tebligatEkTuru.setVisible(true)}libGIBIntraUtil.GIBIntraServiceCall(page,\"etebligatService_etebligatAciklamaGetir\",{oid:oid},function(resp){console.log(resp);if(resp.zarfBilgi.hasOwnProperty(\"zarf\")){pEtebligatBelgeDetay.zarfoid.setValue(resp.zarfBilgi.zarfoid);pEtebligatBelgeDetay.oid.setValue(resp.zarfBilgi.belgeoid);pEtebligatBelgeDetay.konu.setValue(resp.zarfBilgi.konu);pEtebligatBelgeDetay.aciklama.setValue(resp.zarfBilgi.aciklama);pEtebligatBelgeDetay.aciklamaEski.setValue(resp.zarfBilgi.aciklama)}if(resp.hasOwnProperty(\"dosyalar\")){pEtebligatBelgeDetay.tblUpload.add(resp.dosyalar)}popupAciklama.open()},function(Err){console.log(\"HATA:\",Err)})}finally{BFEngine.r()}},106);BFEngine.addDynamicEvent(this,\"tabpanel.pnlSonuc.pnlTablo.tblSonuc.mbtnBelgeGoster\",\"selected\",function(component){BFEngine.a();try{;var url;var dizin=currentRow.getValue(\"dizin\");var params=\"\";var dfsteMi=false;url=SideModuleManager.getAppUrl(\"etebligat\",\"islem\");params=\"?oid=\"+currentRow.getValue(\"oid\")+\"&dosyaismi=\"+currentRow.getValue(\"oid\")+\"&uzanti=pdf&tur=teblig&belgeTuru=tebligat&cmd=s3&islem=view&token=\"+encodeURIComponent(CSSession.getToken())+\"&userId=\"+CSSession.getUserId();dokumanVeEkGoster.eFlexpdf.setFlexConfig({url:url,PDFFile:params});popupDokuman.open();dokumanVeEkGoster.ekleriGetir(currentRow.getValue(\"oid\"));dokumanVeEkGoster.setDfsteMi(dfsteMi)}finally{BFEngine.r()}},107);BFEngine.addDynamicEvent(this,\"tabpanel.pnlSonuc.pnlTablo.tblSonuc.mbtnDokumanEkle\",\"selected\",function(component){BFEngine.a();try{;var page=this;popupDokumanDuzenle.clear();var bdurumu=currentRow.getValue(\"durum\");var oid=currentRow.getValue(\"oid\");var tur=currentRow.getValue(\"belgeTuru\");var bno=currentRow.getValue(\"belgeNo\");var dzn=currentRow.getValue(\"dizin\");var ooid=tabpanel.getTabByName(seciliTab).pnlBilgi.mukOrgOid.getValue();var turText=currentRow.getText(\"belgeTuru\");var vdtext=currentRow.getText(\"orgOid\");pEtebligatDokumanDetay.aciklama.setReadonly(true);pEtebligatDokumanDetay.belgeNo.setValue(bno);pEtebligatDokumanDetay.belgeTuru.setValue(tur);pEtebligatDokumanDetay.oid.setValue(oid);pEtebligatDokumanDetay.orgoid.setValue(ooid);pEtebligatDokumanDetay.dizin.setValue(dzn);pEtebligatDokumanDetay.rowid.setValue(currentRow.getRowId());libGIBIntraUtil.GIBIntraServiceCall(page,\"etebligatService_etebligatDokumanGetir\",{oid:oid},function(resp){;if(resp.zarfBilgi.hasOwnProperty(\"zarf\")){pEtebligatDokumanDetay.zarfoid.setValue(resp.zarfBilgi.zarfoid);pEtebligatDokumanDetay.oid.setValue(resp.zarfBilgi.belgeoid);pEtebligatDokumanDetay.konu.setValue(resp.zarfBilgi.konu);pEtebligatDokumanDetay.aciklama.setValue(resp.zarfBilgi.aciklama);pEtebligatDokumanDetay.aciklamaEski.setValue(resp.zarfBilgi.aciklama)}else{pEtebligatDokumanDetay.konu.setValue(vdtext);pEtebligatDokumanDetay.aciklama.setValue(bno+\" numaralı \"+turText);pEtebligatDokumanDetay.aciklamaEski.setValue(bno+\" numaralı \"+turText)}if(resp.hasOwnProperty(\"dosyalar\")){pEtebligatDokumanDetay.tblUpload.add(resp.dosyalar)}popupDokumanDuzenle.open()},function(Err){console.log(\"HATA:\",Err)})}finally{BFEngine.r()}},108);BFEngine.addDynamicEvent(this,\"tabpanel.pnlSonuc.pnlTablo.panel1.panel3.mbtnilk25sec\",\"selected\",function(component){BFEngine.a();try{;var tablo=tabpanel.getTabByName(tabpanel.getSelectedTabName()).pnlTablo.tblSonuc;var orgOid=tabpanel.getTabByName(tabpanel.getSelectedTabName()).pnlBilgi.mukOrgOid.getValue();var belgeTuru=tabpanel.getTabByName(tabpanel.getSelectedTabName()).pnlBilgi.mukBelgeTuru.getValue();var satirlar=tablo.getRows();var belgeNoList=[];var oidList=[];var zarfOidList=[];tablo.selectAll(false);var toplamSatir=satirlar.length>15?15:satirlar.length;for(var i=0;i<toplamSatir;i++){satirlar[i].select(true);belgeNoList.push(satirlar[i].getValue(\"belgeNo\"));oidList.push(satirlar[i].getValue(\"oid\"));zarfOidList.push(satirlar[i].getValue(\"zarfOid\"))}libGIBIntraUtil.GIBIntraServiceCall(this,\"etebligatService_etebligatIptalKontrolCoklu\",{orgOid:orgOid,belgeTuru:belgeTuru,belgeNoList:belgeNoList,oidList:oidList,zarfOidList:zarfOidList},function(resp){if(resp===true){pnlButon.btnSorgula.fire(\"selected\");CSPopupUTILS.MessageBox(\"Seçilen kayıtlar arasında iptal durumundaki belgeler çıkartılarak yeniden sorgulama yapıldı! \")}},function(Err){CSPopupUTILS.MessageBox(Err[0].text);console.log(\"HATA:\",Err)})}finally{BFEngine.r()}},109);BFEngine.addDynamicEvent(this,\"tabpanel.pnlSonuc.pnlTablo.panel1.panel4.mtnSecimKaldir\",\"selected\",function(component){BFEngine.a();try{var tablo=tabpanel.getTabByName(tabpanel.getSelectedTabName()).pnlTablo.tblSonuc;tablo.selectAll(false)}finally{BFEngine.r()}},110);pEtebligatBelgeDetay.btnIptal.on(\"selected\",this,function(component){BFEngine.a();try{popupAciklama.close()}finally{BFEngine.r()}},111);pEtebligatBelgeDetay.btnTekrarDuzenlenecek.on(\"selected\",this,function(component){BFEngine.a();try{;var isvalid=pEtebligatBelgeDetay.pnlAciklama.isValid();if(!isvalid.success){var uyari=\"\";for(var i=0;i<isvalid.messages.length;i++){uyari+=isvalid.messages[i]+\"<\/br>\"}CSPopupUTILS.MessageBox(uyari);return}var belgeOid=pEtebligatBelgeDetay.oid.getValue();var zarfOid=pEtebligatBelgeDetay.zarfoid.getValue();var konu=pEtebligatBelgeDetay.konu.getValue();var aciklama=pEtebligatBelgeDetay.aciklama.getValue();var aciklamaEski=pEtebligatBelgeDetay.aciklamaEski.getValue();if(pEtebligatBelgeDetay.aciklamaEski.getValue()!==pEtebligatBelgeDetay.aciklama.getValue()){CSPopupUTILS.Confirm(\"Açıklama eklediniz.Devam etmek ister misiniz?\",function(response){if(response===\"yes\"){aciklamaEkle(belgeOid,zarfOid,konu,aciklama)}else{popupAciklama.close()}})}else{aciklamaEkle(belgeOid,zarfOid,konu,aciklamaEski)}}finally{BFEngine.r()}},112);pEtebligatDokumanDetay.btnIptal.on(\"selected\",this,function(component){BFEngine.a();try{popupDokumanDuzenle.close()}finally{BFEngine.r()}},113);popupAciklama.on(\"onclose\",this,function(component){BFEngine.a();try{pEtebligatBelgeDetay.alanlariTemizle()}finally{BFEngine.r()}},114);tabpanel.on(\"tabClosed\",this,function(component,tabName,businessName){BFEngine.a();try{tabSayisi--}finally{BFEngine.r()}},115);tabpanel.on(\"tabSelected\",this,function(component,selectedTab,tabname){BFEngine.a();try{seciliTab=tabpanel.getSelectedTabName()}finally{BFEngine.r()}},116);BFEngine.addDynamicEvent(this,\"tabpanel.pnlSonuc.pnlTablo.tblSonuc\",\"rowselected\",function(component,row,select){BFEngine.a();try{}finally{BFEngine.r()}},117);this.on(\"oninit\",this,function(component,param){BFEngine.a();try{libSILALoader.load()}finally{BFEngine.r()}},118);this.on(\"onload\",this,function(component){BFEngine.a();try{;CURRENT_PAGE=this;srgBelgeDurum.filter(\"filterKey\",\"T\")}finally{BFEngine.r()}},119);topluOnay.buton.on(\"selected\",this,function(component){BFEngine.a();try{var rows=tabpanel.getTabByName(seciliTab).pnlTablo.tblSonuc.getSelectedRows();var dataIds=[];var dataHashes=[];var orgoid=tabpanel.getTabByName(seciliTab).pnlBilgi.mukOrgOid.getValue();var vd=tabpanel.getTabByName(seciliTab).pnlBilgi.mukOrgOid.getText();var vdtext=tabpanel.getTabByName(seciliTab).pnlBilgi.mukOrgOid.getText(\"orgOid\");var data=\"\";var tebligeGonderilecek={kayitlar:[]};for(var i=0;i<rows.length;i++){var vknTckn=\"\";var unvan=rows[i].getValue(\"unvan\");unvan=unvan.replace(/[&\\/\\\\#,+()$~%.'\":*?<>{}]/g,\"\");dataIds.push(rows[i].getValue(\"oid\")+\"`a`\"+rows[i].getValue(\"zarfOid\")+\"`a`\"+rows[i].getValue(\"vergiNo\")+\"`a`\"+unvan+\"`a`\"+rows[i].getValue(\"belgeNo\")+\"`a`\"+rows[i].getValue(\"tcKimlikNo\")+\"`a`\"+rows[i].getText(\"belgeTuru\")+\"`a`\"+rows[i].getValue(\"belgeTuru\"));dataHashes.push(rows[i].getValue(\"hashValue\"));data+=rows[i].getValue(\"oid\")+\"`a`\"+rows[i].getValue(\"zarfOid\")+\"`a`\"+rows[i].getValue(\"vergiNo\")+\"`a`\"+unvan+\"`a`\"+rows[i].getValue(\"belgeNo\")+\"`a`\"+rows[i].getValue(\"tcKimlikNo\")+\"`a`\"+rows[i].getText(\"belgeTuru\")+\"`a`\"+rows[i].getValue(\"belgeTuru\")+\"`e`\"+rows[i].getValue(\"hashValue\")+\"`n`\";if(rows[i].getValue(\"vergiNo\").length===10){vknTckn=rows[i].getValue(\"vergiNo\")}else{vknTckn=rows[i].getValue(\"tcKimlikNo\")};geriAciklamaEkle(rows[i].getValue(\"oid\"),rows[i].getValue(\"zarfOid\"),vdtext,rows[i].getValue(\"belgeNo\")+\" No'lu ODEME EMRI \")}imzalancakBelgeSorgula(this)}finally{BFEngine.r()}},120);topluOnay.buton1.on(\"selected\",this,function(component){BFEngine.a();try{popupOnay.close()}finally{BFEngine.r()}},121);this.alanlariTemizle=function(){BFEngine.a();try{vergiDaireleri.clear();rgVergiNoTCKNUnvan.vkn.clear();rgVergiNoTCKNUnvan.tckn.clear();rgVergiNoTCKNUnvan.unvan.clear();srgBelgeNo.clear();srgBelgeDurum.clear();srgBelgeTuru.clear();vknbas.clear();vknbit.clear();tabpanel.closeAllTabs();seciliTab=\"\";tabSayisi=0;toplamTab=0}finally{BFEngine.r()}};var aciklamaEkle=function(belgeOid,zarfOid,konu,aciklama){BFEngine.a();try{;var belgeOid=belgeOid;var zarfOid=zarfOid;var konu=konu;var aciklama=aciklama;libGIBIntraUtil.GIBIntraServiceCall(CURRENT_PAGE,\"etebligatService_etebligatTekrarDuzenle\",{belgeOid:belgeOid,zarfOid:zarfOid,konu:konu,aciklama:aciklama},function(resp){;tabpanel.getTabByName(seciliTab).pnlTablo.tblSonuc.deleteRow(pEtebligatBelgeDetay.rowid.getValue());CSPopupUTILS.MessageBox(resp.mesaj);popupAciklama.close()},function(Err){console.log(\"HATA:\",Err)})}finally{BFEngine.r()}};var imzalancakBelgeSorgula=function(seciliTab){BFEngine.a();try{;var page=this;if((vknbas.getValue()!==\"\"&&vknbit.getValue()===\"\")||(vknbas.getValue()===\"\"&&vknbit.getValue()!==\"\")){CSPopupUTILS.MessageBox(\"Vergi no aralığı ile sorgulama yapılırken, VERGİ NO BAŞLANGIÇ ve VERGİ NO BİTİŞ alanlarının dolu olması gerekir!\")}var isvalid=pnlSorgu.isValid();if(!isvalid.success){var uyari=\"\";for(var i=0;i<isvalid.messages.length;i++){uyari+=isvalid.messages[i]+\"<\/br>\"}CSPopupUTILS.MessageBox(uyari);return}var v=rgVergiNoTCKNUnvan.vkn.getValue();var t=rgVergiNoTCKNUnvan.tckn.getValue();var ooid=vergiDaireleri.getValue();var bno=srgBelgeNo.getValue();var bturu=srgBelgeTuru.getValue();var bdurum=srgBelgeDurum.getValue();var arr=[];if(bdurum===\"\"||bdurum===undefined){for(var k=0;k<srgBelgeDurum.getOptions().length;k++){arr.push(srgBelgeDurum.getOptions()[k].value)}bdurum=arr}else{arr.push(srgBelgeDurum.getValue());bdurum=arr}var oncekiTabName=tabpanel.getSelectedTabName();var seciliTab=seciliTab;seciliTab.pnlTablo.tblSonuc.setDataSource(\"etebligatService_etebligatBelgeSorgula\",{respKeyParam:\"list\",orgoid:ooid,vkn:v,tckn:t,belgoNo:bno,belgeDurumlari:bdurum,zarfDurumlari:[\"210\"],belgeTuru:bturu,baslangic:vknbas.getValue(),bitis:vknbit.getValue(),imzalanmaTarihi:\"\"},{progress:\"Lütfen Bekleyiniz\"},function(resp){seciliTab.mukvkn.setValue(rgVergiNoTCKNUnvan.vkn.getValue());seciliTab.mukOrgOid.setValue(vergiDaireleri.getValue());seciliTab.mukBelgeNo.setValue(srgBelgeNo.getValue());seciliTab.mukBelgeDurum.setValue(srgBelgeDurum.getValue());seciliTab.mukBelgeTuru.setValue(srgBelgeTuru.getValue());if(rgVergiNoTCKNUnvan.vkn.getValue()===\"\"){seciliTab.mukVknBas.setValue(vknbas.getValue());seciliTab.mukVknBit.setValue(vknbit.getValue())}seciliTab.pnlTablo.tblSonuc.deleteSelectedRows();popupOnay.close();CSPopupUTILS.MessageBox(\"Tebligatlar memura başarıyla gönderilmiştir.\")},function(Err){seciliTab.pnlTablo.tblSonuc.deleteSelectedRows();CSPopupUTILS.MessageBox(Err[0].text);tabpanel.closeTab(seciliTab);tabpanel.selectTab(oncekiTabName);console.log(\"HATA:\",Err);popupOnay.close();CSPopupUTILS.MessageBox(\"Tebligatlar memura başarıyla gönderilmiştir.\")})}finally{BFEngine.r()}};var geriAciklamaEkle=function(belgeOid,zarfOid,konu,aciklama){BFEngine.a();try{;var belgeOid=belgeOid;var zarfOid=zarfOid;var konu=konu;var aciklama=aciklama;libGIBIntraUtil.GIBIntraServiceCall(CURRENT_PAGE,\"etebligatService_etebligatTekrarDuzenle\",{belgeOid:belgeOid,zarfOid:zarfOid,konu:konu,aciklama:aciklama},function(resp){;tabpanel.getTabByName(seciliTab).pnlTablo.tblSonuc.deleteRow(pEtebligatBelgeDetay.rowid.getValue());popupAciklama.close()},function(Err){console.log(\"HATA:\",Err)})}finally{BFEngine.r()}}}}}BFEngine.register(\"P_ETEBLIGAT_IMZALANACAK_IN\",new Definition())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={mtnSecimKaldir:\"MINIBUTTON\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-VERTICAL\",style:{\"min-width\":\"50px\"}};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2564\",new a())})(window);\n(function(window,undefined){function Definition(){this.VERSION=\"1\";this.BC_REF=\"CSC-TEXTAREA\";this.EVENTS=[];this.METHODS=[];this.SCR={layoutConfig:{},visible:true,readonly:false,labelPosition:\"inherited\",style:{},disabled:false,label:\"E Aciklama\",defaultName:\"eAciklama\",validation:{}};this.Business=function(){this.$$oc=function(n,i){window.z=i;eval(n+\"=window.z;\")};this.$$destroy=function(){};this.init=function(){}}}BFEngine.register(\"E_ACIKLAMA\",new Definition())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={vergiDaireleri:\"E_VERGI_DAIRELERI\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-VERTICAL\",style:{\"min-width\":\"50px\"}};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2565\",new a())})(window);\n(function(window,undefined){function Definition(){this.VERSION=\"1\";this.MEMBERS={eFlexpdf:\"E_FLEXPDF\"};this.EVENTS=[];this.METHODS=[];this.SCR={layoutConfig:{},layout:\"CSC-HORIZONTAL\",border:true,visible:true,readonly:false,style:{width:\"\",height:\"\"},disabled:false,memberConfig:{dosya:{layoutConfig:{filter:false,cellAlign:\"inherited\",ftype:\"eq\",vertAlign:\"inherited\",columnWidth:\"10\",fpath:\"\"},style:{width:\"280\"}},eFlexpdf:{pdfFile:\"\",urlPrefix:\"\",style:{width:\"800\",height:\"700\"},showLink:false,url:\"\"}},title:\"Dokuman\",defaultName:\"rDokuman\",validation:{}};this.Business=function(){var CURRENT_PAGE=null;var eFlexpdf=null;this.$$oc=function(n,i){window.z=i;eval(n+\"=window.z;\")};this.$$destroy=function(){eFlexpdf=null};this.init=function(){eFlexpdf=BFEngine.get(\"eFlexpdf\",this);this.on(\"oninit\",this,function(component,param){BFEngine.a();try{CURRENT_PAGE=this}finally{BFEngine.r()}},34)}}}BFEngine.register(\"R_DOKUMAN_GOSTER\",new Definition())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={dokumanVeEkGoster:\"R_DOKUMAN_VE_EK_GOSTER\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-POPUP\"};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2566\",new a())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={topluOnay:\"R_TOPLU_ONAY\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-POPUP\"};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2567\",new a())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={pnlDosyaBilgi:\"GEN_PNL$$2447\",seperator:\"SEPERATOR\",tblUpload:\"GEN_PNL$$2448\",seperator2:\"SEPERATOR\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-VERTICAL\",style:{\"min-width\":\"50px\"}};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2446\",new a())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={rgVergiNoTCKNUnvan:\"R_GINT_VKN_TCKN_UNVAN_VDKODU_THKOLANDHL\",pnlVknAraligi:\"GEN_PNL$$2559\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-ACCORDION\"};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2560\",new a())})(window);\n(function(window,undefined){function Definition(){this.VERSION=\"1\";this.BC_REF=\"CSC-DYN-COMBOBOX\";this.EVENTS=[];this.METHODS=[];this.SCR={layoutConfig:{},appRefData:\"RF_ETEBLIGAT_DURUM\",visible:true,readonly:false,labelPosition:\"inherited\",style:{},disabled:false,label:\"BELGE DURUM\",valueField:\"kodu\",defaultName:\"eBelgeDurum\",validation:{},textField:\"aciklama\"};this.Business=function(){this.$$oc=function(n,i){window.z=i;eval(n+\"=window.z;\")};this.$$destroy=function(){};this.init=function(){}}}BFEngine.register(\"E_BELGE_DURUM_CMB\",new Definition())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={mukVknBas:\"E_VERGINO_MF\",mukVknBit:\"E_VERGINO_MF\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-VERTICAL\",style:{\"min-width\":\"50px\"}};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2561\",new a())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={panel3:\"GEN_PNL$$2563\",panel4:\"GEN_PNL$$2564\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-VERTICAL\",style:{\"min-width\":\"50px\"}};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2562\",new a())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={mbtnilk25sec:\"MINIBUTTON\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-VERTICAL\",style:{\"min-width\":\"50px\"}};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2563\",new a())})(window);\n(function(window,undefined){function Definition(){this.VERSION=\"1\";this.BC_REF=\"CSC-SEPERATOR\";this.EVENTS=[];this.METHODS=[];this.SCR={};this.Business=function(){this.$$oc=function(n,i){window.z=i;eval(n+\"=window.z;\")};this.$$destroy=function(){};this.init=function(){}}}BFEngine.register(\"SEPERATOR\",new Definition())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={oid:\"HIDDEN\",zarfoid:\"HIDDEN\",orgoid:\"HIDDEN\",dizin:\"HIDDEN\",rowid:\"HIDDEN\",belgeNo:\"E_BELGE_NO\",belgeTuru:\"E_TEBLIGAT_TURU\",uploader:\"E_UPLOADER\",tebligatEkTuru:\"E_TEBLIGAT_EK_TURU\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-VERTICAL\",style:{\"min-width\":\"50px\"}};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2447\",new a())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={pEtebligatDokumanDetay:\"P_ETEBLIGAT_DOKUMAN_DETAY\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-POPUP\"};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2568\",new a())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={mbtnIndir:\"MINIBUTTON\",dosya:\"E_DOSYA_ADI\",mbtnDosyaSil:\"MINIBUTTON\",yeni:\"HIDDEN\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-TABLE\"};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2448\",new a())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={uyari:\"TITLE\",konu:\"E_KONU\",aciklamaEski:\"HIDDEN\",aciklama:\"E_ACIKLAMA\",pnlButon:\"GEN_PNL$$2450\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-VERTICAL\",style:{\"min-width\":\"50px\"}};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2449\",new a())})(window);\n(function(window,undefined){function Definition(){this.VERSION=\"1\";this.BC_REF=\"CSC-COMBOBOX\";this.EVENTS=[];this.METHODS=[];this.SCR={layoutConfig:{},appRefData:\"RF_ETEBLIGAT_VERGI_DAIRELERI\",visible:true,readonly:false,labelPosition:\"inherited\",style:{width:\"200px\"},disabled:false,label:\"VERGİ DAİRESİ\",valueField:\"vdKodu\",defaultName:\"vdKoduCmb\",validation:{},textField:\"vdAdi\"};this.Business=function(){this.$$oc=function(n,i){window.z=i;eval(n+\"=window.z;\")};this.$$destroy=function(){};this.init=function(){}}}BFEngine.register(\"E_VERGI_DAIRESI_CMB\",new Definition())})(window);\n(function(window,undefined){function Definition(){this.VERSION=\"1\";this.MEMBERS={pnl:\"GEN_PNL$$2507\",seperator1:\"SEPERATOR\",pnlAciklama:\"GEN_PNL$$2509\",popupDokuman:\"GEN_PNL$$2510\"};this.EVENTS=[];this.METHODS=[\"alanlariTemizle\"];this.SCR={layoutConfig:{},layout:\"CSC-PAGE\",border:true,visible:true,readonly:false,style:{},disabled:false,memberConfig:{rDokuman:{style:{width:\"800\",height:\"600\"}},mbtnDosyaSil:{layoutConfig:{filter:false,cellAlign:\"center\",ftype:\"eq\",vertAlign:\"inherited\",columnWidth:\"10\",fpath:\"\"},buttonType:\"css/bc-style/img/delete.png\",style:{width:\"\"},label:\"SİL\"},popupDokuman:{layoutConfig:{zindex:100}},pnlButon:{layout:\"CSC-HORIZONTAL\"},rDokuman1:{style:{width:\"800\",height:\"600\"}},aciklama:{readonly:true,maxlength:\"512\",style:{width:\"500\",height:\"150\"},label:\"AÇIKLAMA\",validation:{req:true}},belgeNo:{readonly:true},uploader:{label:\"DOSYA YÜKLEME\"},aciklamaEski:{layoutConfig:{zindex:100}},konu:{readonly:true,style:{width:\"500\"},label:\"KONU\",maxLength:\"255\",validation:{req:true}},seperator1:{size:\"20\"},seperator2:{size:\"10\"},uyari:{visible:false,title:\"<span style=\\\"font-weight: bold; color: rgb(255, 0, 0); background-color: rgb(255, 255, 255); font-family: 'Arial Black';\\\">TEKRAR DÜZENLENECEK<\/span>\"},table:{nodata:\"Dosya Eklenmedi..\"},tblUpload:{layoutConfig:{zindex:100},style:{width:\"\"},nodata:\"Dosya Eklenmedi..\",pageNum:\"5\"},pnlDosyaBilgi:{layout:\"CSC-BASIC-FORM\",label:\"\"},dosya:{layoutConfig:{filter:false,cellAlign:\"center\",ftype:\"eq\",vertAlign:\"inherited\",columnWidth:\"10\",fpath:\"\"},style:{width:\"\"},label:\"DOSYA ADI\"},btnIptal:{title:\"KAYDET VE ÇIK\"},belgeTuru:{readonly:true,label:\"BELGE TÜRÜ\"},mbtnIndir:{layoutConfig:{filter:false,ftype:\"eq\",cellAlign:\"center\",vertAlign:\"inherited\",columnWidth:\"10\",fpath:\"\"},buttonType:\"css/bc-style/img/download-blue.png\",style:{width:\"\"},label:\"İNDİR\"},pnl:{layoutConfig:{zindex:100},layout:\"CSC-HORIZONTAL\",title:\"\"},pnlAciklama:{layoutConfig:{zindex:100},layout:\"CSC-BASIC-FORM\"},btnTekrarDuzenlenecek:{visible:false,title:\"GERİ GÖNDER\"},seperator:{size:\"50\"},yeni:{layoutConfig:{filter:false,cellAlign:\"inherited\",ftype:\"eq\",vertAlign:\"inherited\",columnWidth:\"10\",fpath:\"\"}}},validation:{}};this.Business=function(){var CURRENT_PAGE=null;var pnl=null;var pnlDosyaBilgi=null;var oid=null;var zarfoid=null;var orgoid=null;var dizin=null;var rowid=null;var belgeNo=null;var belgeTuru=null;var uploader=null;var seperator=null;var tblUpload=null;var mbtnIndir=null;var dosya=null;var mbtnDosyaSil=null;var yeni=null;var seperator2=null;var seperator1=null;var pnlAciklama=null;var uyari=null;var konu=null;var aciklamaEski=null;var aciklama=null;var pnlButon=null;var btnTekrarDuzenlenecek=null;var btnIptal=null;var popupDokuman=null;var rDokuman=null;this.$$oc=function(n,i){window.z=i;eval(n+\"=window.z;\")};this.$$destroy=function(){pnl=null;pnlDosyaBilgi=null;oid=null;zarfoid=null;orgoid=null;dizin=null;rowid=null;belgeNo=null;belgeTuru=null;uploader=null;seperator=null;tblUpload=null;mbtnIndir=null;dosya=null;mbtnDosyaSil=null;yeni=null;seperator2=null;seperator1=null;pnlAciklama=null;uyari=null;konu=null;aciklamaEski=null;aciklama=null;pnlButon=null;btnTekrarDuzenlenecek=null;btnIptal=null;popupDokuman=null;rDokuman=null};this.init=function(){pnl=BFEngine.get(\"pnl\",this);pnlDosyaBilgi=BFEngine.get(\"pnl.pnlDosyaBilgi\",this);oid=BFEngine.get(\"pnl.pnlDosyaBilgi.oid\",this);zarfoid=BFEngine.get(\"pnl.pnlDosyaBilgi.zarfoid\",this);orgoid=BFEngine.get(\"pnl.pnlDosyaBilgi.orgoid\",this);dizin=BFEngine.get(\"pnl.pnlDosyaBilgi.dizin\",this);rowid=BFEngine.get(\"pnl.pnlDosyaBilgi.rowid\",this);belgeNo=BFEngine.get(\"pnl.pnlDosyaBilgi.belgeNo\",this);belgeTuru=BFEngine.get(\"pnl.pnlDosyaBilgi.belgeTuru\",this);uploader=BFEngine.get(\"pnl.pnlDosyaBilgi.uploader\",this);seperator=BFEngine.get(\"pnl.seperator\",this);tblUpload=BFEngine.get(\"pnl.tblUpload\",this);mbtnIndir=BFEngine.get(\"pnl.tblUpload.mbtnIndir\",this);dosya=BFEngine.get(\"pnl.tblUpload.dosya\",this);mbtnDosyaSil=BFEngine.get(\"pnl.tblUpload.mbtnDosyaSil\",this);yeni=BFEngine.get(\"pnl.tblUpload.yeni\",this);seperator2=BFEngine.get(\"pnl.seperator2\",this);seperator1=BFEngine.get(\"seperator1\",this);pnlAciklama=BFEngine.get(\"pnlAciklama\",this);uyari=BFEngine.get(\"pnlAciklama.uyari\",this);konu=BFEngine.get(\"pnlAciklama.konu\",this);aciklamaEski=BFEngine.get(\"pnlAciklama.aciklamaEski\",this);aciklama=BFEngine.get(\"pnlAciklama.aciklama\",this);pnlButon=BFEngine.get(\"pnlAciklama.pnlButon\",this);btnTekrarDuzenlenecek=BFEngine.get(\"pnlAciklama.pnlButon.btnTekrarDuzenlenecek\",this);btnIptal=BFEngine.get(\"pnlAciklama.pnlButon.btnIptal\",this);popupDokuman=BFEngine.get(\"popupDokuman\",this);rDokuman=BFEngine.get(\"popupDokuman.rDokuman\",this);btnIptal.on(\"selected\",this,function(component){BFEngine.a();try{}finally{BFEngine.r()}},82);mbtnDosyaSil.on(\"selected\",this,function(component){BFEngine.a();try{;var dosyaAdi=currentRow.getValue(\"dosya\");var bno=belgeNo.getValue();var boid=oid.getValue();libGIBIntraUtil.GIBIntraServiceCall(this,\"etebligatService_dokumanSil\",{belgeoid:boid,dosyaAdi:dosyaAdi},function(resp){;CSPopupUTILS.MessageBox(bno+\" numaralı tebliğ edilecek belge için ek dosya silindi !\");if(resp.mesaj){tblUpload.deleteRow(currentRow.getRowId())}},function(err){CSPopupUTILS.MessageBox(err[0].text);console.log(\"HATA:\",err)})}finally{BFEngine.r()}},83);mbtnIndir.on(\"selected\",this,function(component){BFEngine.a();try{;var oid=this.oid.getValue();var dizin=this.dizin.getValue();var dosya=currentRow.getValue(\"dosya\");var dosyaismi=dosya.split(\".\")[0];var uzanti=dosya.split(\".\")[1];var params=\"\";var url;if(uzanti.toUpperCase()===\"PDF\"){url=SideModuleManager.getAppUrl(\"etebligat\",\"islem\");params=\"?dosyaismi=\"+dosyaismi+\"&uzanti=\"+uzanti+\"&oid=\"+oid+\"&cmd=getEk&islem=view&token=\"+encodeURIComponent(CSSession.getToken(\"etebligat\"))+\"&userId=\"+CSSession.getUserId()+\"&tur=teblig&belgeTuru=dokuman\";rDokuman.eFlexpdf.setFlexConfig({url:url,PDFFile:params});popupDokuman.open()}else{url=SideModuleManager.getAppUrl(\"etebligat\",\"islem\");SIDEUtil.downloadFile({cmd:\"downloadEk\",dosyaismi:dosyaismi,uzanti:uzanti,oid:oid,islem:\"download\",tur:\"teblig\",belgeTuru:\"dokuman\"},{url:url})}}finally{BFEngine.r()}},84);var alanlariTemizle=function(){BFEngine.a();try{oid.clear();orgoid.clear();zarfoid.clear();dizin.clear();rowid.clear();dosya.clear();belgeNo.clear();belgeTuru.clear();konu.clear();aciklama.clear();uyari.setVisible(false);tblUpload.clear()}finally{BFEngine.r()}}}}}BFEngine.register(\"P_ETEBLIGAT_DOKUMAN_DETAY\",new Definition())})(window);\n(function(window,undefined){function Definition(){this.VERSION=\"1\";this.BC_REF=\"CSC-CS-METIN\";this.EVENTS=[];this.METHODS=[];this.SCR={layoutConfig:{},visible:true,readonly:false,labelPosition:\"inherited\",style:{whiteSpace:\"normal\"},disabled:false,label:\"AÇIKLAMA\",defaultName:\"aciklama\",validation:{},sql:false};this.Business=function(){this.$$oc=function(n,i){window.z=i;eval(n+\"=window.z;\")};this.$$destroy=function(){};this.init=function(){}}}BFEngine.register(\"E_ACIKLAMA_TXX\",new Definition())})(window);\n(function(window,undefined){function Definition(){this.VERSION=\"1\";this.MEMBERS={tableheader:\"GEN_PNL$$2414\",tablerow2:\"GEN_PNL$$2417\"};this.EVENTS=[];this.METHODS=[];this.SCR={layoutConfig:{},layout:\"CSC-TABLE\",border:true,visible:true,readonly:false,style:{},disabled:false,memberConfig:{tablecell:{layoutConfig:{cellAlign:\"inherited\",vertAlign:\"inherited\",columnWidth:\"10\"},colSpan:\"2\",title:\"UYARI\"},tablerow2:{layoutConfig:{cellAlign:\"inherited\",vertAlign:\"inherited\",columnWidth:\"10\"}},tablerow1:{layoutConfig:{cellAlign:\"inherited\",vertAlign:\"inherited\",columnWidth:\"10\"}},tablecell1:{layoutConfig:{cellAlign:\"inherited\",vertAlign:\"inherited\",columnWidth:\"10\"},title:\"MESAJ\"},tablecell2:{layoutConfig:{cellAlign:\"inherited\",vertAlign:\"inherited\",columnWidth:\"10\"},title:\"VKN\"},vergino:{layoutConfig:{cellAlign:\"inherited\",vertAlign:\"inherited\",columnWidth:\"10\"}},mesaj:{layoutConfig:{cellAlign:\"inherited\",vertAlign:\"inherited\",columnWidth:\"10\"}},tableheader:{layoutConfig:{cellAlign:\"inherited\",vertAlign:\"inherited\",columnWidth:\"10\"}},tablerow:{layoutConfig:{cellAlign:\"inherited\",vertAlign:\"inherited\",columnWidth:\"10\"}}},title:\"R Sicil Hata Tablosu\",defaultName:\"rSicilHataTablosu\",validation:{}};this.Business=function(){var tableheader=null;var tablerow=null;var tablecell=null;var tablerow1=null;var tablecell1=null;var tablecell2=null;var tablerow2=null;var mesaj=null;var vergino=null;this.$$oc=function(n,i){window.z=i;eval(n+\"=window.z;\")};this.$$destroy=function(){tableheader=null;tablerow=null;tablecell=null;tablerow1=null;tablecell1=null;tablecell2=null;tablerow2=null;mesaj=null;vergino=null};this.init=function(){tableheader=BFEngine.get(\"tableheader\",this);tablerow=BFEngine.get(\"tableheader.tablerow\",this);tablecell=BFEngine.get(\"tableheader.tablerow.tablecell\",this);tablerow1=BFEngine.get(\"tableheader.tablerow1\",this);tablecell1=BFEngine.get(\"tableheader.tablerow1.tablecell1\",this);tablecell2=BFEngine.get(\"tableheader.tablerow1.tablecell2\",this);tablerow2=BFEngine.get(\"tablerow2\",this);mesaj=BFEngine.get(\"tablerow2.mesaj\",this);vergino=BFEngine.get(\"tablerow2.vergino\",this)}}}BFEngine.register(\"R_SICIL_HATA_TABLOSU\",new Definition())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={seperator1:\"SEPERATOR\",panel1:\"GEN_PNL$$2562\",tblSonuc:\"GEN_PNL$$2554\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-VERTICAL\",style:{\"min-width\":\"50px\"}};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2553\",new a())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={vergiNo:\"E_VERGINO_MF\",tcKimlikNo:\"E_TCKIMLIKNO_MF\",unvan:\"E_UNVAN_TX\",orgOid:\"E_VERGI_DAIRELERI\",belgeTuru:\"E_TEBLIGAT_TURU\",durum:\"E_BELGE_DURUM_CMB\",belgeNo:\"E_BELGE_NO\",mbtnBelgeGoster:\"MINIBUTTON\",hazirlayanMemur:\"E_TEXT\",imzasizPdfOptime:\"E_TARIH_DT\",mbtnAciklamaEkle:\"MINIBUTTON\",mbtnDokumanEkle:\"MINIBUTTON\",oid:\"HIDDEN\",dizin:\"HIDDEN\",hashValue:\"HIDDEN\",zarfOid:\"HIDDEN\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-TABLE\"};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2554\",new a())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={rDokuman:\"R_DOKUMAN_GOSTER\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-POPUP\"};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2510\",new a())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={srgBelgeNo:\"E_BELGE_NO\",srgBelgeDurum:\"E_BELGE_DURUM_CMB\",srgBelgeTuru:\"E_TEBLIGAT_TURU\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-VERTICAL\",style:{\"min-width\":\"50px\"}};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2555\",new a())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={eFlexpdf:\"E_FLEXPDF\",panelEkler:\"GEN_PNL$$2513\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-VERTICAL\",style:{\"min-width\":\"50px\"}};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2511\",new a())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={mukOrgOid:\"E_VERGI_DAIRESI_CMB\",mukvkn:\"E_VERGINO_MF\",mukBelgeNo:\"E_BELGE_NO\",mukBelgeTuru:\"E_TEBLIGAT_TURU\",mukBelgeDurum:\"E_BELGE_DURUM_CMB\",panel2:\"GEN_PNL$$2561\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-VERTICAL\",style:{\"min-width\":\"50px\"}};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2556\",new a())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={belgeOid:\"HIDDEN\",dosya:\"E_DOSYA_ADI\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-TABLE\"};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2512\",new a())})(window);\n(function(window,undefined){function Definition(){this.VERSION=\"1\";this.BC_REF=\"CSC-MINI-BUTTON\";this.EVENTS=[];this.METHODS=[];this.SCR={};this.Business=function(){this.$$oc=function(n,i){window.z=i;eval(n+\"=window.z;\")};this.$$destroy=function(){};this.init=function(){}}}BFEngine.register(\"MINIBUTTON\",new Definition())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={pnlBilgi:\"GEN_PNL$$2556\",seperator:\"SEPERATOR\",pnlTablo:\"GEN_PNL$$2553\",panel:\"GEN_PNL$$2549\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-VERTICAL\",style:{\"min-width\":\"50px\"}};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2550\",new a())})(window);\n(function(window,undefined){function Definition(){this.VERSION=\"1\";this.BC_REF=\"CSC-COMBOBOX\";this.EVENTS=[];this.METHODS=[];this.SCR={appRefData:\"RF_IHBARNAME_EK_TURU\",visible:true,focusable:\"true\",label:\"Ihbarname Ek Türü\",valueField:\"value\",textField:\"text\",layoutConfig:{},readonly:false,labelPosition:\"inherited\",style:{},disabled:false,defaultName:\"deneme\",validation:{}};this.Business=function(){this.$$oc=function(n,i){window.z=i;eval(n+\"=window.z;\")};this.$$destroy=function(){};this.init=function(){}}}BFEngine.register(\"E_TEBLIGAT_EK_TURU\",new Definition())})(window);\n(function(window,undefined){function Definition(){this.VERSION=\"1\";this.MEMBERS={panel:\"GEN_PNL$$2465\"};this.EVENTS=[];this.METHODS=[];this.SCR={border:true,collapsePos:\"right\",visible:true,wideContainer:false,showCloseIcon:false,memberConfig:{buton1:{title:\"Hayır\"},panel1:{layout:\"CSC-HORIZONTAL\",labelPosition:\"left\",style:{width:\"600\",height:\"150\"},label:\"\",conWidth:\"100px\",panelType:\"btnGroup\",itemsPlacement:\"equal\"},buton:{layoutConfig:{},title:\"Evet\"},panel:{layout:\"CSC-BASIC-FORM\",fix:\"90\",readonly:false,labelPosition:\"left\",style:{width:\"1000\",height:\"200\"},verAlign:\"top\",panelType:\"none\",itemsPlacement:\"balanced\"},title:{labelPosition:\"none\",style:{appearance:\"normal\",width:\"1000\"},title:\"<span style=\\\"font-weight: bold; color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); font-family: 'Arial Black';\\\">Belgeleri Toplu Geri Göndermek İstediğinize Emin Misiniz?<\/span>\"}},title:\"Toplu Onay\",layoutConfig:{},layout:\"CSC-BASIC-FORM\",readonly:false,style:{},disabled:false,defaultName:\"topluOnay\",validation:{}};this.Business=function(){var panel=null;var title=null;var panel1=null;var seperator=null;var buton=null;var buton1=null;this.$$oc=function(n,i){window.z=i;eval(n+\"=window.z;\")};this.$$destroy=function(){panel=null;title=null;panel1=null;seperator=null;buton=null;buton1=null};this.init=function(){panel=BFEngine.get(\"panel\",this);title=BFEngine.get(\"panel.title\",this);panel1=BFEngine.get(\"panel.panel1\",this);seperator=BFEngine.get(\"panel.panel1.seperator\",this);buton=BFEngine.get(\"panel.panel1.buton\",this);buton1=BFEngine.get(\"panel.panel1.buton1\",this)}}}BFEngine.register(\"R_TOPLU_ONAY\",new Definition())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={pnlSorgu:\"GEN_PNL$$2557\",pnlSonuc:\"#GEN_PNL$$2550\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-TAB-PANEL\"};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2551\",new a())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={btnSorgula:\"BUTON\",btnTemizle:\"BUTON\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-VERTICAL\",style:{\"min-width\":\"50px\"}};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2552\",new a())})(window);\n(function(window,undefined){function Definition(){this.VERSION=\"1\";this.BC_REF=\"CSC-CS-METIN\";this.EVENTS=[];this.METHODS=[];this.SCR={layoutConfig:{},visible:true,readonly:false,labelPosition:\"inherited\",style:{width:\"300\"},disabled:false,label:\"E Konu\",defaultName:\"eKonu\",validation:{}};this.Business=function(){this.$$oc=function(n,i){window.z=i;eval(n+\"=window.z;\")};this.$$destroy=function(){};this.init=function(){}}}BFEngine.register(\"E_KONU\",new Definition())})(window);\n(function(window,undefined){function Definition(){this.VERSION=\"1\";this.BC_REF=\"CSC-TARIH\";this.EVENTS=[];this.METHODS=[];this.SCR={layoutConfig:{},visible:true,readonly:false,labelPosition:\"inherited\",style:{},disabled:false,label:\"\",returnFormat:\"yyyymmdd\",defaultName:\"tarih\",validation:{}};this.Business=function(){this.$$oc=function(n,i){window.z=i;eval(n+\"=window.z;\")};this.$$destroy=function(){};this.init=function(){}}}BFEngine.register(\"E_TARIH_DT\",new Definition())})(window);\n(function(window,undefined){function Definition(){this.VERSION=\"1\";this.MEMBERS={panel:\"GEN_PNL$$2427\",rSicilHataTablosu:\"R_SICIL_HATA_TABLOSU\"};this.EVENTS=[];this.METHODS=[];this.SCR={layoutConfig:{},layout:\"CSC-VERTICAL\",border:true,visible:true,readonly:false,style:{},disabled:false,memberConfig:{rSicilHataTablosu:{visible:false},vdKodu:{style:{width:\"300px\"},disabled:true},panel:{layout:\"CSC-BASIC-FORM\"},unvan:{readonly:true,style:{width:\"300\"},disabled:false}},title:\"Vergi No - TC Kimlik No - AdSoyad-VDKodu\",defaultName:\"rgVergiNoTckimlikNoAdSoyadVDKodu\",validation:{}};this.Business=function(){var panel=null;var vkn=null;var tckn=null;var unvan=null;var vdKodu=null;var rSicilHataTablosu=null;this.$$oc=function(n,i){window.z=i;eval(n+\"=window.z;\")};this.$$destroy=function(){panel=null;vkn=null;tckn=null;unvan=null;vdKodu=null;rSicilHataTablosu=null};this.init=function(){panel=BFEngine.get(\"panel\",this);vkn=BFEngine.get(\"panel.vkn\",this);tckn=BFEngine.get(\"panel.tckn\",this);unvan=BFEngine.get(\"panel.unvan\",this);vdKodu=BFEngine.get(\"panel.vdKodu\",this);rSicilHataTablosu=BFEngine.get(\"rSicilHataTablosu\",this);tckn.on(\"changed\",this,function(component){BFEngine.a();try{vdKodu.setValue(\"\");var tckn=this.tckn.getValue();rSicilHataTablosu.clear();rSicilHataTablosu.setVisible(false);if(tckn.length==11){libGIBIntraUtil.GIBIntraServiceCall(this,\"sicilService_mukellefTcknVknBagliVDGetir\",{vknTckn:tckn},function(resp){vdKodu.setDisabled(false);vkn.setValue(resp.vergiNo);unvan.setValue(resp.kimlikUnvan);vdKodu.setOptions(resp.bagliVDler);if(resp.hataMesajlari!==undefined&&resp.hataMesajlari!==null&&resp.hataMesajlari.length>0){rSicilHataTablosu.setVisible(true);rSicilHataTablosu.add(resp.hataMesajlari)}})}else{vdKodu.clearOptions();tckn.setValue(\"\");vkn.setValue(\"\");unvan.setValue(\"\");vdKodu.setDisabled(true)}}finally{BFEngine.r()}},30);this.on(\"oninit\",this,function(component,param){BFEngine.a();try{this.vdKodu.clearOptions()}finally{BFEngine.r()}},31);this.on(\"onload\",this,function(component){BFEngine.a();try{var vergiNo=libGIBIntraUtil.getVkn();var tcKimlikNo=libGIBIntraUtil.getTckn();var vdKodlari=libGIBIntraUtil.getVDKodlariThkOlanlarDahil();if(vdKodlari.length>0&&(vergiNo.length===10||tcKimlikNo===11)){this.vdKodu.setDisabled(false);libGIBIntraUtil.loadVKNTCKVDKoduNUnvanThkOlanlarDahilRegion(vkn,tckn,vdKodu,unvan)}else{if(vergiNo.length===10||tcKimlikNo.length===11){var param=\"\";if(vergiNo.length===10){param=vergiNo}else{param=tcKimlikNo}var obj=this;libGIBIntraUtil.GIBIntraServiceCall(this,\"sicilService_mukellefTcknVknBagliVDGetirThkOlanlarDahil\",{vknTckn:param},function(resp){obj.vdKodu.setDisabled(false);obj.vkn.setValue(resp.vkn);obj.tckn.setValue(resp.tckn);obj.unvan.setValue(resp.unvan);obj.vdKodu.setOptions(resp.bagliVDler);libGIBIntraUtil.saveVKNTCKVDKoduNUnvanThkOlanlarDahilRegion(resp.vkn,resp.tckn,resp.bagliVDler,resp.unvan)},function(resp){obj.vdKodu.clearOptions();obj.vdKodu.setDisabled(true)})}}}finally{BFEngine.r()}},32);vkn.on(\"changed\",this,function(component){BFEngine.a();try{;vdKodu.setValue(\"\");rSicilHataTablosu.clear();rSicilHataTablosu.setVisible(false);var vergiNo=this.vkn.getValue();if(vergiNo.substring(0,3)===\"000\"){CSPopupUTILS.MessageBox(\"Özel İşlem Numarası ile sorgulama yapamazsınız.\");vdKodu.clearOptions();tckn.setValue(\"\");vkn.setValue(\"\");unvan.setValue(\"\");vdKodu.setDisabled(true);return false}if(vergiNo.length==10){libGIBIntraUtil.GIBIntraServiceCall(this,\"sicilService_mukellefTcknVknBagliVDGetir\",{vknTckn:vergiNo},function(resp){vdKodu.setDisabled(false);tckn.setValue(resp.mukellefNo);unvan.setValue(resp.kimlikUnvan);if(resp.hataMesajlari!==undefined&&resp.hataMesajlari!==null&&resp.hataMesajlari.length>0){rSicilHataTablosu.setVisible(true);rSicilHataTablosu.add(resp.hataMesajlari)}},function(Err){console.log(\"HATA:\",Err)})}else{vdKodu.clearOptions();tckn.setValue(\"\");vkn.setValue(\"\");unvan.setValue(\"\");vdKodu.setDisabled(true)}}finally{BFEngine.r()}},33)}}}BFEngine.register(\"R_GINT_VKN_TCKN_UNVAN_VDKODU_THKOLANDHL\",new Definition())})(window);\n(function(window,undefined){function Definition(){this.VERSION=\"1\";this.BC_REF=\"CSC-BUTTON\";this.EVENTS=[];this.METHODS=[];this.SCR={style:{\"min-width\":\"15px\"}};this.Business=function(){this.$$oc=function(n,i){window.z=i;eval(n+\"=window.z;\")};this.$$destroy=function(){};this.init=function(){}}}BFEngine.register(\"BUTON\",new Definition())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={tableEkler:\"GEN_PNL$$2512\",dokumanTable:\"GEN_PNL$$2515\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-VERTICAL\",style:{\"min-width\":\"50px\"}};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2513\",new a())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={panelVergiDairesi:\"GEN_PNL$$2565\",accordion:\"GEN_PNL$$2560\",pnlBelgeSorgu:\"GEN_PNL$$2555\",pnlButon:\"GEN_PNL$$2552\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-VERTICAL\",style:{\"min-width\":\"50px\"}};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2557\",new a())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={ekGoster:\"R_EK_GOSTER\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-POPUP\"};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2514\",new a())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={pEtebligatBelgeDetay:\"P_ETEBLIGAT_BELGE_DETAY\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-POPUP\"};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2558\",new a())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={vknbas:\"E_VERGINO_MF\",vknbit:\"E_VERGINO_MF\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-VERTICAL\",style:{\"min-width\":\"50px\"}};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2559\",new a())})(window);\n(function(b,c){function a(){this.VERSION=\"1\";this.NON_BUSINESS=true;this.MEMBERS={dokumanOid:\"HIDDEN\",dokumanDosyaAdi:\"E_DOSYA_ADI\"};this.EVENTS=[];this.METHODS=[];this.SCR={layout:\"CSC-TABLE\"};this.Business=function(){this.init=function(){}}}BFEngine.register(\"GEN_PNL$$2515\",new a())})(window);\n(function(window,undefined){function Definition(){this.VERSION=\"1\";this.BC_REF=\"CSC-CS-METIN\";this.EVENTS=[];this.METHODS=[];this.SCR={layoutConfig:{},visible:true,readonly:false,labelPosition:\"inherited\",style:{},disabled:false,label:\"E Text Fisno\",defaultName:\"eTextFisno\",validation:{}};this.Business=function(){this.$$oc=function(n,i){window.z=i;eval(n+\"=window.z;\")};this.$$destroy=function(){};this.init=function(){}}}BFEngine.register(\"E_TEXT\",new Definition())})(window);\nBFEngine.unmarkModule();\n"
    }
}


side-dispatch
fetch("http://keys.ggm.bim/sila/side-dispatch", {
  "headers": {
    "accept": "application/json, text/javascript, */*; q=0.01",
    "accept-language": "tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7"
  },
  "referrer": "http://keys.ggm.bim/etebligat/index.jsp?token=501091d0af143c0c39542712ca97265540e735f22ea710f860686727e9e17909783da6ba8d196caa7cf7f09b5083775792a6c7500bdfd39f94cebb65fb7c5ffa",
  "referrerPolicy": "strict-origin-when-cross-origin",
  "body": null,
  "method": "POST",
  "mode": "cors",
  "credentials": "omit"
});

yanıt
{"error":1,"messages":[{"text":"Geçersiz istek."}]}

side-dispatch
fetch("http://keys.ggm.bim/sila/side-dispatch", {
  "headers": {
    "accept": "application/json, text/javascript, */*; q=0.01",
    "accept-language": "tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7",
    "content-type": "application/x-www-form-urlencoded; charset=UTF-8"
  },
  "referrer": "http://keys.ggm.bim/etebligat/index.jsp?token=501091d0af143c0c39542712ca97265540e735f22ea710f860686727e9e17909783da6ba8d196caa7cf7f09b5083775792a6c7500bdfd39f94cebb65fb7c5ffa",
  "referrerPolicy": "strict-origin-when-cross-origin",
  "body": "cmd=SIDE.GET_MODULE_INFO&callid=f27f5bf56482d-7&token=501091d0af143c0c39542712ca97265540e735f22ea710f860686727e9e17909783da6ba8d196caa7cf7f09b5083775792a6c7500bdfd39f94cebb65fb7c5ffa&jp=%7B%22moduleName%22%3A%22sila%22%2C%22excludeList%22%3A%5B%22jquery%22%2C%22jquery-ui%22%2C%22jquery-ui-timepicker%22%2C%22ui.datepicker-tr%22%2C%22jquery.maskedinput%22%2C%22jquery-currency-autonumeric%22%2C%22underscore%22%2C%22tus%22%5D%2C%22lang%22%3A%22tr%22%7D",
  "method": "POST",
  "mode": "cors",
  "credentials": "omit"
});

yuk 
cmd: SIDE.GET_MODULE_INFO
callid: f27f5bf56482d-7
token: 501091d0af143c0c39542712ca97265540e735f22ea710f860686727e9e17909783da6ba8d196caa7cf7f09b5083775792a6c7500bdfd39f94cebb65fb7c5ffa
jp: {"moduleName":"sila","excludeList":["jquery","jquery-ui","jquery-ui-timepicker","ui.datepicker-tr","jquery.maskedinput","jquery-currency-autonumeric","underscore","tus"],"lang":"tr"}

yanıt
{
    "data": {
        "sideDefaults": "if(!window.SideDefaults){\n\tvar SideDefaults = {};\n}\nSideDefaults['sila'] = {};\nSideDefaults['sila']['support-side-im']=false;\nSideDefaults['sila']['sn-login']='login';\nSideDefaults['sila']['support-cors-filter']=true;\nSideDefaults['sila']['sn-logout']='logout';\nSideDefaults['sila']['side-export-dev-entry']=false;\nSideDefaults['sila']['param-token-key']='token';\nSideDefaults['sila']['param-global-popup']=false;\nSideDefaults['sila']['pg-relogin']='P_RE_LOGIN';\nSideDefaults['sila']['sn-getUserSessionInfo']='getUserSessionInfo';\nSideDefaults['sila']['support-dt-for-grid']=false;\nSideDefaults['sila']['ref-data-dependency-force-dependent-module-load']=true;\nSideDefaults['sila']['support-bind-components-and-rf-data']=false;\nSideDefaults['sila']['createSession-params']='';\nSideDefaults['sila']['support-test-screen-load-relogin']=true;\nSideDefaults['sila']['support-side-services']=true;\nSideDefaults['sila']['support-service-call-extra-params']=false;\nSideDefaults['sila']['content-security-policy-config']='';\nSideDefaults['sila']['show-errors-on-runtime-errors']=false;\nSideDefaults['sila']['createSession-sn']='';\nSideDefaults['sila']['support-side-gmap']=false;\nSideDefaults['sila']['MENU_LOCK_TIME']='1659705158711';\nSideDefaults['sila']['support-auto-focus']=false;\nSideDefaults['sila']['projectTheme']='gp';\nSideDefaults['sila']['createSession-auto']='';\nSideDefaults['sila']['service-caller-show-messages-notify']=false;\nSideDefaults['sila']['service-caller-show-sys-error-messages']=true;\nSideDefaults['sila']['call-logout-on-window-unload']=false;\nSideDefaults['sila']['sn-checkRefDataStatus']='';\nSideDefaults['sila']['support-tabular-hold-old-props']=true;\nSideDefaults['sila']['service-caller-show-messages']=false;\nSideDefaults['sila']['exportModuleName']='sila';\nSideDefaults['sila']['support-multilang']=true;\nSideDefaults['sila']['support-service-call-path']=false;\nSideDefaults['sila']['support-dt-for-table']=false;\nSideDefaults['sila']['createSession-session-params']='';\nSideDefaults['sila']['excelExport-send-appRefData']=false;\nSideDefaults['sila']['show-excel-export-errors']=false;\nSideDefaults['sila']['support-app-rf-data']=true;\nSideDefaults['sila']['support-changed-event-on-setvalue']=false;\nSideDefaults['sila']['excelExport-button-timeout']=0;\nSideDefaults['sila']['support-multi-page']=true;\nSideDefaults['sila']['param-login-page']='login.html?dl=e';\nSideDefaults['sila']['service-caller-show-messages-notify-timeout']=0;\nSideDefaults['sila']['sn-getCacheableRfDataInfo']='GET_CACHABLE_RF_DATA_INFO';\nSideDefaults['sila']['mask-page-on-runtime-errors']=false;\nSideDefaults['sila']['MENU_LOCK']='talat.arici';\nSideDefaults['sila']['service-caller-show-success-messages']=false;\nSideDefaults['sila']['createSession-auth-sn']='';\nSideDefaults['sila']['side-lib-prefix-control']=true;\n\n\n(function(window, undefined){\n if(!window.BCDefaults){ BCDefaults={};window.BCDefaults=BCDefaults;}\n BCDefaults[\"sila\"]={};\n\n BCDefaults.get = function(bcName, key, defvalue, module){\n \tif(!bcName || !key){ return defvalue; }\n \tif(!module){\n\t\tif(BCEngine && BCEngine.getRegisterModuleName){\n\t\t\tmodule = BCEngine.getRegisterModuleName();\t\t}\n\t\tif(!module && SideModuleManager){ module = SideModuleManager.getLocalModuleName(); }\n\t\tif(!module){ throw \"BCDefaults module name not found\";  }\n\t}\n \t// modul clone yapılmışsa\n\tvar sourceModule = SideModuleManager.getModules()[module].clonedFrom;\n\tif(sourceModule){\n\t\tmodule = sourceModule;\n\t}\n\tif(!BCDefaults[module][bcName]){ return defvalue; }\n \treturn BCDefaults[module][bcName][key];\n };\n})(window);\n",
        "moduleTheme": "gp",
        "refDataVersions": {},
        "style": "",
        "depList": [
            "nouislider"
        ],
        "version": 1675410835352,
        "script": "/*! noUiSlider - 7.0.10 - 2014-12-27 14:50:47 */\n\n!function(a){\"use strict\";function b(a,b){return Math.round(a/b)*b}function c(a){return\"number\"==typeof a&&!isNaN(a)&&isFinite(a)}function d(a){var b=Math.pow(10,7);return Number((Math.round(a*b)/b).toFixed(7))}function e(a,b,c){a.addClass(b),setTimeout(function(){a.removeClass(b)},c)}function f(a){return Math.max(Math.min(a,100),0)}function g(b){return a.isArray(b)?b:[b]}function h(a){var b=a.split(\".\");return b.length>1?b[1].length:0}function i(a,b){return 100/(b-a)}function j(a,b){return 100*b/(a[1]-a[0])}function k(a,b){return j(a,a[0]<0?b+Math.abs(a[0]):b-a[0])}function l(a,b){return b*(a[1]-a[0])/100+a[0]}function m(a,b){for(var c=1;a>=b[c];)c+=1;return c}function n(a,b,c){if(c>=a.slice(-1)[0])return 100;var d,e,f,g,h=m(c,a);return d=a[h-1],e=a[h],f=b[h-1],g=b[h],f+k([d,e],c)/i(f,g)}function o(a,b,c){if(c>=100)return a.slice(-1)[0];var d,e,f,g,h=m(c,b);return d=a[h-1],e=a[h],f=b[h-1],g=b[h],l([d,e],(c-f)*i(f,g))}function p(a,c,d,e){if(100===e)return e;var f,g,h=m(e,a);return d?(f=a[h-1],g=a[h],e-f>(g-f)/2?g:f):c[h-1]?a[h-1]+b(e-a[h-1],c[h-1]):e}function q(a,b,d){var e;if(\"number\"==typeof b&&(b=[b]),\"[object Array]\"!==Object.prototype.toString.call(b))throw new Error(\"noUiSlider: 'range' contains invalid value.\");if(e=\"min\"===a?0:\"max\"===a?100:parseFloat(a),!c(e)||!c(b[0]))throw new Error(\"noUiSlider: 'range' value isn't numeric.\");d.xPct.push(e),d.xVal.push(b[0]),e?d.xSteps.push(isNaN(b[1])?!1:b[1]):isNaN(b[1])||(d.xSteps[0]=b[1])}function r(a,b,c){return b?void(c.xSteps[a]=j([c.xVal[a],c.xVal[a+1]],b)/i(c.xPct[a],c.xPct[a+1])):!0}function s(a,b,c,d){this.xPct=[],this.xVal=[],this.xSteps=[d||!1],this.xNumSteps=[!1],this.snap=b,this.direction=c;var e,f=[];for(e in a)a.hasOwnProperty(e)&&f.push([a[e],e]);for(f.sort(function(a,b){return a[0]-b[0]}),e=0;e<f.length;e++)q(f[e][1],f[e][0],this);for(this.xNumSteps=this.xSteps.slice(0),e=0;e<this.xNumSteps.length;e++)r(e,this.xNumSteps[e],this)}function t(a,b){if(!c(b))throw new Error(\"noUiSlider: 'step' is not numeric.\");a.singleStep=b}function u(b,c){if(\"object\"!=typeof c||a.isArray(c))throw new Error(\"noUiSlider: 'range' is not an object.\");if(void 0===c.min||void 0===c.max)throw new Error(\"noUiSlider: Missing 'min' or 'max' in 'range'.\");b.spectrum=new s(c,b.snap,b.dir,b.singleStep)}function v(b,c){if(c=g(c),!a.isArray(c)||!c.length||c.length>2)throw new Error(\"noUiSlider: 'start' option is incorrect.\");b.handles=c.length,b.start=c}function w(a,b){if(a.snap=b,\"boolean\"!=typeof b)throw new Error(\"noUiSlider: 'snap' option must be a boolean.\")}function x(a,b){if(a.animate=b,\"boolean\"!=typeof b)throw new Error(\"noUiSlider: 'animate' option must be a boolean.\")}function y(a,b){if(\"lower\"===b&&1===a.handles)a.connect=1;else if(\"upper\"===b&&1===a.handles)a.connect=2;else if(b===!0&&2===a.handles)a.connect=3;else{if(b!==!1)throw new Error(\"noUiSlider: 'connect' option doesn't match handle count.\");a.connect=0}}function z(a,b){switch(b){case\"horizontal\":a.ort=0;break;case\"vertical\":a.ort=1;break;default:throw new Error(\"noUiSlider: 'orientation' option is invalid.\")}}function A(a,b){if(!c(b))throw new Error(\"noUiSlider: 'margin' option must be numeric.\");if(a.margin=a.spectrum.getMargin(b),!a.margin)throw new Error(\"noUiSlider: 'margin' option is only supported on linear sliders.\")}function B(a,b){if(!c(b))throw new Error(\"noUiSlider: 'limit' option must be numeric.\");if(a.limit=a.spectrum.getMargin(b),!a.limit)throw new Error(\"noUiSlider: 'limit' option is only supported on linear sliders.\")}function C(a,b){switch(b){case\"ltr\":a.dir=0;break;case\"rtl\":a.dir=1,a.connect=[0,2,1,3][a.connect];break;default:throw new Error(\"noUiSlider: 'direction' option was not recognized.\")}}function D(a,b){if(\"string\"!=typeof b)throw new Error(\"noUiSlider: 'behaviour' must be a string containing options.\");var c=b.indexOf(\"tap\")>=0,d=b.indexOf(\"drag\")>=0,e=b.indexOf(\"fixed\")>=0,f=b.indexOf(\"snap\")>=0;a.events={tap:c||f,drag:d,fixed:e,snap:f}}function E(a,b){if(a.format=b,\"function\"==typeof b.to&&\"function\"==typeof b.from)return!0;throw new Error(\"noUiSlider: 'format' requires 'to' and 'from' methods.\")}function F(b){var c,d={margin:0,limit:0,animate:!0,format:V};return c={step:{r:!1,t:t},start:{r:!0,t:v},connect:{r:!0,t:y},direction:{r:!0,t:C},snap:{r:!1,t:w},animate:{r:!1,t:x},range:{r:!0,t:u},orientation:{r:!1,t:z},margin:{r:!1,t:A},limit:{r:!1,t:B},behaviour:{r:!0,t:D},format:{r:!1,t:E}},b=a.extend({connect:!1,direction:\"ltr\",behaviour:\"tap\",orientation:\"horizontal\"},b),a.each(c,function(a,c){if(void 0===b[a]){if(c.r)throw new Error(\"noUiSlider: '\"+a+\"' is required.\");return!0}c.t(d,b[a])}),d.style=d.ort?\"top\":\"left\",d}function G(a,b,c){var d=a+b[0],e=a+b[1];return c?(0>d&&(e+=Math.abs(d)),e>100&&(d-=e-100),[f(d),f(e)]):[d,e]}function H(a){a.preventDefault();var b,c,d=0===a.type.indexOf(\"touch\"),e=0===a.type.indexOf(\"mouse\"),f=0===a.type.indexOf(\"pointer\"),g=a;return 0===a.type.indexOf(\"MSPointer\")&&(f=!0),a.originalEvent&&(a=a.originalEvent),d&&(b=a.changedTouches[0].pageX,c=a.changedTouches[0].pageY),(e||f)&&(f||void 0!==window.pageXOffset||(window.pageXOffset=document.documentElement.scrollLeft,window.pageYOffset=document.documentElement.scrollTop),b=a.clientX+window.pageXOffset,c=a.clientY+window.pageYOffset),g.points=[b,c],g.cursor=e,g}function I(b,c){var d=a(\"<div><div/><\/div>\").addClass(U[2]),e=[\"-lower\",\"-upper\"];return b&&e.reverse(),d.children().addClass(U[3]+\" \"+U[3]+e[c]),d}function J(a,b,c){switch(a){case 1:b.addClass(U[7]),c[0].addClass(U[6]);break;case 3:c[1].addClass(U[6]);case 2:c[0].addClass(U[7]);case 0:b.addClass(U[6])}}function K(a,b,c){var d,e=[];for(d=0;a>d;d+=1)e.push(I(b,d).appendTo(c));return e}function L(b,c,d){return d.addClass([U[0],U[8+b],U[4+c]].join(\" \")),a(\"<div/>\").appendTo(d).addClass(U[1])}function M(b,c,d){function i(){return C[[\"width\",\"height\"][c.ort]]()}function j(a){var b,c=[E.val()];for(b=0;b<a.length;b+=1)E.trigger(a[b],c)}function k(a){return 1===a.length?a[0]:c.dir?a.reverse():a}function l(a){return function(b,c){E.val([a?null:c,a?c:null],!0)}}function m(b){var c=a.inArray(b,N);E[0].linkAPI&&E[0].linkAPI[b]&&E[0].linkAPI[b].change(M[c],D[c].children(),E)}function n(b,d){var e=a.inArray(b,N);return d&&d.appendTo(D[e].children()),c.dir&&c.handles>1&&(e=1===e?0:1),l(e)}function o(){var a,b;for(a=0;a<N.length;a+=1)this.linkAPI&&this.linkAPI[b=N[a]]&&this.linkAPI[b].reconfirm(b)}function p(a,b,d,e){return a=a.replace(/\\s/g,S+\" \")+S,b.on(a,function(a){return E.attr(\"disabled\")?!1:E.hasClass(U[14])?!1:(a=H(a),a.calcPoint=a.points[c.ort],void d(a,e))})}function q(a,b){var c,d=b.handles||D,e=!1,f=100*(a.calcPoint-b.start)/i(),g=d[0][0]!==D[0][0]?1:0;c=G(f,b.positions,d.length>1),e=v(d[0],c[g],1===d.length),d.length>1&&(e=v(d[1],c[g?0:1],!1)||e),e&&j([\"slide\"])}function r(b){a(\".\"+U[15]).removeClass(U[15]),b.cursor&&a(\"body\").css(\"cursor\",\"\").off(S),Q.off(S),E.removeClass(U[12]),j([\"set\",\"change\"])}function s(b,c){1===c.handles.length&&c.handles[0].children().addClass(U[15]),b.stopPropagation(),p(T.move,Q,q,{start:b.calcPoint,handles:c.handles,positions:[F[0],F[D.length-1]]}),p(T.end,Q,r,null),b.cursor&&(a(\"body\").css(\"cursor\",a(b.target).css(\"cursor\")),D.length>1&&E.addClass(U[12]),a(\"body\").on(\"selectstart\"+S,!1))}function t(b){var d,f=b.calcPoint,g=0;b.stopPropagation(),a.each(D,function(){g+=this.offset()[c.style]}),g=g/2>f||1===D.length?0:1,f-=C.offset()[c.style],d=100*f/i(),c.events.snap||e(E,U[14],300),v(D[g],d),j([\"slide\",\"set\",\"change\"]),c.events.snap&&s(b,{handles:[D[g]]})}function u(a){var b,c;if(!a.fixed)for(b=0;b<D.length;b+=1)p(T.start,D[b].children(),s,{handles:[D[b]]});a.tap&&p(T.start,C,t,{handles:D}),a.drag&&(c=C.find(\".\"+U[7]).addClass(U[10]),a.fixed&&(c=c.add(C.children().not(c).children())),p(T.start,c,s,{handles:D}))}function v(a,b,d){var e=a[0]!==D[0][0]?1:0,g=F[0]+c.margin,h=F[1]-c.margin,i=F[0]+c.limit,j=F[1]-c.limit;return D.length>1&&(b=e?Math.max(b,g):Math.min(b,h)),d!==!1&&c.limit&&D.length>1&&(b=e?Math.min(b,i):Math.max(b,j)),b=I.getStep(b),b=f(parseFloat(b.toFixed(7))),b===F[e]?!1:(a.css(c.style,b+\"%\"),a.is(\":first-child\")&&a.toggleClass(U[17],b>50),F[e]=b,M[e]=I.fromStepping(b),m(N[e]),!0)}function w(a,b){var d,e,f;for(c.limit&&(a+=1),d=0;a>d;d+=1)e=d%2,f=b[e],null!==f&&f!==!1&&(\"number\"==typeof f&&(f=String(f)),f=c.format.from(f),(f===!1||isNaN(f)||v(D[e],I.toStepping(f),d===3-c.dir)===!1)&&m(N[e]))}function x(a){if(E[0].LinkIsEmitting)return this;var b,d=g(a);return c.dir&&c.handles>1&&d.reverse(),c.animate&&-1!==F[0]&&e(E,U[14],300),b=D.length>1?3:1,1===d.length&&(b=1),w(b,d),j([\"set\"]),this}function y(){var a,b=[];for(a=0;a<c.handles;a+=1)b[a]=c.format.to(M[a]);return k(b)}function z(){return a(this).off(S).removeClass(U.join(\" \")).empty(),delete this.LinkUpdate,delete this.LinkConfirm,delete this.LinkDefaultFormatter,delete this.LinkDefaultFlag,delete this.reappend,delete this.vGet,delete this.vSet,delete this.getCurrentStep,delete this.getInfo,delete this.destroy,d}function A(){var b=a.map(F,function(a,b){var c=I.getApplicableStep(a),d=h(String(c[2])),e=M[b],f=100===a?null:c[2],g=Number((e-c[2]).toFixed(d)),i=0===a?null:g>=c[1]?c[2]:c[0]||!1;return[[i,f]]});return k(b)}function B(){return d}var C,D,E=a(b),F=[-1,-1],I=c.spectrum,M=[],N=[\"lower\",\"upper\"].slice(0,c.handles);if(c.dir&&N.reverse(),b.LinkUpdate=m,b.LinkConfirm=n,b.LinkDefaultFormatter=c.format,b.LinkDefaultFlag=\"lower\",b.reappend=o,E.hasClass(U[0]))throw new Error(\"Slider was already initialized.\");C=L(c.dir,c.ort,E),D=K(c.handles,c.dir,C),J(c.connect,E,D),u(c.events),b.vSet=x,b.vGet=y,b.destroy=z,b.getCurrentStep=A,b.getOriginalOptions=B,b.getInfo=function(){return[I,c.style,c.ort]},E.val(c.start)}function N(a){var b=F(a,this);return this.each(function(){M(this,b,a)})}function O(b){return this.each(function(){if(!this.destroy)return void a(this).noUiSlider(b);var c=a(this).val(),d=this.destroy(),e=a.extend({},d,b);a(this).noUiSlider(e),this.reappend(),d.start===e.start&&a(this).val(c)})}function P(){return this[0][arguments.length?\"vSet\":\"vGet\"].apply(this[0],arguments)}var Q=a(document),R=a.fn.val,S=\".nui\",T=window.navigator.pointerEnabled?{start:\"pointerdown\",move:\"pointermove\",end:\"pointerup\"}:window.navigator.msPointerEnabled?{start:\"MSPointerDown\",move:\"MSPointerMove\",end:\"MSPointerUp\"}:{start:\"mousedown touchstart\",move:\"mousemove touchmove\",end:\"mouseup touchend\"},U=[\"noUi-target\",\"noUi-base\",\"noUi-origin\",\"noUi-handle\",\"noUi-horizontal\",\"noUi-vertical\",\"noUi-background\",\"noUi-connect\",\"noUi-ltr\",\"noUi-rtl\",\"noUi-dragable\",\"\",\"noUi-state-drag\",\"\",\"noUi-state-tap\",\"noUi-active\",\"\",\"noUi-stacking\"];s.prototype.getMargin=function(a){return 2===this.xPct.length?j(this.xVal,a):!1},s.prototype.toStepping=function(a){return a=n(this.xVal,this.xPct,a),this.direction&&(a=100-a),a},s.prototype.fromStepping=function(a){return this.direction&&(a=100-a),d(o(this.xVal,this.xPct,a))},s.prototype.getStep=function(a){return this.direction&&(a=100-a),a=p(this.xPct,this.xSteps,this.snap,a),this.direction&&(a=100-a),a},s.prototype.getApplicableStep=function(a){var b=m(a,this.xPct),c=100===a?2:1;return[this.xNumSteps[b-2],this.xVal[b-c],this.xNumSteps[b-c]]},s.prototype.convert=function(a){return this.getStep(this.toStepping(a))};var V={to:function(a){return a.toFixed(2)},from:Number};a.fn.val=function(b){function c(a){return a.hasClass(U[0])?P:R}if(!arguments.length){var d=a(this[0]);return c(d).call(d)}var e=a.isFunction(b);return this.each(function(d){var f=b,g=a(this);e&&(f=b.call(this,d,g.val())),c(g).call(g,f)})},a.fn.noUiSlider=function(a,b){switch(a){case\"step\":return this[0].getCurrentStep();case\"options\":return this[0].getOriginalOptions()}return(b?O:N).call(this,a)}}(window.jQuery||window.Zepto);\n\n",
        "moduleThemeCssUrl": "css/style/themes/gp/gp.css"
    }
}

side-user-lib-sıla.js?v=1675410835352

fetch("http://keys.ggm.bim/sila/js/cs/side-user-lib-sila.js?v=1675410835352", {
  "referrer": "http://keys.ggm.bim/etebligat/index.jsp?token=501091d0af143c0c39542712ca97265540e735f22ea710f860686727e9e17909783da6ba8d196caa7cf7f09b5083775792a6c7500bdfd39f94cebb65fb7c5ffa",
  "referrerPolicy": "strict-origin-when-cross-origin",
  "body": null,
  "method": "GET",
  "mode": "cors",
  "credentials": "omit"
});

yuk
v: 1675410835352

yanıt
if(!window.libUtilSliaScanner){ var libUtilSliaScanner={

    screen : null,
    page : null,
    
    setScreen : function (s) {
        this.screen = s;
    },

    pageDrag: function(page){
        debugger;
        this.page = page;
    },
    
    pageDrop: function(targetPage){
        debugger;
        this.screen.insertPage(this.page, targetPage);
        this.page = null;
    }
    
}; }else{ console.error("Project library conflict occured. lib:libUtilSliaScanner"); }

if(!window.libUtilSila){ var libUtilSila={
    isAppletSupported : undefined,
    isOnline : false,
    checkStatus : function(forAppName, success, error) {
        var url = libUtilSila.getAddress() + "?cmd=mainService_checkStatus";
        debugger;
        CSCaller.ajaxcall(url,null,{async: false, dataType: "html"},
            function(res){
                libUtilSila.isOnline = true;
                if(success) {
                    success(res);
                }
            },
            function(err){
                libUtilSila.isOnline = false;
                if(!libUtilSila.controlAppletSupported()) {
                    if(forAppName !== "STATUS") {
                        SIDENavigator.renderToPopup("sila.RG_TOOLS_STATUS",{global:true, oninit:function(ekr) {
                            ekr.setParameters(forAppName, false);
                        }});
                        if(success) {
                            success();
                        }                           
                    } else {
                         error(err);
                    }
                 
                } else if(error) {
                    error(err);
                }
            }
        );
    },
    checkStatusAndSubmit : function(appName, submit) {
        libUtilSila.checkStatus(appName, function(res) {
            if(res) {
                submit();
            }
        },null);
    },
    setParameters:function(params) {
        CSCaller.call("signerService_setParameters", params,{"url": libUtilSila.getAddress(), "module" : "sila"}).then(function(resp1){
    
        }).error(function(messages1){
             libUtilSila.displayMessages(messages1,1);
        });
    },
    etiketYazdir:function(etiketDataBase64, copy, width, height) {
        var etiketYazdirSubmit = function() {
            debugger;
            var pbar = CSPopupUTILS.ProgressBar("Lütfen bekleyiniz..");
            var params = {
                "etiketBase64" : etiketDataBase64,
                "copy" : copy,
                "labelWidth" : width,
                "labelHeight" : height,
                "isMulti" : false
            };

            CSCaller.call("labelService_printLabel",params , {"url": libUtilSila.getAddress(), "module" : "sila"} ).then(function(resp){
                SIDENavigator.notify("Etiket yazdırma işlemi tamamlandı.", {timeout: 10000});
                pbar.close();
            }).error(function(resp){
                if(resp.length == 1 && resp[0].text.indexOf("SELECT_LABEL_PRINTER") > -1) {
                    SIDENavigator.renderToPopup("sila.RG_SELECT_LABEL_PRINTER",{global:true, oninit:function(ekr) {
                        ekr.setParameters(etiketDataBase64, copy, width, height);
                        pbar.close();
                    }});
                } else {
                    pbar.close();
                    libUtilSila.displayMessages(resp, 1);
                }
            });

        };
        libUtilSila.checkStatusAndSubmit("Etiket Yazdırma", etiketYazdirSubmit);
    },  
    etiketYazdirCoklu:function(etiketDataBase64, copy, width, height) {
        var etiketYazdirSubmit = function() {
            debugger;
            var pbar = CSPopupUTILS.ProgressBar("Lütfen bekleyiniz..");
            var params = {
                "etiketBase64" : etiketDataBase64,
                "copy" : copy,
                "labelWidth" : width,
                "labelHeight" : height,
                "isMulti" : true
            };

            CSCaller.call("labelService_printLabel",params , {"url": libUtilSila.getAddress(), "module" : "sila"} ).then(function(resp){
                SIDENavigator.notify("Etiket yazdırma işlemi tamamlandı.", {timeout: 10000});
                pbar.close();
            }).error(function(resp){
                if(resp.length == 1 && resp[0].text.indexOf("SELECT_LABEL_PRINTER") > -1) {
                    SIDENavigator.renderToPopup("sila.RG_SELECT_LABEL_PRINTER",{global:true, oninit:function(ekr) {
                        ekr.setParametersAsMulti(etiketDataBase64, copy, width, height);
                        pbar.close();
                    }});
                } else {
                    pbar.close();
                    libUtilSila.displayMessages(resp, 1);
                }
            });

        };
        libUtilSila.checkStatusAndSubmit("Etiket Yazdırma", etiketYazdirSubmit);
    },
    yaziciSec:function() {
        SIDENavigator.renderToPopup("sila.RG_SELECT_LASER_PRINTER",{global:true, oninit:function(ekr) {
        }});
    },
    belgeYazdir:function(downloadUrl, copy) {
        var etiketYazdirSubmit = function() {
            debugger;
            var pbar = CSPopupUTILS.ProgressBar("Lütfen bekleyiniz..");
            var params = {
                "downloadUrl" : downloadUrl,
                "copy" : copy
            };

            CSCaller.call("laserService_print",params , {"url": libUtilSila.getAddress(), "module" : "sila"} ).then(function(resp){
                SIDENavigator.notify("Belge yazdırma işlemi tamamlandı.", {timeout: 10000});
                pbar.close();
            }).error(function(resp){
                if(resp.length == 1 && resp[0].text.indexOf("SELECT_LASER_PRINTER") > -1) {
                    SIDENavigator.renderToPopup("sila.RG_SELECT_LASER_PRINTER",{global:true, oninit:function(ekr) {
                        ekr.setParameters(downloadUrl, copy);
                        pbar.close();
                    }});
                } else {
                    pbar.close();
                    libUtilSila.displayMessages(resp, 1);
                }
            });

        };
        libUtilSila.checkStatusAndSubmit("Etiket Yazdırma", etiketYazdirSubmit);
    },      
    imzala : function(params, success, error) {
        var imzalaSubmit = function() {
            debugger;
            var pbar = null;
            var signParams = {};
            if(typeof params=== "string") {
                signParams = JSON.parse(params);
            } else {
                signParams = params;
            }
            if(signParams.progressBar) {
                pbar = CSPopupUTILS.ProgressBar("Lütfen bekleyiniz..");
            }
            CSCaller.call("signerService_imzala",signParams , {"url":libUtilSila.getAddress(), "module" : "sila"} ).then(function(resp,messages){
                if(pbar) {
                    pbar.close();
                }  
                if(success) {
                    success(resp);
                }
                if(messages){
                   libUtilSila.displayMessages(messages);
                }
                SIDENavigator.notify("İmzalama işlemi tamamlandı.", {timeout: 10000});
            }).error(function(resp){
                if(resp.length == 1 && resp[0].text.indexOf("SELECT_CERTIFICATE") > -1) {
                    SIDENavigator.renderToPopup("sila.RG_EIMZA",{global:true, width:395,resizable:false, oninit:function(ekr) {
                        debugger;
                        if(pbar) {
                            pbar.close();
                        }
                        ekr.setParameters(params, {"success" : success, "error" : error});
                    }});
                } else {
                    debugger;
                    if(pbar) {
                        pbar.close();
                    }
                    libUtilSila.displayMessages(resp, 1);
                    if(error) {
                        error(resp);
                    }
                }
            });
        };
        libUtilSila.checkStatusAndSubmit("E-İmza", imzalaSubmit);
        SIDENavigator.notify("İmzalama işlemi başladı.", {timeout: 5000});
    },
    getAddress : function () {
        return window.location.protocol + "//localhost:" + (window.location.protocol == "http:" ? "2023" : "2024") + "/";
    },
    displayMessages: function(messages, error) {
        if (messages === undefined) {
            return;
        }
        
        var errorMessage = "";
        for (var i=0; i<messages.length; i++) {
            if (i === 0 && error) {
                errorMessage = messages[i].text;
            }
            else {
                var type = "";
                var link = SideModuleManager.getResourceUrl("keys","sf/img/");
                if (messages[i].type === "1") {
                    type = "<img src='"+ link + "error.png' valign='middle' vspace='2' /> ";
                }
                else if (messages[i].type === "2") {
                    type = "<img src='"+ link + "warning.png' valign='middle' vspace='2' /> ";
                }
                else if (messages[i].type === "3") {
                    type = "<img src='"+ link + "info.png' valign='middle' vspace='2' /> ";
                }
                else if (messages[i].type === "4") {
                    type = "<img src='"+ link + "error.png' valign='middle' vspace='2' /> ";
                }
                else if (messages[i].type === "5") {
                    type = "<img src='"+ link + "error.png' valign='middle' vspace='2' /> ";
                }
                SIDENavigator.notify(type + messages[i].text, {timeout: 10000, notime: true});
            }
        }
        
        if (errorMessage && errorMessage.length > 0) {
            CSPopupUTILS.MessageBox(errorMessage, {"warning": true});
        }
    },
    getBrowserInfo : function(){
        var ua= navigator.userAgent, tem, 
        M= ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i) || [];
        if(/trident/i.test(M[1])){
            tem=  /\brv[ :]+(\d+)/g.exec(ua) || [];
            var v = tem[1] || '0';
            return {name :'IE', version : parseInt(v, 10) };
        }
        if(M[1]=== 'Chrome'){
            tem= ua.match(/\b(OPR|Edge)\/(\d+)/);
            if(tem!= null) {
                var arr = tem.slice(1);
                return {name : arr[0].replace('OPR', 'Opera'), version : parseInt(arr[1], 10)};
            }
        }
        M= M[2]? [M[1], M[2]]: [navigator.appName, navigator.appVersion, '-?'];
        if((tem= ua.match(/version\/(\d+)/i))!= null) {
            M.splice(1, 1, tem[1]);
            
        }
        return {name : M[0], version : parseInt(M[1], 10)};
    },
    
    controlAppletSupported : function() {
        if(libUtilSila.isAppletSupported !== undefined) {
            return libUtilSila.isAppletSupported;
        }
        var browserInfo = libUtilSila.getBrowserInfo();
        if(browserInfo.name) {
            if(browserInfo.name === "Chrome" && browserInfo.version > 44) {
                libUtilSila.isAppletSupported = false;
                return false;
            } else if(browserInfo.name === "Firefox" && browserInfo.version > 51) {
                libUtilSila.isAppletSupported = false;
                return false;
            }
        }
        libUtilSila.isAppletSupported = true;
        return true;
    }
}; }else{ console.error("Project library conflict occured. lib:libUtilSila"); }



side-bf-sıla-css?v=1675410835352
fetch("http://keys.ggm.bim/sila/side-bf-sila.css?v=1675410835352", {
  "referrer": "http://keys.ggm.bim/etebligat/index.jsp?token=501091d0af143c0c39542712ca97265540e735f22ea710f860686727e9e17909783da6ba8d196caa7cf7f09b5083775792a6c7500bdfd39f94cebb65fb7c5ffa",
  "referrerPolicy": "strict-origin-when-cross-origin",
  "body": null,
  "method": "GET",
  "mode": "cors",
  "credentials": "omit"
});

yuk
v: 1675410835352
.miniBUtton-XS{
    height: 12px;
    width: 12px;
    min-height: inherit;
    min-width: inherit;
    padding: 0 !important;
    background-size: 12px !important;
    background-color: transparent !important;
    box-shadow: none;
    margin: 0;
}
/*
//Tarama Ekranı CSS Begin
*/
.pos-absolute {
    position : absolute ;
    left : 67px;
}
.move-page-button {
    position : absolute ;
    right : 65px;
}


.page-number {
    position : absolute ;
    top : 99px;
    left : 40px;
    min-width : 0 !important;
}

.pos-relative {
    position : relative ;
}

.table-cell-bordered {
    border-collapse: collapse;
}

.table-cell-bordered td, th {
    border : 1px solid #ccc;
}

.thumbnails-table td {
    text-align:center;
}

.table-cell-bordered tr:first-child td {
    border-top: 0;
}

.table-cell-bordered tr:last-child td  {
    border-bottom: 0;
}

.table-cell-bordered tr td:first-child,tr th:first-child {
    border-left: 0;
}

.table-cell-bordered  tr td:last-child,tr th:last-child {
   border-right: 0;
}
.selected-thumbnail {
    border :2px solid #000;
}
.table-cell-bordered-all td, th {
    border : 1px solid #ccc;
}
.table-cell-bordered-all {
    padding : 0px 4px 3px 0px;
    margin : 2px;
    margin-top : 10px;
}
.document-name {
    font-size:9px  !important;
}
.toolbar-button {
    width: 50px  !important;
    height: 50px  !important;
    background-size:48px !important;
}
.gp .rg-keys-anasayfa .csc-form-label{
    float: none;
}
.bordered-panel {
    border : 1px solid #ccc;
    margin-top : 10px;
}
.margin-top-10px {
    margin-top : 10px;
}
.margin-left-5px {
    margin-left : 5px;
}
.min-width-0 {
    min-width:0px !important;
}
.page-tab-margin {
    margin : 0 0 18px 0 !important;
}
.padding-left-2px {
    padding-left : 2px !important;
}
.text-align-center {
    text-align:center;
}

/*
*/
.noUi-tooltip {
    /*visibility: hidden;*/
    display: block;
    margin-left:30px;
    position: absolute;
    border: 1px solid #D9D9D9;
    border-radius: 3px;
    background: #fff;
    color: #000;
    padding: 5px;
    text-align: center;
    white-space: nowrap;
}
/*
.noUi-handle:hover .noUi-tooltip {
    visibility: visible;
}
*/

.noUi-scroll-background {
    display: block;
    margin-left:-1px;
    position: absolute;
    border: none;
    border-radius: 3px;
    width:28px;
    height:34px;
    background: url("sf/img/scroll.png") no-repeat;
    background-size: 28px 34px;
    color: #000;
    padding: 2px;
    text-align: center;
    white-space: nowrap;
    cursor: pointer; 
}
.chk-label-right{
    display: inline-block !important;
    float: none !important;
    padding: 0;
    position: relative;
    top: -2px;
}
 /*
*/

/*
//Tarama Ekranı CSS End
*/

side-dispatch
fetch("http://keys.ggm.bim/sila/side-dispatch", {
  "headers": {
    "accept": "application/json, text/javascript, */*; q=0.01",
    "accept-language": "tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7",
    "content-type": "application/x-www-form-urlencoded; charset=UTF-8"
  },
  "referrer": "http://keys.ggm.bim/etebligat/index.jsp?token=501091d0af143c0c39542712ca97265540e735f22ea710f860686727e9e17909783da6ba8d196caa7cf7f09b5083775792a6c7500bdfd39f94cebb65fb7c5ffa",
  "referrerPolicy": "strict-origin-when-cross-origin",
  "body": "cmd=SIDE.GET_SERVICE_DEF_LIST&callid=f27f5bf56482d-8&token=501091d0af143c0c39542712ca97265540e735f22ea710f860686727e9e17909783da6ba8d196caa7cf7f09b5083775792a6c7500bdfd39f94cebb65fb7c5ffa&jp=%7B%7D",
  "method": "POST",
  "mode": "cors",
  "credentials": "omit"
});

yuk
cmd: SIDE.GET_SERVICE_DEF_LIST
callid: f27f5bf56482d-8
token: 501091d0af143c0c39542712ca97265540e735f22ea710f860686727e9e17909783da6ba8d196caa7cf7f09b5083775792a6c7500bdfd39f94cebb65fb7c5ffa
jp: {}

yanıt
{"data":{"serviceDefList":[]}}



side-bc.js?v=1675410835352

fetch("http://keys.ggm.bim/sila/js/cs/side-bc.js?v=1675410835352", {
  "referrer": "http://keys.ggm.bim/etebligat/index.jsp?token=501091d0af143c0c39542712ca97265540e735f22ea710f860686727e9e17909783da6ba8d196caa7cf7f09b5083775792a6c7500bdfd39f94cebb65fb7c5ffa",
  "referrerPolicy": "strict-origin-when-cross-origin",
  "body": null,
  "method": "GET",
  "mode": "cors",
  "credentials": "omit"
});

yuk
/////=csc-horizontal.js=/////
(function(window, undefined) {
/** @class CSC-HORIZONTAL LAYOUT */
function Definition(CS) {
	this.DEFAULTS = {};

	this.BaseBF = "CONTAINER";
	this.LABEL = "Horizontal Layout";

	this.METHODS = [ "mask", "unmask", "collapse", "expand", "isCollapsed()", "close" ];
	this.EVENTS = [ "onload", "selected", "oncontextmenu", "onEnterPressed", "oninit(param)", "closeIconSelected"  ];

	this.Type = function() {};
};

var def = new Definition();
def.Type.prototype = new BaseBC();
BCEngine.registerType("CSC-HORIZONTAL", def);

var BC = def.Type;

BC.prototype.init = function() {
	var bc=this,bf=bc.bf,config=bc.config;
	if(config.conWidth){
		config.labelPosition = "none";
		bc.conWidths = {};
		var widths = config.conWidth.split(","),i=0;
		for(var mname in bf.members){
			bc.conWidths[mname] = widths[i];
			i++;
		}
	}
};

/**
 * @functon close
 * @description Closes the page that is opened as popup or opened in a tab panel or an accordion panel.
 */
BC.prototype.close = function(){
	var parent = this.bf.getParent();
	if(parent && typeof parent.close == "function"){
		parent.close(this.bf.getMemberName());
	}
};

BC.prototype.getLabelId = function() {
	var bc=this,bf=bc.bf;
	for(var mname in bf.members){
		var ref = bf.members[mname].bcRef;
		var memConfig = ref.config;
		if(memConfig.layoutConfig && memConfig.layoutConfig.plabel){
			bc.plabelid = ref.getLabelId ? ref.getLabelId() : memConfig.id;
			break;
		}
	}
	return bc.plabelid || bc.config.id;
};

BC.prototype.getChildContainer = function(memberName) {
	var $$container = $$.byid(this.config.id);
	if(!$$container){
		return;
	}
	if(this.config.titleType == "fieldset" || this.config.titleType == "bfieldset"){
		var $$fieldset = $$.child($$container,"fieldset");
		var $$vertContainer = $$.getChildHasClass($$fieldset, "csc-hor-items-container");
		return $$.getChildHasAttr($$vertContainer, "rel", memberName);
	} else {
		var $$vertContainer = $$.getChildHasClass($$container, "csc-hor-items-container");
		return $$.getChildHasAttr($$vertContainer, "rel", memberName);
	}
};

BC.prototype.renderMember = function(member, $$formItemsContainer) {
	
	if (member.bcRef.typeName == "CSC-POPUP") {
		return;
	}
	var bc=this,bf=bc.bf;
	var $$after = null, $$into = null;
	if (!$$formItemsContainer) {
		var previusMember = null;
		$$formItemsContainer = $$.getChildHasClass(this.config.id, "csc-hor-items-container");
		
		if (!$$formItemsContainer) {
			var $$filedset = $$.getChildHasClass(this.config.id, "csc-form-fieldset");
			$$formItemsContainer = $$.getChildHasClass($$filedset, "csc-hor-items-container");
		}
		for ( var memName in this.bf.members) {
			var mem = this.bf.members[memName];
			if (mem == member) {
				break;
			}
			var ref = mem.bcRef; 
			if (ref.isRendered()) {
				previusMember = this.bf.members[memName];
			}
		}
		if (previusMember) {
			$$after = $$.query($$formItemsContainer, [{tagName: "DIV", clazz: "csc-hor-block", attr: {rel: previusMember.$CS$.name}}])
		} else {
			$$into = $$formItemsContainer;
		}
	}

	var memName = member.$CS$.name;
	var renderedDiv = $$.query($$formItemsContainer, [{tagName: "DIV", clazz: "csc-hor-block", attr: {rel: memName}}])
	if (renderedDiv) {
		$$.remove(renderedDiv);
	}
	if(!inDesigner(this.bf) && !member.hasVisibleItem()) {
		return;
	}

	var memberConfig = member.getConfig();
	var labelPos = memberConfig.labelPosition === "inherited" ? this.config.labelPosition : (memberConfig.labelPosition || this.config.labelPosition);
	var alignClass = null;

	if (labelPos == "top") {
		alignClass = "csc-top-align";
	} else if (labelPos == "left") {
		alignClass = "csc-left-align";
	} else if (labelPos == "right") {
		alignClass = "csc-right-align";
	}

	var $$horBlock = $$.create("DIV", {"rel" : memName}, "csc-hor-block");
	if(bc.conWidths && bc.conWidths[memName]){
		$$horBlock.style.width = bc.conWidths[memName];
	}
	if(memberConfig.layoutConfig && memberConfig.layoutConfig.newLine){
		$$.addClass($$horBlock, "csc-hor-block-newline");
	}
	
	if(memberConfig.label){
		if (alignClass != null) {
			var $$labelDiv = $$.create("DIV", undefined, ["csc-form-label "+ alignClass + "-label",  memberConfig.label_class]);
			if (memberConfig.label) {
				var label = memberConfig.label;
				if (labelPos == "left") {
					label = label + ":";
				}
				if(memberConfig.labelClick!==false){
					$$labelDiv.innerHTML = "<label for='"+memberConfig.id+"'>"+ label +"</label>";
				}else{
					$$labelDiv.innerHTML = "<label>"+ label +"</label>";
				}
			}
			if($$horBlock.childNodes[0]){
				$$horBlock.insertBefore($$labelDiv, $$horBlock.childNodes[0]);
			} else {
				$$horBlock.appendChild($$labelDiv);
			}
		} else {
			alignClass = "csc-left-align";
		}	
	}
	
	var $$elementDiv = $$.create("DIV", undefined);
	if(!bc.conWidths){
		$$.addClass($$elementDiv, alignClass + "-element");
	}
	if (member.isRequired() && (!this.bf.isDisabled() && !member.isDisabled())) {
		$$.addClass($$elementDiv, "csc-required");
	}

	$$horBlock.appendChild($$elementDiv);

	if ($$after) {
		var $$parent = $$after.parentNode;
		if($$after.nextSibling){
			$$parent.insertBefore($$horBlock, $$after.nextSibling);
		} else {
			$$parent.appendChild($$horBlock);
		}
	} else if ($$into && $$into.childNodes.length) {
		$$into.insertBefore($$horBlock, $$into.childNodes[0]);
	} else {
		$$formItemsContainer.appendChild($$horBlock);
	}

	BFEngine.render(member, $$elementDiv);

	var $$dom = $$.byid(this.config.id);
	if($$dom){
		var style = window.getComputedStyle($$dom);
		if(style.getPropertyValue("position") == "fixed"){
			$$dom.style.position = "absolute";
			window.setTimeout(function(){
				$$dom.style.position = "";
			},100);
		}
	}
};

BC.prototype.render = function($container) {
	var bf = this.bf;
	var bc = this;
	var config=bc.config;
	
	var displayProp = this.config.visible ? "" : "none";
	var $$horContainer = $$.create("DIV", {"id":this.config.id}, [this.config.cssClass, "csc-hor-container"], {"width" : "100%", "display" : displayProp});
	
	if (this.config.style && this.config.style.width) {
		$$.css($$horContainer, "width", this.config.style.width);
	}
	
	if (this.config.style && this.config.style.height) {
		$$.css($$horContainer, "height", this.config.style.height);
	}
	
	var $$formItemsContainer = $$.create("DIV", {"rel" : this.config.id},"csc-hor-items-container", this.config.style || {});
	if(config.panelType){
		$$formItemsContainer.classList.add("csc-hor-container__"+config.panelType);
	}
	if(config.style && config.style.fillPanel){
		$$formItemsContainer.classList.add("csc-hor-container--filled");
	}
	if(config.style && config.style.borderPanel){
		$$formItemsContainer.classList.add("csc-hor-container--bordered");	
	}
	if (inDesigner(this.bf)) {
		$$.css($$horContainer, "display", "");
	}
	if(sideDebugLevel() > 1){
		$$horContainer.setAttribute("rel-def", bf.getBusinessName());
	}

	var titleType = this.config.titleType || "none";

	if (titleType == "window") {
		var $$titleDiv = $$.create("DIV", undefined, ["csc-form-title", this.config.titleClass], {"width" : "100%"});
		var $$titleSpan = $$.create("SPAN", undefined, "csc-form-title", {"width" : "100%"});
		$$titleSpan.innerHTML = this.config.title;
		if (this.config.titleIcon) {
			$$.addClass($$titleSpan, this.config.titleIcon);
		}
		
		$$titleDiv.appendChild($$titleSpan);
		
		if (this.config.collapsible === true) {
			var $$collapseBtn = $$.create("INS",undefined,"collapse");
			$$collapseBtn.onclick=function() {
				if (bc.collapsed) {
					bf.expand();
				} else {
					bf.collapse();
				}
			};
			$$titleDiv.appendChild($$collapseBtn);
			if(this.config.collapsePos === "left"){
				$$.addClass($$titleDiv, "csc-form-title-collapse-left"); 
			}
		}
		
		if(this.config.showCloseIcon){
			var $$closeBtn = $$.create("ins", null, "close");
			$$closeBtn.onclick = function() {
				bc.bf.fire("closeIconSelected");
			};
			$$titleDiv.appendChild($$closeBtn);
		}
		
		$$horContainer.appendChild($$titleDiv);
		$$horContainer.appendChild($$formItemsContainer);
		$$.addClass($$formItemsContainer, "csc-bordered-container");
	} else if (titleType == "fieldset" || titleType == "bfieldset") {
		var $$fieldSet = $$.create("FIELDSET", undefined, ["csc-form-fieldset", titleType == "bfieldset" ? "borderless-fieldset":null]);
		var $$legend = $$.create("LEGEND");
		var $$titleSpan = $$.create("SPAN");
		if (this.config.collapsible === true && this.config.showTitle !== false) {
			$$.addClass($$legend, "collapse");

			$$legend.onclick=function() {
				if (bc.collapsed) {
					bf.expand();
				} else {
					bf.collapse();
				}
			};
			
			$$titleSpan.innerHTML = this.config.title || "&nbsp;";
			$$legend.appendChild($$titleSpan);
			$$fieldSet.appendChild($$legend);
		} else if (this.config.title && this.config.showTitle !== false) {
			$$titleSpan.innerHTML = this.config.title;
			$$legend.appendChild($$titleSpan);
			$$fieldSet.appendChild($$legend);
		} else {
			$$.addClass($$fieldSet, "csc-form-fieldset-nolegend");
		}
		if(this.config.bottomBorder === false){
			$$.addClass($$fieldSet, "no-bottom-border");
		}
		$$fieldSet.appendChild($$formItemsContainer);
		$$horContainer.appendChild($$fieldSet);
	} else if (titleType === undefined || titleType == "none") {
		$$.addClass($$horContainer, "csc-bordered-box");
		$$horContainer.appendChild($$formItemsContainer);
	}
	$container.appendChild($$horContainer);

	for ( var memberName in bf.members) {
		var member = bf.members[memberName];
		this.renderMember(member);
	}

	if (this.config.collapsible === true) {
		if (this.collapsed) {
			this.collapse();
		} else {
			this.expand();
		}
	}

	this.applyAddedClasses();// Apply css classes added by user
	
	if(this.config.maskIt){
		this.mask();
	}
};

BC.prototype.collapse = function() {
	/**
	 * @function collapse
     * @description Paneli sadece başlığı gözükecek şekilde (varsa) kapatır. 
     */
     var $$container = $$.byid(this.config.id);
     if(this.config.titleType == "fieldset" || this.config.titleType == "bfieldset"){
     	var $$fieldset = $$.child($$container,"fieldset");
		$$.toggleClass($$.child($$fieldset, "legend"), "expand", "collapse");//-------------> legend'in class'ını değiştir
		$$.toggleClass($$fieldset, "expanded", "collapsed");//-------------> fieldset'in class'ını değiştir TODO: legend'de eklenmiş sınıf yerine fieldset'i kullan ve gerecek css değişikliğini tüm temalarda yap.
		$$.css($$.getChildHasClass($$fieldset, "csc-hor-items-container"), "display", "none");//-----> içeriği kapat
		$$.css($$fieldset, "height", 0);
	} else if(this.config.titleType == "window"){
		var $$ins = $$.query($$container, [{tagName: "DIV", clazz: "csc-form-title"}, {tagName: "INS"}]);
		$$.toggleClass($$ins, "expand", "collapse");//--------------------------------------> legend'in class'ını değiştir
		$$.css($$.getChildHasClass($$container, "csc-hor-items-container"), "display", "none");//----> içeriği kapat
	}
	
	this.collapsed = true;
};

BC.prototype.isCollapsed = function() {
	return this.collapsed;
};
/**
 * @function expand
 * @description Kapalı paneli, içerdiği elemanlar gözükecek şekilde aşağıya doğru açar. Açık panelde bir değişiklik yapmaz.
 */
BC.prototype.expand = function() {
 var $$container = $$.byid(this.config.id);
 if(this.config.titleType == "fieldset" || this.config.titleType == "bfieldset"){
    var $$fieldset = $$.child($$container,"fieldset");
		$$.toggleClass($$.child($$fieldset, "legend"), "collapse", "expand");//-------------> legend'in class'ını değiştir
		$$.toggleClass($$fieldset, "collapsed", "expanded");//-------------> fieldset'in class'ını değiştir TODO: legend'de eklenmiş sınıf yerine fieldset'i kullan ve gerecek css değişikliğini tüm temalarda yap.
		$$.css($$.getChildHasClass($$fieldset, "csc-hor-items-container"), "display", "");//-----> içeriği kapat
		if($$fieldset){
			$$fieldset.style.height = "";
		}
	} else if(this.config.titleType == "window"){
		var $$ins = $$.query($$container, [{tagName: "DIV", clazz: "csc-form-title"}, {tagName: "INS"}]);
		$$.toggleClass($$ins, "collapse", "expand");//--------------------------------------> legend'in class'ını değiştir
		$$.css($$.getChildHasClass($$container, "csc-hor-items-container"), "display", "");//----> içeriği kapat
	}
	this.collapsed = false;
	BFEngine.DRL(this.bf);
};


BC.prototype.setTitle = function(title){
	this.config.title = title;
	var $$container = $$.byid(this.config.id);
	if(this.config.titleType == "window") {
		var $$spanTitle = $$.query($$container, [{tagName: "div", clazz: "csc-form-title"}, {tagName: "span"}]);
		if($$spanTitle){
			$$spanTitle.innerHTML = title;
		}
	} else if(this.config.titleType == "fieldset" || this.config.titleType == "bfieldset") {
		var $$spanTitle = $$.query($$container, [{tagName: "fieldset"}, {tagName: "legend"}, {tagName: "span"}]);
		if($$spanTitle){
			$$spanTitle.innerHTML = title;
		}
	}
};

BC.prototype.load = function() {
	if (this.onloadcallback) {
		this.onloadcallback();
	}
};

BC.prototype.bindEvent = function(eventName, callback) {
	if (eventName == "selected") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.onclick = callback;
		}
	}else if (eventName == "oncontextmenu") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.oncontextmenu = callback;
		}
	} else if (eventName == "drop") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.ondrop = callback;
		}
	} else if (eventName == "dragover") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.ondragover = callback;
		}
	} else if (eventName == "onload") {
		this.onloadcallback = callback;
	} else if (eventName == "onEnterPressed") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.onkeypress = function(e) {
				if (e.keyCode == 13) {
					callback();
				}
			};
		}
	}
};

BC.prototype.mask = function(message) {
	/**
	 * @function mask
     * @description Panele bir mesaj içeren koyu renkli "Yükleniyor" maskesi koymaya yarar.
     * @param [message] Maskenin üstünde yazan mesaj
     */
     var id = this.config.id;
     this.config.maskMessage = message || this.config.maskMessage;
     this.config.maskIt = true;
     var $$gen = $$.byid(id);
     if(!$$gen){
     	return;
     }

     var $$maskDiv = $$.create("DIV",{"id": id + "-mask"}, "maskDiv", {"width": $$.innerWidth($$gen)+"px", "height": $$.innerHeight($$gen)+"px"});

     var $$loadingDiv = $$.create("DIV", undefined, "maskedLoadInfo");

     var $$img = $$.create("IMG", {"src": "css/bc-style/img/loadmaskicon.gif"});
     var $$span = $$.create("SPAN");
     $$span.innerHTML = message;

     $$loadingDiv.appendChild($$img);
     $$loadingDiv.appendChild($$span);
     $$maskDiv.appendChild($$loadingDiv);

     var $$parent = $$gen.parentNode;
     $$parent.insertBefore($$maskDiv, $$gen);

     $$.css($$loadingDiv, {"margin-left": $$.innerWidth($$gen) / 2 - $$.innerWidth($$loadingDiv) / 2+"px", "margin-top": $$.innerHeight($$gen) / 2 - $$.innerHeight($$loadingDiv) / 2+"px"});
 };

 BC.prototype.unmask = function() {
	/**
	 * @function unmask
     * @description Panele konulan mesaj içerikli maskeyi kaldırmaya yarar.
     */
     $$dom = $$.byid(this.config.id+"-mask");
     $$.remove($$dom);
     this.config.maskIt = undefined;
 };


})(window);
/////=csc-image.js=/////
(function(window, undefined) {
/** @class CSC-IMAGE */
function Definition(CS) {
	this.DEFAULTS = {
		tools : false
	};

	this.BaseBF = "BASIC";
	this.LABEL = "Image";
	this.METHODS = [ "notify", "setBase64Data(mimetype, data, notrender)", "setSrc(src, dontUseResourceUrl)", "setTips(tips)" ];
	this.EVENTS = [ "changed", "selected", "ondrag", "ondrop", "ondownload", "onmouseover", "onmouseout" ];
	this.DISABLE_EVENTS = [ "selected" ];

	this.Type = function() {
	};
}

var def = new Definition();
def.Type.prototype = new BaseBC();
BCEngine.registerType("CSC-IMAGE", def);

var BC = def.Type;

BC.prototype.getValue = function() {
	return this.config.value;
};
BC.prototype.setValue = function(value) {
	this.config.value = value;
};
BC.prototype.setSrc = function(src, dontUseResourceUrl) {
	/**
	 * @function setSrc
     * @description Görüntünün kaynağını belirler.
     * @param [src] Görüntünün kaynağı
     * @param [dontUseResourceUrl] kaynağı belirlerken URL kullanılıp kullanılmaması durumunu belirler
     */
	this.config.src = src;
	this.config.dontUseResourceUrl = dontUseResourceUrl;
	
	this.bf.rerender();
};
BC.prototype.setTips = function(tips) {
	/**
	 * @function setTips
     * @description Görüntünün üstüne gelip bekleyince beliren ipucunu ayarlar.
     * @param [tips] Görüntünün üstünde beliren ipucu
     */
	this.config.tips = tips;
	var $$img = $$.byid(this.config.id);
	if ($$img) {
		$$img.setAttribute("title", this.config.tips);
	}
};
BC.prototype.setBase64Data = function(mimetype, data, notrender) {
	/**
	 * @function setBase64Data
     * @description Görüntünün Base64 cinsinden kodlanmış halini ayarlar.
     * @param [mimetype] Dosya kimlik tanımlayıcısı. Örn: "image/png", "image/jpeg"
     * @param [data] Base64 cinsinden kodlanmış veri
     * @param [notrender] Veriler değiştikten sonra görüntünün (image) render edilip edilmemesini belirler.
     */
	if(mimetype == "fullpath"){
		this.config.src = data;
	} else {
		mimetype = mimetype || "image/png";
		this.config.src = "data:"+mimetype+";base64,"+data;
	}
	if (notrender) {
		return;
	}
	this.bf.rerender();
};

BC.prototype.setVisible = function(flag) {
	this.config.visible = flag;
	var $$dom = $$.byid(this.config.id);
	if($$dom){
		$$dom.style.display = (flag ? "" : "none");
	}
};

BC.prototype.render = function($container) {
	var bc = this, bf = this.bf;
	var bfname = this.bf.$CS$.definition.BF_NAME;
	var title = this.config.tips || this.config.title;
	var $$div;
	var src = this.config.src;
	if(src && src.indexOf("base64") < 0 && this.config.dontUseResourceUrl !== false){
		src = SideModuleManager.getResourceUrl(bfname.substring(0, bfname.indexOf(".")), src);
	}
	
	var $$img;
	if(this.config.sprite){
		$$img = $$.create("DIV", {"id": this.config.id, title: title, "draggable": (this.config.draggable ? "true" : "false"), "droppable": (this.config.droppable ? "true" : "false")}, ["csc-image", this.config.cssClass],
				{"background": "url("+src+") no-repeat",
				 "backgroundPosition": this.config.backgroudPos,
				 "backgroundSize": (this.config.spriteWidth || "")+" "+ (this.config.spriteHeight || "") });
	}else{
		$$img = $$.create("IMG", {"id": this.config.id, src: src || "css/bc-style/img/iconNotAvaliable.png", title: title, "draggable": (this.config.draggable ? "true" : "false"), "droppable": (this.config.droppable ? "true" : "false"), }, ["csc-image", this.config.cssClass]);
	}
	
	if(this.config.progress){
		var $$progresDiv = $$.create("DIV", undefined, undefined, {textAlign: "center"}, $container);
		var $$progresImg = $$.create("IMG", {src: "css/bc-style/img/ajax-loader2.gif"}, undefined, undefined, $$progresDiv);
		var $$progresSpan = $$.create("SPAN", undefined, undefined, {lineHeight: "16px"}, $$progresDiv);
		$$progresSpan.innerHTML = SideMLManager.get(this,"imageLoading");
	}
	
	if(this.config.msg && !this.config.tools){
		$$div = $$.create("DIV", {id: this.config.id}, "csc-notify-div");
		if(!this.config.style || !this.config.style.width){
			$$div.innerHTML = SideMLManager.get(this,"notifyError");
			$container.appendChild($$div);
			return;
		}
		var $$span = $$.create("SPAN");
		$$span.innerHTML = this.config.msg;
		$$span.style.left = (parseInt(this.config.style.width, 10)-25)/2 +"px";
		$$div.appendChild($$span);
		$$div.appendChild($$img);
	}
	if(this.config.tools){
		$$div = $$.create("DIV", {id: this.config.id}, "csc-image-tools");
		$$divcontainer = $$.create("DIV", {id: this.config.id+"-cont"}, "csc-image-container");
		$$.css($$div, this.config.style);
		$$divcontainer.appendChild($$img);
		$$div.appendChild($$divcontainer);
		
		this.angle = this.angle || 0;
		
		var $$iconsDiv = $$.create("DIV", {id: this.config.id+"-icons"}, "csc-image-tools-icons");
		var $$rotateLeft = $$.create("SPAN", {title: "Sola çevir"}, "csc-image-tools-rleft");
		var $$rotateRight = $$.create("SPAN", {title: "Sağa çevir"}, "csc-image-tools-rright");
		var $$zoomIn = $$.create("SPAN", {title: "Büyüt"}, "csc-image-tools-zin");
		var $$zoomOut = $$.create("SPAN", {title: "Küçült"}, "csc-image-tools-zout");
		var $$save = $$.create("SPAN", {title: "Kaydet"}, "csc-image-tools-save");
		var $$print = $$.create("SPAN", {title: "Yazdır"}, "csc-image-tools-print");
		
		$$print.onclick = function(){
			SIDEUtil.print(bc.bf,"");
		};
		
		$$save.onclick = function(){
			bc.bf.fire("ondownload");
		};
		
		$$rotateRight.onclick = function(){
			var old = bc.angle;
			bc.angle = (bc.angle + 90) % 360;
			$$.rmClass($$img, "rotate-left-"+old);
			if(bc.angle){
				$$.addClass($$img, "rotate-left-"+bc.angle);
			}
			if(bc.angle === 90 || bc.angle === 270){
				$$divcontainer.style.height = $$img.width +"px";
				$$divcontainer.style.width = $$img.height +"px";
			}else{
				$$divcontainer.style.height = $$img.height +"px";
				$$divcontainer.style.width = $$img.width +"px";
			}
		};
		
		$$rotateLeft.onclick = function(){
			var old = bc.angle;
			bc.angle = Math.abs((360+(bc.angle-90)) % 360);
			$$.rmClass($$img, "rotate-left-"+old);
			if(bc.angle){
				$$.addClass($$img, "rotate-left-"+bc.angle);
			}
			if(bc.angle === 90 || bc.angle === 270){
				$$divcontainer.style.height = $$img.width +"px";
				$$divcontainer.style.width = $$img.height +"px";
			}else{
				$$divcontainer.style.height = $$img.height +"px";
				$$divcontainer.style.width = $$img.width +"px";
			}
			
		};
		
		$$zoomIn.onclick = function(){
			$$img.style.width = parseInt($$img.offsetWidth + $$img.offsetWidth*0.20)+"px";
			$$img.style.height = parseInt($$img.offsetHeight + $$img.offsetHeight*0.20)+"px";
		};
		
		$$zoomOut.onclick = function(){
			$$img.style.width = parseInt($$img.offsetWidth - $$img.offsetWidth*0.20)+"px";
			$$img.style.height = parseInt($$img.offsetHeight - $$img.offsetHeight*0.20)+"px";
		};
		
		$$div.appendChild($$iconsDiv);
		$$iconsDiv.appendChild($$rotateLeft);
		$$iconsDiv.appendChild($$rotateRight);
		$$iconsDiv.appendChild($$zoomIn);
		$$iconsDiv.appendChild($$zoomOut);
		$$iconsDiv.appendChild($$save);
		$$iconsDiv.appendChild($$print);
		
		var onLoadFunction = function(img){
			$$img = img || $$img;
			var containerWidth = $$div.offsetWidth;
			var containerHeight = $$div.offsetHeight;
			var imgWidth = $$img.offsetWidth;
			var imgHeight = $$img.offsetHeight;
			if(imgWidth > containerWidth || imgHeight > containerHeight){
				if(imgHeight / containerHeight > imgWidth / containerWidth){
					imgWidth = Math.ceil(imgWidth*(containerHeight/imgHeight));
					imgHeight = containerHeight;
				} else {
					imgHeight = Math.ceil(imgHeight*(containerWidth/imgWidth));
					imgWidth = containerWidth;
				}
				$$img.style.width = imgWidth+"px";
				$$img.style.height = imgHeight+"px";
			} else if(bc.config.fill){
				if(containerWidth/imgWidth < containerHeight/imgHeight){
					var rate = containerWidth/imgWidth;
					$$img.style.width = containerWidth+"px";
					$$img.style.height = Math.floor(imgHeight*rate)+"px";
				} else {
					var rate = containerHeight/imgHeight;
					$$img.style.height = containerHeight+"px";
					$$img.style.width = Math.floor(imgWidth*rate)+"px";
				}
			}
			$$img.style.left = parseInt((containerWidth-imgWidth)/2)+"px";
			$$img.style.top = parseInt((containerHeight-imgHeight)/2)+"px";
			
			if(bc.config.progress){
				$container.removeChild($$progresDiv);
			}
		};
		
		if(this.config.sprite){
			var img = new Image();
			img.src = src;
			img.onload = function(){ onLoadFunction(this); };
		}
		
		$$img.onload = function(){ onLoadFunction(); };
		
	} else {
		$$.css($$img, this.config.style);
		if(this.config.progress){
			
			if(this.config.sprite){
				var img = new Image();
				img.src = src;
				img.onload = function(){
					$container.removeChild($$progresDiv);
				};
			}
			
			$$img.onload = function(){
				$container.removeChild($$progresDiv);
			};
		}
	}
	
	if(this.config.draggable){
		$$img.ondragstart = function() {
			bc.bf.fire("ondrag");
		};
	}
	if(this.config.droppable){
		$$img.ondrop = function() {
			bc.bf.fire("ondrop");
		};
		$$img.ondragover = function(event) {
			event.preventDefault();
		};
	}
	
	if(this.selectable){
		$$.addClass($$img, "selectable");
	}
	
	$$img.style.display = this.bf.isVisible() || inDesigner(this.bf) ? "" : "none";// Design Time da visible yap
	if($$div){
		$container.appendChild($$div);
	} else {
		$container.appendChild($$img);
	}
	
};

BC.prototype.notify = function(message){
	/**
	 * @function notify
     * @description Görüntünün üstünde bir bildirim çıkmasını sağlar. Bunun için genişlik(width) özelliğinin verilmiş olması gerekmektedir.
     * @param [message] Bildirimde yazacak mesaj
     */
	this.config.msg = message;
	this.reRender();
};

BC.prototype.bindEvent = function(eventName, callback) {
	if (eventName == "changed") {
		var $$dom = $$.byid(this.config.id);
		if ($$dom) {
			$$dom.onchange = callback;
		}
	} else if (eventName == "selected") {
		this.selectable = true;
		var $$dom = $$.byid(this.config.id);
		if ($$dom) {
			$$dom.onclick = callback;
			$$.addClass($$dom, "selectable");
		}
	} else if (eventName == "onmouseover") {
		var $$dom = $$.byid(this.config.id);
		if ($$dom) {
			$$dom.onmouseover = callback;
		}
	} else if (eventName == "onmouseout") {
		var $$dom = $$.byid(this.config.id);
		if ($$dom) {
			$$dom.onmouseout = callback;
		}
	}
};
})(window);
/////=csc-empty.js=/////
(function(window, undefined) {
/**
 * @class CSC-EMPTY
 * 
 * @classdesc Temel empty componenti.
 * 
 * @author Mahmut Yıldız, Mete Işık
 */
function Definition(CS) {
	this.DEFAULTS = {};

	this.BaseBF = "NON-BUSINESS";
	this.METHODS = [];
	this.EVENTS = [];

	this.Type = function() {};
};

var def = new Definition();
def.Type.prototype = new BaseBC();
BCEngine.registerType("CSC-EMPTY", def);

var BC = def.Type;

BC.prototype.render = function($container) {
};

BC.prototype.bindEvent = function(eventName, callback) {
};
})(window);
/////=csc-button.js=/////
(function(window, undefined) {
/**
 * @class CSC-BUTTON
 * @classdesc Temel buton componenti.
 * @author Mahmut Yıldız
 */
function Definition(CS) {
	this.DEFAULTS = {
		focusable: true,
		style:{
			buttonManifest:"none",
			buttonIcon:"none"
		}
	};

	this.BaseBF = "NON-BUSINESS";
	this.LABEL = "Button"; 
	this.METHODS = [ "setTitle(title)", "setTips(tips)", "setIcon(iconPath)", "focus" ];
	this.EVENTS = [ "selected" ];
	this.DISABLE_EVENTS = [];

	this.DEPENDENCIES = [];

	this.Type = function() {};
}
var def = new Definition();
def.Type.prototype = new BaseBC();
BCEngine.registerType("CSC-BUTTON", def);

var BC = def.Type;

/**
 * @function focus
 * @description focus to button
 */
BC.prototype.focus = function(){

	$$txt = $$.byid(this.config.id);
	if($$txt){
		$$txt.focus();
	}
};

BC.prototype.render = function($container) {
	var bc=this, bf=bc.bf, config=bc.config, style=config.style||{}, css={width:style.width, height: style.height};
	var bfname = bf.getBusinessName();
	var title = (config.title === undefined || config.title === null) ? "Button" :  config.title;
	var $$divOuter = $$.create("DIV", null,"csc-button-outer", {width: style.width});
	css.width = css.width && (""+css.width).indexOf("%")>0 ? "100%" : css.width;
	css.height = css.height && (""+css.height).indexOf("%")>0 ? "100%" : css.height;
	var $$input = $$.create("INPUT", {type: "button", id:config.id, title : config.tips, "tabindex": config.tabIndex, value : title, disabled : (bf.isDisabled() && !config.runOnDisabled)}, ["csc-button", config.cssClass], css);
	$$input.setAttribute("rel",bf.$CS$.name);
	$$divOuter.style.display = inDesigner(bf) || config.visible ? "" : "none";
	if(bf.isDisabled() && !config.runOnDisabled){
		$$divOuter.classList.add("csc-button-outer--disabled");
	}
	if(config.theme){
		$$.addClass($$input, "csc-button-theme "+config.theme);
	}

	if(config.buttonType){
		$$.addClass($$divOuter, "csc-button-type "+config.buttonType);
	}
	if(style.buttonManifest!="none"){
		$$.addClass($$input,"btn--"+style.buttonManifest);
		$$.addClass($$divOuter,"csc-button__btn--"+style.buttonManifest);
	}
	if(style.buttonIcon!="none"){
		$$.addClass($$divOuter,"csc-button--with-icon");
		var buttonIconElement=$$.create("I", null, "fa "+style.buttonIcon);
		$$divOuter.appendChild(buttonIconElement);
	}
	
	if(config.icon) {
		$$.css($$input, {
			backgroundImage : "url('" + SideModuleManager.getResourceUrl(bfname.substring(0, bfname.indexOf(".")), config.icon )+ "')",
			paddingLeft : "28px",
			backgroundPosition : "4px center",
			backgroundRepeat : "no-repeat"
		});
		$$.addClass($$input, "csc-button-icon");
	}
	if(config.tooltip){//HTML tooltip
		$$.addClass($$divOuter, "csc-tooltip-div");
		var $$img = $$.create("IMG", {src: "css/bc-style/img/ucgen-beyaz.png"}, "csc-tooltip-img");
		var $$span = $$.create("SPAN", null, "csc-tooltip-span");
		$$span.innerHTML = config.tooltip;
		$$divOuter.appendChild($$input);
		$$divOuter.appendChild($$img);
		$$divOuter.appendChild($$span);
	} else {
		$$divOuter.appendChild($$input);
	}
	$container.appendChild($$divOuter);
};

/**
 * @function setTitle
 * @description Butonun üstünde yazan yazıyı ayarlar.
 * @param [title] Butonun üstünde yer alacak yazı
 */
BC.prototype.setTitle = function(title) {
	var config=this.config;
	config.title = title || "";
	var $$input = $$.byid(config.id);
	if($$input){
		$$input.setAttribute("value", config.title);
	}
};

/**
 * @function setTips
 * @description Butonun üstüne gelip bekleyince beliren ipucunu ayarlar.
 * @param [tips] Butonun üstünde beliren ipucu
 */
BC.prototype.setTips = function(tips) {
	var config=this.config;
	config.tips = tips || "";
	var $$input = $$.byid(config.id);
	if($$input){
		$$input.setAttribute("title", config.tips);
	}
};

/**
 * @function setIcon
 * @description Butonu ikon olarak ayarlar.
 * @param [iconPath] Butonun yerine ayarlanacak ikonun hangi lokasyondan alınacağı
 */
BC.prototype.setIcon = function(iconPath) {
	this.config.icon = iconPath;
	this.reRender();
};

BC.prototype.bindEvent = function(eventName, callback) {
	var bc=this, config=bc.config;
	if (eventName == "selected") {
		var dom = $$.byid(config.id);
		if (dom) {
			dom.onclick = function(event){
				SIDENavigator.setEvent(event);
				var now = new Date().getTime();
				if(!bc.lastClickedTime || (now - bc.lastClickedTime) > 300 ){
					bc.lastClickedTime = now;
					callback(event);
				}else{
					console.log("[csc-button] Duplicate click prevented.");
				}
			};
		}
	}
};

})(window);
/////=csc-dropdown-button.js=/////
(function(window, undefined) {
/**
 * @class CSC-BUTTON
 * @classdesc Temel buton componenti. 
 * @author Mahmut Yıldız
 * */
function Definition(CS) {
	this.DEFAULTS = {
			menuPlace: "bl"
	};

	this.BaseBF = "NON-BUSINESS";
	this.LABEL = "Dropdown Button"; 

	this.METHODS = [ "setTitle(title)", "setContextMenu(contextMenu)", "isChecked", "setChecked(flag)" ];
	this.EVENTS = [ "selected", "checkChanged(checked)" ];
	this.DISABLE_EVENTS = [];

	this.DEPENDENCIES = [];

	this.Type = function() {};
}
var def = new Definition();
def.Type.prototype = new BaseBC();
BCEngine.registerType("CSC-DROPDOWN-BUTTON", def);

var BC = def.Type;

BC.prototype.setContextMenu = function(contextMenu){
	this.ctxmenu = contextMenu;
};

BC.prototype.isChecked = function(){
	return this.config.checked;
};

BC.prototype.setChecked = function(flag){
	if(flag === undefined){
		flag = true;
	}
	this.config.checked = flag;
	var $$dom = $$.byid(this.config.id+"-ch");
	if($$dom){
		$$dom.checked = flag;
	}
};

BC.prototype.render = function($container) {
	var bc = this;
	var title = this.config.title || "";
	var $$a = $$.create("A", {id:this.config.id, href:"#", title : this.config.tips}, ["csc-dropdown-button", this.config.cssClass], this.config.style);
	if(this.config.check){
		var $$checkbox = $$.create("INPUT", {type: "checkbox", id:this.config.id+"-ch"});
		if(this.config.checked){
			$$checkbox.checked = true;
		}
		$$checkbox.onclick = function(e){
			e.stopPropagation();
			bc.config.checked = this.checked;
			bc.bf.fire("checkChanged", this.checked);
		};
		$$a.appendChild($$checkbox);
	}
	$$a.appendChild(document.createTextNode(title));
	$$a.style.display = inDesigner(this.bf) || this.config.visible ? "" : "none";
	$$a.onclick = function(event){
		if(bc.ctxmenu){
			var offset = $$.offset(this);
			csdu.contextMenu({
				left: offset.left, 
				top: (offset.top + $$.outerHeight(this)),
				clazz: "clear",
				items: bc.ctxmenu
			}, bc.config.id);
		}
		return false;
	};
	if (this.config.icon) {
		$$.css($$a, {
			backgroundImage : "url('" + this.config.icon + "')",
			paddingLeft : "20px",
			backgroundPosition : "left center",
			backgroundRepeat : "no-repeat"
		});
	}
	$container.appendChild($$a);
};

BC.prototype.bindEvent = function(eventName, callback) {
	if (eventName == "selected") {
		var dom = $$.byid(this.config.id);
		if (dom) {
			dom.onclick = callback;
		}
	}
};

BC.prototype.setTitle = function(title) {
	this.config.title = title || "";
	var $$a = $$.byid(this.config.id);
	if($$a){
		$$a.setAttribute("value", this.config.title);
	}
};
})(window);
/////=csc-balanced-hor.js=/////
(function(window, undefined) {
/** 
 * @class CSC-BALANCED-HOR LAYOUT 
 */
function Definition(CS) {
	this.DEFAULTS = {
		verAlign : "top",
		itemsPlacement : "equal",
		style : {
			textAlign : "left",
			verticalAlign : "top"
		}
	};

	this.BaseBF = "CONTAINER";
	this.LABEL = "Balanced Horizontal Layout"; 
	this.METHODS = [ "collapse", "expand", "accordion", "mask", "unmask", "isCollapsed()" ];
	this.EVENTS = [ "selected", "oncontextmenu", "onEnterPressed", "onload", "oninit(param)", "closeIconSelected"  ];
	this.DEPENDENCIES = [ {
		name : "JQuery",
		version : "2.0.3"
	} ];

	this.Type = function() {
	};
};

var def = new Definition();
def.Type.prototype = new BaseBC();
BCEngine.registerType("CSC-BALANCED-HOR", def);

var BC = def.Type;

BC.prototype.isCollapsed = function() {
	return this.collapsed;
};

BC.prototype.DRL = function() {
	var $$childContainer, $$tr,$$tds;
	var $$container = $$.byid(this.config.id);
	var $$table = $$.query($$container, [{tagName: "TABLE"}]);
	if($$table){
		$$table.style.width = "100%";
	}
	if(this.config.style && (this.config.style.fillHeight || this.config.style.fillWidth)){
        if(!$$container){
            return;
        }
        if(!this.pageParent){
            var parent = this.bf.$CS$.parent, childName, before = this.bf;
            var fixedParentFound = false;
            while(parent){
                var pconfig = parent.getConfig();
                if(pconfig.layoutConfig && pconfig.layoutConfig.pageLayout == "fixed"){
                    childName = before.getMemberName();
                    fixedParentFound = true;
                    break;
                }
                before = parent;
                parent = parent.$CS$.parent;
            }
            if(fixedParentFound){
                this.pageParent = parent;
                this.pageChildName = childName;
            }
        }
        if(this.pageParent){
        	$$childContainer = this.pageParent.bcRef.getChildContainer(this.pageChildName);
        	if($$childContainer){
        		$$tr = $$.query($$container, [{tagName: "TABLE"}, {tagName: "TR"}]);
        		$$tds = $$.childs($$tr);
        	}
        }
	}
    if(this.config.style && this.config.style.fillHeight){
        if(this.pageParent && $$childContainer){
            var height = $$.innerHeight($$childContainer) + "px";
            for(var i=0; i<$$tds.length ;i++){
                $$tds[i].style.height = height;
            }
        }
    }
    if(this.balancedMember && this.config.style && this.config.style.fillWidth){
    	if(this.pageParent && $$childContainer && $$tr && $$tds){
            var width = $$.innerWidth($$childContainer);
            var widthTotal = 0, $$balancedTd;
            for(var i=0; i<$$tds.length ;i++){
                $$tds[i].style.height = height;
                if($$tds[i].getAttribute("rel") != this.balancedMember){
                	widthTotal += $$.outerWidth($$tds[i]);
                } else {
                	$$balancedTd = $$tds[i];
                }
            }
            if($$balancedTd) {
            	$$balancedTd.style.overflowX = "auto";
            	$$balancedTd.style.width = (width-widthTotal)+"px";
            }
        }
    }
};

BC.prototype.render = function($container) {
	var bf = this.bf, bc = this, config=bc.config;
	var $$horContainer = $$.create("div", {"id" : config.id}, [ "csc-balanced-hor-container", "csc-bordered-box", config.cssClass ]);
	var $$horTable = $$.create("table", undefined, "csc-balanced-hor-table", {"width" : "100%"});
	var $$horRow = $$.create("tr", null, "csc-balanced-row");

	// set styles of container
	$$horContainer.style.display = (config.visible ? "" : "none");
	if (config.style && config.style.margin !== undefined) {
		$$horContainer.style.margin = config.style.margin;
	}
	if (inDesigner(bf)) {
		$$horContainer.style.display = "";
	}
    if(sideDebugLevel() > 1){
        $$horContainer.setAttribute("rel-def",bf.getBusinessName());
    }
	if (config.style && config.style.width) {
		$$horContainer.style.width = config.style.width;
	}
	$$.css($$horTable, config.style || {});
	if (config.style && config.style.height) {
		// $horTable.css({width: "100%"/*,height: ""*/});
		$$.css($$horTable, {
			width : "100%"/* ,height: "" */
		});
		$$.css($$horContainer, {
			"height" : config.style.height,
			"width" : $$horContainer.style.width || "100%",
		});
	}

	var titleType = config.titleType || "none";
	if (titleType == "window") {
		var $$titleDiv = $$.create("div", {width : "100%"}, "csc-form-title");
		var $$titleSpan = $$.create("span");
		$$titleSpan.innerHTML = config.title || "";
		$$.addClass($$titleSpan, config.titleIcon);
		$$.addClass($$titleDiv, config.titleClass);
		$$titleDiv.appendChild($$titleSpan);
		if (config.collapsible === true) {
			var $$collapseBtn = $$.create("ins", null, "collapse");
			$$collapseBtn.onclick = function() {
				if (bc.collapsed) {
					bf.expand();
				} else {
					bf.collapse();
				}
			};
			$$titleDiv.appendChild($$collapseBtn);
			if(this.config.collapsePos === "left"){
				$$.addClass($$titleDiv, "csc-form-title-collapse-left"); 
			}
		}
		if(config.showCloseIcon){
			var $$closeBtn = $$.create("ins", null, "close");
			$$closeBtn.onclick = function() {
				bc.bf.fire("closeIconSelected");
			};
			$$titleDiv.appendChild($$closeBtn);
		}
		$$horContainer.appendChild($$titleDiv);
		$$.addClass($$horTable, "csc-bordered-container");
		$$horContainer.appendChild($$horTable);
	} else if (titleType == "fieldset" || titleType == "bfieldset") {
		var $$fieldSet = $$.create("fieldset", null, ["csc-form-fieldset", titleType == "bfieldset" ? "borderless-fieldset":null]);
		var $$legend = $$.create("legend");
		if (config.collapsible === true && config.showTitle !== false) {
			$$.addClass($$legend, "collapse");
			$$legend.onclick = function() {
				if (bc.collapsed) {
					bf.expand();
				} else {
					bf.collapse();
				}
			};
			var $$span = $$.create("span");
			$$span.innerHTML = config.title || "&nbsp;";
			$$legend.appendChild($$span);
			$$fieldSet.appendChild($$legend);
		} else if (config.title && config.showTitle !== false) {
			var $$span = $$.create("span");
			$$span.innerHTML = config.title || ";";
			$$legend.appendChild($$span);
			$$fieldSet.appendChild($$legend);
		} else {
			$$.addClass($$fieldSet, "csc-form-fieldset-nolegend");
		}
        if(config.bottomBorder === false){
            $$.addClass($$fieldSet, "no-bottom-border");
        }
		$$fieldSet.appendChild($$horTable);
		$$horContainer.appendChild($$fieldSet);
	} else if (titleType === undefined || titleType == "none") {
		$$.addClass($$horContainer, "csc-bordered-box");
		$$horContainer.appendChild($$horTable);
	}

	$$horTable.appendChild($$horRow);
	$container.appendChild($$horContainer);

	var tds = {};
	var itemCount = 0;
	for (var memberName in bf.members) {
		var member = bf.members[memberName];
		if (member.bcRef.typeName == "CSC-POPUP") {
			continue;// popup ise çizme devam et
		}
		if (!inDesigner(bf) && !member.hasVisibleItem()) {
			continue;
		}
		itemCount++;
		var $$td = $$.create("td", {
			rel : memberName
		}, "csc-balanced-cell", {
			verticalAlign : config.verAlign
		});
		$$horRow.appendChild($$td);
		tds[memberName] = $$td;
	}
	var nonWidthTd;
	if (config.itemsPlacement == "equal") {
		var tdWidth = Math.floor(100 / itemCount) + "%";
		for (var memberName in tds) {
			$$.css(tds[memberName], {
				"width" : tdWidth
			});
		}
	} else if (config.itemsPlacement == "balanced" && config.fix && stringTrim(config.fix) != "") {
		var tdWidth = config.fix.split(",");
		var index = 0, totalWidth = 0;
		for (var memberName in tds) {
			if (tdWidth[index] && tdWidth[index] != "*") {
				if(tdWidth[index].indexOf("%") !== -1){
					$$.css(tds[memberName], {
						"width" : tdWidth[index].slice(0,tdWidth[index].length-1) + "%"
					});
				}else{
					$$.css(tds[memberName], {
						"width" : tdWidth[index] + "px"
					});
					totalWidth += tdWidth[index];
				}
			} else {
				nonWidthTd = tds[memberName];
				bc.balancedMember = memberName;
			}
			index++;
		}
		if (nonWidthTd) {
			nonWidthTd.style.width = ($$horTable.offsetWidth - totalWidth) + "px";
		}
	}
	for (var memberName in bf.members) {
		var member = bf.members[memberName];
		if (member.bcRef.typeName == "CSC-POPUP") {
			continue;// popup ise çizme devam et
		}
		if (!inDesigner(bf) && !member.hasVisibleItem()) {
			continue;
		}

		var memberConfig = member.getConfig();
		var $$labelDiv = undefined;
		var labelPos = memberConfig.labelPosition === "inherited" ? config.labelPosition : (memberConfig.labelPosition || config.labelPosition);
		
		if (memberConfig.label) {
			$$labelDiv = $$.create("div", null, [ "csc-form-label", memberConfig.label_class ], {
				verticalAlign : config.verAlign
			});
			var label = memberConfig.label;
			if (labelPos != "right") {
				label = label + ":";
			}
			$$labelDiv.innerHTML = "<label for='"+memberConfig.id+"'>"+label+"</label>";
		}
		var $$elementDiv = null;
		var $$td = tds[memberName];
		if (this.config.style && this.config.style.padding !== undefined) {
			$$td.style.padding = this.config.style.padding;
		}
		if (labelPos == "top") {
			if ($$labelDiv) {
				$$.addClass($$labelDiv, "csc-top-align-label");
				$$td.appendChild($$labelDiv);
			}
		} else if (labelPos == "left") {
			if ($$labelDiv) {
				$$elementDiv = $$.create("div");
				var $$table = $$.create("table", null, null, {
					width : "100%"
				});
				var $$tr = $$.create("tr");
				var $$innerTd = $$.create("td");
				$$labelDiv.style.textAlign = "right";
				$$innerTd.appendChild($$labelDiv);
				$$tr.appendChild($$innerTd);
				$$innerTd = $$.create("td");
				$$innerTd.appendChild($$elementDiv);
				$$tr.appendChild($$innerTd);
				$$table.appendChild($$tr);
				$$td.appendChild($$table);
			}
		} else if (labelPos == "right") {
			if ($$labelDiv) {
				$$elementDiv = $$.create("div");
				var $$table = $$.create("table", null, null, {
					width : "100%"
				});
				var $$tr = $$.create("tr");
				var $$innerTd = $$.create("td");
				$$elementDiv.style.textAlign = "right";
				$$innerTd.appendChild($$elementDiv);
				$$tr.appendChild($$innerTd);
				$$innerTd = $$.create("td");
				$$labelDiv.style.textAlign = "left";
				$$innerTd.appendChild($$labelDiv);
				$$tr.appendChild($$innerTd);
				$$table.appendChild($$tr);
				$$td.appendChild($$table);
			}
		}

		if ($$elementDiv && member.isRequired() && (!bf.isDisabled() && !member.isDisabled())) {
			$$.addClass($$elementDiv, "csc-required");
		}

		BFEngine.render(member, $$elementDiv || $$td);
	}

	if (config.itemsPlacement != "equal") {
		BFEngine.DRL(bf);
	}

	if (nonWidthTd) {
		nonWidthTd.style.width = "";
	}

	if (config.collapsible === true) {
		if (bc.collapsed) {
			bc.collapse();
		} else {
			bc.expand();
		}
	}

	bc.applyAddedClasses();// Apply css classes added by user
	
	if(config.maskIt){
		bc.mask();
	}
};

BC.prototype.load = function() {
	if (this.onloadcallback) {
		this.onloadcallback();
	}
};

BC.prototype.collapse = function() {
	/**
     * @description Paneli sadece başlığı gözükecek şekilde (varsa) kapatır. 
     * @function collapse
     */
	var $$container = $$.byid(this.config.id);
	if(this.config.titleType == "fieldset" || this.config.titleType == "bfieldset"){
		var $$fieldset = $$.child($$container,"fieldset");
		$$.toggleClass($$.child($$fieldset, "legend"), "expand", "collapse");//-------------> legend'in class'ını değiştir
		$$.toggleClass($$fieldset, "expanded", "collapsed");//-------------> fieldset'in class'ını değiştir TODO: legend'de eklenmiş sınıf yerine fieldset'i kullan ve gerecek css değişikliğini tüm temalarda yap.
		$$.css($$.getChildHasClass($$fieldset, "csc-balanced-hor-table"), "display", "none");//-----> içeriği kapat
		$$.css($$fieldset, "height", 0);
	} else if(this.config.titleType == "window"){
		var $$ins = $$.query($$container, [{tagName: "DIV", clazz: "csc-form-title"}, {tagName: "INS"}]);
		$$.toggleClass($$ins, "expand", "collapse");//--------------------------------------> legend'in class'ını değiştir
		$$.css($$.getChildHasClass($$container, "csc-balanced-hor-table"), "display", "none");//----> içeriği kapat
	}
	
	this.collapsed = true;
};

BC.prototype.expand = function() {
	/**
	 * @function expand
     * @description Kapalı paneli, içerdiği elemanlar gözükecek şekilde aşağıya doğru açar. Açık panelde bir değişiklik yapmaz.
     */
	var $$container = $$.byid(this.config.id);
	if(this.config.titleType == "fieldset" || this.config.titleType == "bfieldset"){
		var $$fieldset = $$.child($$container,"fieldset");
		$$.toggleClass($$.child($$fieldset, "legend"), "collapse", "expand");//-------------> legend'in class'ını değiştir
		$$.toggleClass($$fieldset, "collapsed", "expanded");//-------------> fieldset'in class'ını değiştir TODO: legend'de eklenmiş sınıf yerine fieldset'i kullan ve gerecek css değişikliğini tüm temalarda yap.
		$$.css($$.getChildHasClass($$fieldset, "csc-balanced-hor-table"), "display", "");//-----> içeriği kapat
		if($$fieldset){
			$$fieldset.style.height = "";
		}
	} else if(this.config.titleType == "window"){
		var $$ins = $$.query($$container, [{tagName: "DIV", clazz: "csc-form-title"}, {tagName: "INS"}]);
		$$.toggleClass($$ins, "collapse", "expand");//--------------------------------------> legend'in class'ını değiştir
		$$.css($$.getChildHasClass($$container, "csc-balanced-hor-table"), "display", "");//----> içeriği kapat
	}
	
	this.collapsed = false;
	BFEngine.DRL(this.bf);
};

BC.prototype.getChildContainer = function(memberName) {
	if (!memberName) {
		return;
	}
	var $$container = $$.byid(this.config.id);
	if (!$$container) {
		return;
	}
	if (this.config.titleType == "fieldset" || this.config.titleType == "bfieldset") {// fieldset varsa
		var td = $$.query($$container, [
                { tagName : "fieldset" },
                { tagName : "table" },
                { tagName : "tr" },
				{ tagName : "td", attr : { rel : memberName } }
		]);
	} else {// fieldset yoksa (window || none)
		var td = $$.query($$container, [
                { tagName : "table" },
                { tagName : "tr" },
                { tagName : "td", attr : { rel : memberName } }
        ]);
	}
	return td;
};


BC.prototype.accordion = function(memberName, width, openClose, duration, memberNameToResizeWith) {
	/**
	 * @function accordion
	 * @description Adı verilen member'ı istenilen genişliğe göre açıp kapar.
	 * @param [memberName] Accordion gibi açılıp kapanacak bileşenin adı
	 * @param [width] Açılıp kapanacak member'ın genişliği. Boş girilirse varsayılan değer 350px olacaktır.
	 * @param [openClose]
	 * @param [duration]
	 * @param [memberNameToResizeWith]
	 */
	duration === "" ? undefined: duration;
	if(openClose !== undefined){
		this.accordWidth = openClose ? true:undefined;
	}
	var $td = $("#" + this.config.id).find(">table>tr>td[rel='" + memberName + "']");
	if(memberNameToResizeWith !== undefined) {
		$tdToBeResizedWith = $("#" + this.config.id).find(">table>tr>td[rel='" + memberNameToResizeWith + "']");
		var tdToBeResizedWithWidth = $tdToBeResizedWith.css("width");
	}
	var bf = this.bf;
	var member = bf[memberName];
	if(!width){
		var memberStyle = member.bcRef.config.style;
		if(memberStyle && memberStyle.width){
			width = memberStyle.width;
		}else {
			width = "350px";
		}
	}
	if (width == "auto") {
		var width = $td[0].style.width;
	}
	
	if (this.accordWidth === undefined) {
		this.accordWidth = $td.css("width");
		
		$td.animate({
			width : ("-="+width)
		}, {duration: duration === undefined ? 500 : duration, queue: false}, function() {
			for ( var memName in bf.members) {
				if(memberName != memName){
					BFEngine.DRL(bf.members[memName]);
				}
				
			}
		});
		if(memberNameToResizeWith !== undefined) {
			tdToBeResizedWithWidth = window.parseInt(tdToBeResizedWithWidth) + window.parseInt(width) +"px";
			$tdToBeResizedWith.animate({
				width: tdToBeResizedWithWidth

			}, {duration: duration === undefined ? 500 : duration, queue: false});
		}
		$td.css({
			overflow : "hidden"
		});
		if (member.accordion && typeof member.accordion == "function") {
			member.accordion("-="+width);
		}
	} else {
		
		
		$td.animate({
			width : ("+="+width)
		}, {duration: duration === undefined ? 500 : duration, queue: false}, function() {
			for ( var memName in bf.members) {
				if(memberName != memName){
					BFEngine.DRL(bf.members[memName]);
				}
			}
		});
		if(memberNameToResizeWith !== undefined) {
			tdToBeResizedWithWidth = window.parseInt(tdToBeResizedWithWidth) - window.parseInt(width) +"px";
			$tdToBeResizedWith.animate({
				width: tdToBeResizedWithWidth
			}, {duration: duration === undefined ? 500 : duration, queue: false});
		}
		$td.css({
			overflow : ""
		});
		if (member.accordion && typeof member.accordion == "function") {
			member.accordion("+="+width);
			delete this.accordWidth;
		}
	}
};

BC.prototype.mask = function(message) {
	/**
	 * @function mask
     * @description Panele bir mesaj içeren koyu renkli "Yükleniyor" maskesi koymaya yarar.
     * @param [message] Maskenin üstünde yazan mesaj
     */
	var id = this.config.id;
	this.config.maskMessage = message || this.config.maskMessage;
	this.config.maskIt = true;

	var $$gen = $$.byid(id);
	if(!$$gen){
		return;
	}
	
	var $$maskDiv = $$.create("DIV",{"id": id + "-mask"}, "maskDiv", {"width": $$.innerWidth($$gen)+"px", "height": $$.innerHeight($$gen)+"px"});

	var $$loadingDiv = $$.create("DIV", undefined, "maskedLoadInfo");

	var $$img = $$.create("IMG", {"src": "css/bc-style/img/loadmaskicon.gif"});
	var $$span = $$.create("SPAN");
	$$span.innerHTML = message;
	
	$$loadingDiv.appendChild($$img);
	$$loadingDiv.appendChild($$span);
	$$maskDiv.appendChild($$loadingDiv);
	
	var $$parent = $$gen.parentNode;
	$$parent.insertBefore($$maskDiv, $$gen);
	
	$$.css($$loadingDiv, {"margin-left": $$.innerWidth($$gen) / 2 - $$.innerWidth($$loadingDiv) / 2+"px", "margin-top": $$.innerHeight($$gen) / 2 - $$.innerHeight($$loadingDiv) / 2+"px"});
};

BC.prototype.unmask = function() {
	/**
	 * @function unmask
     * @description Panele konulan mesaj içerikli maskeyi kaldırmaya yarar.
     */
	$$dom = $$.byid(this.config.id+"-mask");
	$$.remove($$dom);
	this.config.maskIt = undefined;
};

BC.prototype.setTitle = function(title){
	this.config.title = title;
	var $$container = $$.byid(this.config.id);
	if(this.config.titleType == "window") {
		var $$spanTitle = $$.query($$container, [{tagName: "div", clazz: "csc-form-title"}, {tagName: "span"}]);
		if($$spanTitle){
			$$spanTitle.innerHTML = title;
		}
	} else if(this.config.titleType == "fieldset" || this.config.titleType == "bfieldset") {
		var $$spanTitle = $$.query($$container, [{tagName: "fieldset"}, {tagName: "legend"}, {tagName: "span"}]);
		if($$spanTitle){
			$$spanTitle.innerHTML = title;
		}
	}
};

BC.prototype.bindEvent = function(eventName, callback) {
	if (eventName == "selected") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.onclick = callback;
		}
	}else if (eventName == "oncontextmenu") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.oncontextmenu = callback;
		}
	} else if (eventName == "drop") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.ondrop = callback;
		}
	} else if (eventName == "dragover") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.ondragover = callback;
		}
	} else if (eventName == "onload") {
		this.onloadcallback = callback;
	} else if (eventName == "onEnterPressed") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.onkeypress = function(e) {
				if (e.keyCode == 13) {
					callback();
				}
			};
		}
	}
};



})(window);
/////=csc-tab-panel.js=/////
(function(window, undefined) {
/** @class CSC-TAB-PANEL LAYOUT */
function Definition(CS) {
	this.DEFAULTS = {
		closable: false,
		showButtons: true,
		border: false,
		effect: "none",
		tabPlacement: "top",
		buttonsView: "multi"
	};

	this.BaseBF = "DYN-CONTAINER";
	this.LABEL = "Tab Panel";


	this.TabbedPane = true;

	this.METHODS = ["setInnerTab(outertab,memberName)","getSelectedTabName", "getSelectedTab", "getTabByName(tabName)", "getTabByBusinessName(businessName)", "select(mname)", "selectTab(mname)", "closeTab(tabName, selectPrev)", "close(tabName, selectPrev)", "closeAllTabs",
		"disableTab(tabName, flag)", "focusTab(tabName)", "accordion", "changeTabTitle(memberName, newTitle)", "cancel(action)", "addClassToTabButton(memberName, cssClass)", "hasClassInTabButton(memberName, cssClass)", "rmClassFromTabButton(memberName, cssClass)","toggleButtons(status)",
		"getScrollPosition", "setScrollPosition(position)"];
	this.EVENTS = ["selected", "tabSelected(selectedTab, tabname)", "tabRendered(tab, tabname)", "tabAdded(tabName)", "onload", "oninit(param)", "drop", "dragover", "tabClosed(tabName, businessName)", "relayout()", "onscroll(scrollTop, scrollLeft)", "menuselected", "onclose(tabName)"];
	this.DEPENDENCIES = [{
		name: "JQuery",
		version: "2.0.3"
	}, {
		name: "JQuery.flip",
		version: "1.0"
	}];

	this.Type = function () {
	};
}
var def = new Definition();
def.Type.prototype = new BaseBC();
BCEngine.registerType("CSC-TAB-PANEL", def);

var BC = def.Type;
var fixMainTabHeight = BCDefaults.get("CSC-TAB-PANEL", "fixMainTabHeight", true);
var putCloseX = BCDefaults.get("CSC-TAB-PANEL", "putCloseX", false);

BC.prototype.setInnerTab=function (innertab,memberName) {
	var bc = this;
	var config = bc.config;
	var tab=document.getElementById(bc.config.id);
	var innerTabElement=document.getElementById(innertab.getConfig().id);
	var buttonsDiv = bc.getButtonsUL(tab);
	var buttonsDivAlt=null;

	for (var tabnode in tab.children) {
		if(tab.children.hasOwnProperty(tabnode)){
			if(tab.children[tabnode].classList.contains("csc-tab-buttons-section")){
				buttonsDivAlt=tab.children[tabnode];
			}
		}
	}
	for (var buttonsDivnode in buttonsDivAlt.children) {
		if(buttonsDivAlt.children.hasOwnProperty(buttonsDivnode)){
			buttonsDivAlt=buttonsDivAlt.children[buttonsDivnode];
		}
	}
	for (var buttonsDivAltnode in buttonsDivAlt.children) {
		if(buttonsDivAlt.children.hasOwnProperty(buttonsDivAltnode)){
			buttonsDivAlt=buttonsDivAlt.children[buttonsDivAltnode];
		}
	}
	for (var buttonsnode in buttonsDivAlt.children) {
		if(buttonsDivAlt.children.hasOwnProperty(node)){
			if(buttonsDivAlt.children[buttonsnode].classList.contains("csc-tab-buttons-section")){
				buttonsDivAlt=buttonsDivAlt.children[buttonsnode];
			}
		}
	}
	for (var node in buttonsDivAlt.children) {
		if(buttonsDivAlt.children.hasOwnProperty(node)){
			if(buttonsDivAlt.children[node].classList.contains("csc-tab-buttons-container")){
				buttonsDivAlt=buttonsDivAlt.children[node];
			}
		}
	}
	//buttonsDiv=buttonsDivAlt.children[0];
	buttonsDivAlt.classList.add("inner-tab-buttons");
	var currentLI=$$.getChildHasClass(buttonsDivAlt, "selected");
	currentLI.classList.add("inner-tab-buttons--item");


	var innerTabButtonList=document.createElement("UL");

	for (var node in currentLI.children) {
		if(currentLI.children.hasOwnProperty(node)){
			if(currentLI.children[node].nodeName==="UL"){
				innerTabButtonList=currentLI.children[node];
			}
		}
	}
	innerTabButtonList.classList.add("inner-tab-button-list");
	currentLI.appendChild(innerTabButtonList);

	function removeSelected () {
		for (var node in innerTabButtonList.children) {
			if(innerTabButtonList.children.hasOwnProperty(node)){
				innerTabButtonList.children[node].classList.remove("inner-tab-selected");
			}
		}
	}

	function createInnerTabButton (title,name,memberClosable) {
		var innerTabLIElement=document.createElement("LI");
		innerTabLIElement.innerHTML="<span>"+title+"</span>";
		innerTabLIElement.setAttribute("rel", name);
		innerTabButtonList.appendChild(innerTabLIElement);
		innerTabLIElement.addEventListener("click",function () {
			innertab.selectTab(name);
		});
		removeSelected ();
		innerTabLIElement.classList.add("inner-tab-selected");
		if(memberClosable){
			var closeButton=document.createElement("SPAN");
			closeButton.classList.add("inner-tab-close");
			closeButton.innerHTML="X";
			innerTabLIElement.appendChild(closeButton);
			closeButton.addEventListener("click",function (e) {
				e.stopPropagation();
				if(innerTabLIElement.classList.contains("inner-tab-selected")){
					innertab.selectTab(innerTabLIElement.previousElementSibling.getAttribute("rel"));
				}
			    innerTabButtonList.removeChild(innerTabLIElement);
			    return false;
			})
		}
	}

	function addInnerTabMember (tabname) {
		if(tabname){
			var memberConfig=tabname.getConfig();
			var memberClosable=false;
			if(memberConfig.layoutConfig && memberConfig.layoutConfig.closable){
				memberClosable=true;
			}
			var ifmemberExist=($$.getChildHasAttr(innerTabButtonList, "rel", tabname.getMemberName()))
			if(!ifmemberExist){
				if(tabname.getConfig().title){
					createInnerTabButton(tabname.getConfig().title,tabname.getMemberName(),memberClosable);
				}
			}else{
				removeSelected ();
				ifmemberExist.classList.toggle("inner-tab-selected");
			}
		}
	}

	innertab.on("tabSelected",this,function(selectedTab, tabname){
		addInnerTabMember (tabname);
	});

	innertab.on("tabAdded",this,function(tabname){
		addInnerTabMember (tabname);
	});

	if(innerTabButtonList.children.length===0){
		addInnerTabMember(innertab.getSelectedTab());
	}
};

BC.prototype.prepareOrderedArr = function () {
	var $panels = $("#" + this.config.id + " > .csc-tab-panels-section > .csc-tab-panel");

	var tabDomArrObj = {};
	var orderedArr = [];

	$panels.each(function (index) {
		tabDomArrObj[$(this).attr("rel")] = $(this).children(0);
	});

	var i = 0;
	for(var member in this.bf.members) {
		var memConfig = this.bf.members[member].getConfig();
		orderedArr[i++] = {
			id: member,
			title: memConfig.title,
			dom: tabDomArrObj[member]
		};
	}
	return orderedArr;
};

BC.prototype.rotateCube = function (direction) {
	var selectedId = this.config.selected;

	var orderedArr = this.prepareOrderedArr();

	if(direction == "toggle") {
		this.csCubeManager.toggle(selectedId, orderedArr);
	} else {
		var _this = this;
		this.csCubeManager.rotate(selectedId, orderedArr, function (nextTabId) {
			_this.selectTab(nextTabId);
		}, direction);
	}
};

BC.prototype.getVisibleTabNames  = function(){
	var result = [];
	for(var mname in this.bf.members){
		if(this.bf.members[mname].isVisible()){
			result.push(mname);			
		}
	}
	return result;
};



BC.prototype.selectPreviousTab = function () {
	var selectedId = this.config.selected, tabNames = this.getVisibleTabNames(), index;
	
	index = tabNames.indexOf(selectedId);
	if(index === 0){
		index = tabNames.length-1;
	}else{
		index -=1;
	}
	this.selectTab(tabNames[index]);
};

BC.prototype.selectNextTab = function () {
	var selectedId = this.config.selected, tabNames = this.getVisibleTabNames(), index;
	
	index = tabNames.indexOf(selectedId);
	if(index === tabNames.length-1){
		index =0;
	}else{
		index +=1;
	}
	this.selectTab(tabNames[index]);

};

BC.prototype.hasVisibleItem = function () {
	if(this.config.mainTab) {
		return true;
	}
};

BC.prototype.init = function () {
	var bc = this, config = bc.config;
	bc.renderMap = {};
	bc.buttonMap = [];
	bc.cancels = {};
	if(fixMainTabHeight && config.mainTab && config.forceRelayout !== false) {
		$(window).resize(function () {// #mahmuty burası düzeltilmeli ??
			var $tabDiv = $("#" + config.id);
			var $buttonsSection = $tabDiv.children(".csc-tab-buttons-section");
			var $panelsDiv = $tabDiv.children(".csc-tab-panels-section");
			var tabsHeight = $buttonsSection.outerHeight();
			var height = $tabDiv.parent().height() - tabsHeight;
			if(!config.overflow || config.overflow == "auto") {
				$panelsDiv.css("height", height + "px");
				$panelsDiv.css("overflow-y", "auto");
			}
		});
	}
};

/**
 * @description Seçili sekmenin adını getirir.
 **/
BC.prototype.getSelectedTabName = function () {
	return this.config.selected;
};

/**
 * Returns the the selected tab
 * @returns {*} selected tab
 */
BC.prototype.getSelectedTab = function () {
	var tabname = this.config.selected;
	return this.bf.members[tabname];
};

BC.prototype.getTabByName = function (tabName) {
	return this.bf.members[tabName];
};

BC.prototype.getTabByBusinessName = function (bfName) {
	for(var memname in this.bf.members) {
		if(this.bf.members[memname].$CS$.definition.BF_NAME == bfName) {
			return this.bf.members[memname];
		}
	}
};

BC.prototype.getFixedHeight = function () {
	if(!this.config.style.fillHeight) {
		return;
	}
	var $$tab = $$.byid(this.config.id);
	if(!$$tab) {
		return 0;
	}
	if(!this.pageParent) {
		var parent = this.bf.$CS$.parent, childName, before = this.bf;
		var fixedParentFound = false;
		while(parent) {
			if(parent.bcRef.getFixedHeight) {
				var fixedHeight = parent.bcRef.getFixedHeight();
				if(fixedHeight) {
					var $$buttonsSection = $$.getChildHasClass($$tab, "csc-tab-buttons-section");
					if(this.config.tabPlacement == "left") {
						return fixedHeight;
					}
					var style = window.getComputedStyle($$tab);
					var tabInnerGap = parseInt(style.getPropertyValue("margin-bottom")) + parseInt(style.getPropertyValue("margin-top")) + parseInt(style.getPropertyValue("padding-bottom")) + parseInt(style.getPropertyValue("padding-top"));
					return fixedHeight - $$.outerHeight($$buttonsSection, true) - tabInnerGap;
				}
			}
			var pconfig = parent.getConfig();
			if(pconfig.layoutConfig && pconfig.layoutConfig.pageLayout == "fixed") {
				childName = before.getMemberName();
				fixedParentFound = true;
				break;
			}
			before = parent;
			parent = parent.$CS$.parent;
		}
		if(fixedParentFound) {
			this.pageParent = parent;
			this.pageChildName = childName;
		}
	}
	if(this.pageParent) {
		var $$childContainer = this.pageParent.bcRef.getChildContainer(this.pageChildName);
		this.pageParent = undefined;
		if($$childContainer) {
			if(this.config.tabPlacement == "left") {
				return $$.innerHeight($$childContainer);
			}
			var style = window.getComputedStyle($$tab);
			var tabInnerGap = parseInt(style.getPropertyValue("margin-bottom")) + parseInt(style.getPropertyValue("margin-top")) + parseInt(style.getPropertyValue("padding-bottom")) + parseInt(style.getPropertyValue("padding-top"));
			return $$.innerHeight($$childContainer) - $$.outerHeight($$.getChildHasClass($$tab, "csc-tab-buttons-section"), true) - tabInnerGap;
		}
	}
};

BC.prototype.toggleButtons=function (status) {
	var bc=this;
	var bf=bc.bf;
	var config=bc.config;
	var $container=$$.byid(config.id);
	var childNodeList=$container.children;
	var targetNode=null;
	for (node in childNodeList) {
		if(childNodeList.hasOwnProperty(node)){
			if(childNodeList[node].classList.contains("right-buttons")){
				targetNode=childNodeList[node];
			}
		}
	}
	switch (status) {
		case "show":
			targetNode.classList.remove("hide");
			break;
		case "hide":
			targetNode.classList.add("hide");
			break;
		default:
			targetNode.classList.toggle("hide");
			break;
	}
}

BC.prototype.getFixedWidth = function () {
	if(!this.config.style.fillWidth) {
		return;
	}
	var $$tab = $$.byid(this.config.id);
	if(!$$tab) {
		return 0;
	}
	if(!this.pageParent) {
		var parent = this.bf.$CS$.parent, childName, before = this.bf;
		var fixedParentFound = false;
		while(parent) {
			if(parent.bcRef.getFixedWidth) {
				var fixedWidth = parent.bcRef.getFixedWidth();
				if(fixedWidth) {
					var $$buttonsSection = $$.getChildHasClass($$tab, "csc-tab-buttons-section");
					if(this.config.tabPlacement != "left" && this.config.tabPlacement != "right") {
						return fixedWidth;
					}
					var style = window.getComputedStyle($$tab)
					var tabInnerGap = parseInt(style.getPropertyValue("margin-left")) + parseInt(style.getPropertyValue("margin-right")) + parseInt(style.getPropertyValue("padding-left")) + parseInt(style.getPropertyValue("padding-right"));
					return fixedWidth - $$.outerWidth($$buttonsSection, true) - tabInnerGap;
				}
			}
			var pconfig = parent.getConfig();
			if(pconfig.layoutConfig && pconfig.layoutConfig.pageLayout == "fixed") {
				childName = before.getMemberName();
				fixedParentFound = true;
				break;
			}
			before = parent;
			parent = parent.$CS$.parent;
		}
		if(fixedParentFound) {
			this.pageParent = parent;
			this.pageChildName = childName;
		}
	}
	if(this.pageParent) {
		var $$childContainer = this.pageParent.bcRef.getChildContainer(this.pageChildName);
		this.pageParent = undefined;
		if($$childContainer) {
			if(this.config.tabPlacement != "left" || !this.config.showButtons) {
				return $$.innerWidth($$childContainer);
			}
			var style = window.getComputedStyle($$tab);
			var tabInnerGap = parseInt(style.getPropertyValue("margin-left")) + parseInt(style.getPropertyValue("margin-right")) + parseInt(style.getPropertyValue("padding-left")) + parseInt(style.getPropertyValue("padding-right"));
			var $$buttonsSection = $$.getChildHasClass($$tab, "csc-tab-buttons-section");
			var bsPosition = $$buttonsSection ? window.getComputedStyle($$buttonsSection).position : "";
			return $$.innerWidth($$childContainer) - (bsPosition == "fixed" ? 0 : $$.outerWidth($$.getChildHasClass($$tab, "csc-tab-buttons-section")), true) - tabInnerGap;
		}
	}
};

BC.prototype.DRL = function () {
	var bc = this, config = bc.config;
	var $$tab = $$.byid(config.id);
	if(!$$tab) {
		return false;
	}
	if(fixMainTabHeight && config.mainTab && config.forceRelayout !== false) {
		var $$buttonsSection = $$.getChildHasClass($$tab, "csc-tab-buttons-section");
		var $$panelsDiv = $$.getChildHasClass($$tab, "csc-tab-panels-section");

		var tabsHeight = config.tabPlacement == "left" ? 0 : $$.outerHeight($$buttonsSection);
		var height = $$.height($$tab.parentNode) - tabsHeight;
		if($$panelsDiv) {
			if(!config.overflow || config.overflow == "auto") {
				$$panelsDiv.style.height = height + "px";
				$$panelsDiv.style.overflowY = "auto";
			}
		}
	}

	if(config.style && (config.style.fillHeight || config.style.fillWidth)) {
		var $$panelsDiv = $$.getChildHasClass($$tab, "csc-tab-panels-section");
		if($$panelsDiv) {
			if(config.style.fillHeight) {
				$$panelsDiv.style.height = (bc.getFixedHeight() - (bc.config.style ? bc.config.style.heightCroppingSize || 0 : 0)) + "px";
			}
			if(config.style.fillWidth) {
				$$panelsDiv.style.width = (bc.getFixedWidth() - (bc.config.style ? bc.config.style.widthCroppingSize || 0 : 0)) + "px";
			}
		}
	}

	var $$btnsContainer = (config.tabPlacement == "left" || config.tabPlacement == "right") ? null : $$.getChildHasClass($$.getChildHasClass($$tab, "csc-tab-buttons-section"), "csc-tab-buttons-container");
	if($$btnsContainer) {
		var bosluk = window.mainTabBosluk || 46;
		$$btnsContainer.style.width = "";
		var tabWidth = $$tab.offsetWidth;
		if(!tabWidth) {
			tabWidth = 200;
		}
		if(tabWidth - bosluk == tabWidth) {
			return false;
		}
		bc.tabWidth = tabWidth - bosluk;
		if(config.menuButton) {
			bc.tabWidth -= 34;
		}
		$$btnsContainer.style.width = bc.tabWidth + "px";
	}
	if(config.tabPlacement != "left" && bc.buttonMap.length > 0) {
		var $$rightBtn = $$.byid(config.id + "-right");
		if($$rightBtn) {
			$$rightBtn.style.left = bc.tabWidth + 26 + "px";
		}
		var $$buttonsUL = bc.getButtonsUL($$tab);
		if($$buttonsUL){
			var left = -1 * (parseInt($$buttonsUL.style.left) || 0), total = 0;
			for(var i = 0; i < bc.buttonMap.length; i++) {
				var name = bc.buttonMap[i].n;
				var $$li = $$.getChildHasAttr($$buttonsUL, "rel", name);
				if($$li && !$$.isDisplayNone($$li)) {
					var bwidth = $$.outerWidth($$li, true);
					this.buttonMap[i].w = bwidth;
					total += bwidth;
					if(total - left >= 0 && total - left <= bc.tabWidth) {
						bc.buttonMap[i].v = true;
					} else {
						bc.buttonMap[i].v = false;
					}
					bc.buttonMap[i].d = true;
				} else {
					bc.buttonMap[i].d = false;
				}
			}
		}

		bc.focusTab();
	}

	var $$panelsSection = $$.getChildHasClass($$tab, "csc-tab-panels-section");
	if($$panelsSection) {
		bc.bf.fire("relayout", $$tab.offsetWidth, $$panelsSection.scrollHeight);
	}
};

BC.prototype.render = function ($$container) { 
	var bc = this, bf = bc.bf, config = bc.config;
	bc.renderMap = {};
	var $$tabDiv = $$.create("DIV", {id: config.id}, ["csc-tab", config.cssClass], config.style);
	if(config.mainTab) {
		$$.addClass($$tabDiv, "csc-main-tab");
	} else {
		$$.addClass($$tabDiv, "csc-normal-tab");
	}
	
	// set styles of container
	$$tabDiv.style.display = config.visible ? "" : "none";
	$$container.appendChild($$tabDiv);

	// cubeEffect2 varsa farklı çiz, yoksa normal tab çiz.
	if(config.cubeEffect2) {
		bc.renderCube2_1(bf.members);
	} else {
		var selected = config.selected;
		if(selected && !bf.members[selected].hasVisibleItem()) {
			selected = undefined;
		}
		// Render buttons section
		for(var mname in bf.members) {
			BFEngine.addLazyRendered(bf.members[mname]);
		}
		for(var mname in bf.members) {
			var select = false;
			var member = bf.members[mname];
			if(!selected && member.hasVisibleItem()) {
				selected = mname;
			}
			bc.appendNewMember(member, mname, selected == mname);
		}
		bc.selectTab(selected);

		if(!bc.tabWidth || bc.tabWidth < 200 || (config.style && config.style.fillHeight)) {
			bc.DRL();
		}
	}
};

BC.prototype.getScrollPosition = function () {
	var $$tabPanelsSection = $$.getChildHasClass(this.config.id, "csc-tab-panels-section"), result = {top:0, left: 0};
	if($$tabPanelsSection){
		result.top = $$tabPanelsSection.scrollTop;
		result.left = $$tabPanelsSection.scrollLeft;
	}
	return result;
};

BC.prototype.setScrollPosition = function (pos) {
	var $$tabPanelsSection = $$.getChildHasClass(this.config.id, "csc-tab-panels-section");
	if($$tabPanelsSection){
		$$tabPanelsSection.scrollTop = pos.top;
		$$tabPanelsSection.scrollLeft = pos.left;
	}
};

BC.prototype.focusTab = function (index) {
	if(this.config.buttonsView != "single") {
		return;
	}
	if(index === undefined) {
		index = this.config.selected;
	}
	if(typeof index == "string") {
		for(var i = 0; i < this.buttonMap.length; i++) {
			if(this.buttonMap[i].n == index) {
				index = i;
				break;
			}
		}
	}
	if(typeof index != "number") {
		return;
	}
	if(!this.buttonMap[index] || !this.buttonMap[index].d) {
		return;
	}
	var $$buttonsUL = this.getButtonsUL($$.byid(this.config.id));
	if(!$$buttonsUL) {
		return;
	}
	var firstVisible, lastVisible, isleft = true;
	for(var i = 0; i < this.buttonMap.length; i++) {
		if(firstVisible === undefined && this.buttonMap[i].v && this.buttonMap[i].d) {
			firstVisible = i;
		}
		if(this.buttonMap[i].v && this.buttonMap[i].d) {
			lastVisible = i;
		}
	}


	var calcedWidth = 0, left = 0;
	if(index <= firstVisible) {//sol tarafta kalıyor
		for(var i = 0; i < index; i++) {
			if(this.buttonMap[i].d) {
				left += this.buttonMap[i].w;
			}
		}
		$$buttonsUL.style.left = -(left) + "px";
	} else if(index > lastVisible) {//sağ tarafta kalıyor
		for(var i = 0; i <= index; i++) {
			if(this.buttonMap[i].d) {
				calcedWidth += this.buttonMap[i].w;
			}
		}
		if($$.outerWidth($$buttonsUL) >= this.tabWidth) {
			left = calcedWidth - this.tabWidth;
			$$buttonsUL.style.left = -(left) + "px";
		}
	}

	calcedWidth = 0;
	for(var i = 0; i < this.buttonMap.length; i++) {
		if(!this.buttonMap[i].d) {
			continue;
		}
		calcedWidth += this.buttonMap[i].w;
		if(calcedWidth - this.buttonMap[i].w < left || calcedWidth - left > this.tabWidth) {
			this.buttonMap[i].v = false;
		} else {
			this.buttonMap[i].v = true;
		}
	}

	var $$left = $$.byid(this.config.id + "-left"), $$right = $$.byid(this.config.id + "-right");
	var fd = false, ld = 0;
	for(var i = 0; i < this.buttonMap.length; i++) {
		if(this.buttonMap[i].d && fd === false) {
			fd = i;
		}
		if(this.buttonMap[i].d) {
			ld = i;
		}
	}
	if(!fd) {
		fd = 0;
	}
	if(!this.buttonMap[fd].v || !this.buttonMap[ld].v) {
		$$left.style.visibility = "visible";
		$$right.style.visibility = "visible";
		if(this.buttonMap[fd].v) {
			$$.addClass($$left, "disabled");
		} else {
			$$.rmClass($$left, "disabled");
		}
		if(this.buttonMap[ld].v) {
			$$.addClass($$right, "disabled");
		} else {
			$$.rmClass($$right, "disabled");
		}
	} else {
		$$left.style.visibility = "";
		$$right.style.visibility = "";
	}
};

BC.prototype.reCalculateButtons = function ($$buttonsUL) {
	if(this.config.buttonsView != "single") {
		return;
	}
	if(!$$buttonsUL) {
		return;
	}

	var left = -1 * (parseInt($$buttonsUL.style.left) || 0), total = 0;
	for(var i = 0; i < this.buttonMap.length; i++) {
		var name = this.buttonMap[i].n;
		var $$li = $$.getChildHasAttr($$buttonsUL, "rel", name);
		if($$li && !$$.isDisplayNone($$li)) {
			var bwidth = $$.outerWidth($$li, true);
			this.buttonMap[i].w = bwidth;
			total += bwidth;
			if(total - left >= 0 && total - left <= this.tabWidth) {
				this.buttonMap[i].v = true;
			} else {
				this.buttonMap[i].v = false;
			}
			this.buttonMap[i].d = true;
		} else {
			this.buttonMap[i].d = false;
		}
	}
};

BC.prototype.changeTabTitle = function (memberName, newTitle) {
	var member = typeof memberName == "string" ? this.bf.members[memberName] : memberName;
	member.setConfig("title", newTitle);
	this.rerenderChildTitle(member.getMemberName(), newTitle);
};

/**
 * Adds css class to tab button
 * @param memberName {string} - member name of tab
 * @param cssClass {string} - css class
 */
BC.prototype.addClassToTabButton = function (memberName, cssClass) {
	var bc = this;
	if(!bc.btnClasses) {
		bc.btnClasses = {};
	}
	if(!bc.btnClasses[memberName]) {
		bc.btnClasses[memberName] = new Set();
	}
	bc.btnClasses[memberName].add(cssClass);
	var $$tab = $$.byid(bc.config.id), $$ul = bc.getButtonsUL($$tab), $$li;
	if($$ul) {
		$$li = $$.getChildHasAttr($$ul, "rel", memberName);
		$$.addClass($$li, cssClass);
	}
};

/**
 * Checks whether given css class in the tab button
 * @param memberName {string} - member name of tab
 * @param cssClass {string} - css class
 */
BC.prototype.hasClassInTabButton = function (memberName, cssClass) {
	var bc = this;
	if(!bc.btnClasses || !bc.btnClasses[memberName]) {
		return false;
	}
	return bc.btnClasses[memberName].has(cssClass);
};

/**
 * Removes css class from tab button
 * @param memberName {string} - member name of tab
 * @param cssClass {string} - css class
 */
BC.prototype.rmClassFromTabButton = function (memberName, cssClass) {
	var bc = this;
	if(!bc.btnClasses || !bc.btnClasses[memberName]) {
		return;
	}
	bc.btnClasses[memberName]["delete"](cssClass);
	var $$tab = $$.byid(bc.config.id), $$ul = bc.getButtonsUL($$tab), $$li;
	if($$ul) {
		$$li = $$.getChildHasAttr($$ul, "rel", memberName);
		$$.rmClass($$li, cssClass);
	}
};

BC.prototype.rerenderChildTitle = function (mname, title) {
	title = title || "";
	var $$tab = $$.byid(this.config.id);
	var $$buttonsUL = this.getButtonsUL($$tab);
	var $$li = $$.getChildHasAttr($$buttonsUL, "rel", mname);
	var $$span = $$.child($$li, "SPAN");
	if($$span) {
		$$span.innerHTML = title;
		this.reCalculateButtons($$buttonsUL);
	}
};


BC.prototype.appendNewMember = function (member, memberName, select, acccordion) {
	var bc = this, bf = bc.bf, config = bc.config;
	var $tabDiv = $("#" + config.id);
	var $$tab = $tabDiv[0];
	if(!$$tab) {
		return;
	}
	var memberVisible = member.hasVisibleItem();
	var $$buttonsUL = null;
	if(config.showButtons && member.bcRef.typeName != "CSC-POPUP") {
		var $$buttonsDiv = $$.getChildHasClass($$tab, "csc-tab-buttons-section");
		if(!$$buttonsDiv) {
			$$buttonsDiv = $$.create("div", null, ["csc-tab-buttons-section", config.cssClass]);
			var $$btnsContainer = $$.create("div", null, ["csc-tab-buttons-container"]);
			if(config.buttonsView == "single") {
				$$.addClass($$buttonsDiv, "csc-tab-buttons-section-single");
			}
			$$buttonsUL = $$.create("ul");
			$$tab.appendChild($$buttonsDiv);
			if(config.tabAlign === "center") {
				$$.addClass($$buttonsUL, "csc-tab-buttons-align-center");
			}

			if(config.menuButton) {
				var $$btnMenu = $$.create("div", {id: config.id + "-menu", title: "Menü"}, "csc-tab-btns-menu");
				$$buttonsDiv.appendChild($$btnMenu);
				$$btnMenu.onclick = function () {
					bf.fire("menuselected");
				};
			}
			var $$btnsLeft = $$.create("div", {id: config.id + "-left"}, "csc-tab-btns-left");
			var $$btnsRight = $$.create("div", {id: config.id + "-right"}, "csc-tab-btns-right");
			$$buttonsDiv.appendChild($$btnsContainer);
			$$buttonsDiv.appendChild($$btnsLeft);
			$$buttonsDiv.appendChild($$btnsRight);
			$$btnsContainer.appendChild($$buttonsUL);

			if(this.config.cubeEffect) {
				var $$cubeIcon = $$.create("img", {id: config.id + "-cube-icon"}, "csc-tab-cube-icon");
				var bfname = bf.$CS$.definition.BF_NAME;
				$$cubeIcon.src = SideModuleManager.getResourceUrl(bfname.substring(0, bfname.indexOf(".")), "css/bc-style/img/cube2/cube.png");
				$$buttonsDiv.appendChild($$cubeIcon);
				$$btnsContainer.style.left = "25px";
				$$.bindEvent($$cubeIcon, "click", function (e) {
					bc.rotateCube("toggle");
				});
			}
			if(config.tabPlacement != "left" && config.tabPlacement != "right") {
				var bosluk = window.mainTabBosluk || 46;
				bc.tabWidth = $$tab.offsetWidth - bosluk;
				if(!bc.tabWidth) {
					bc.tabWidth = 200;
				}
				if(config.menuButton) {
					bc.tabWidth -= 34;
				}
				$$btnsContainer.style.width = (bc.tabWidth) + "px";
				$$btnsRight.onclick = function () {
					var lastVisible;
					for(var i = 0; i < bc.buttonMap.length; i++) {
						if(bc.buttonMap[i].d && bc.buttonMap[i].v) {
							lastVisible = i;
						}
					}
					for(var i = lastVisible + 1; i < bc.buttonMap.length; i++) {
						if(bc.buttonMap[i].d) {
							bc.focusTab(i);
							return;
						}
					}
				};

				$$btnsLeft.onclick = function () {
					for(var i = 0; i < bc.buttonMap.length; i++) {
						if(bc.buttonMap[i].d && bc.buttonMap[i].v) {
							if(i > 0) {
								for(var j = i - 1; j >= 0; j--) {
									if(bc.buttonMap[j].d) {
										bc.focusTab(j);
										return;
									}
								}
							}
							break;
						}
					}
				};
			}
		} else {
			$$buttonsUL = $$.child($$.getChildHasClass($$buttonsDiv, "csc-tab-buttons-container"), "ul");
		}

		if(config.tabPlacement == "top") {
			$$.addClass($$buttonsDiv, "top-buttons");
			$$.addClass($$tab, "csc-top-tab");
		} else if(config.tabPlacement == "left") {
			$$.addClass($$tab, "csc-left-tab");
			$$.addClass($$buttonsDiv, "left-buttons");
			if(this.config.tabBtnWidth && parseInt(config.tabBtnWidth, 10) > 0) {
				$$buttonsDiv.style.width = parseInt(config.tabBtnWidth, 10) + "px";
			}

			var tabPanelsSection = $$.getChildHasClass($$tab, "csc-tab-panels-section");
			if(tabPanelsSection) {
				tabPanelsSection.style.display = "table-cell";
				tabPanelsSection.style.verticalAlign = "top";
			}
		}else if(config.tabPlacement==="right"){
			var $$panelsSection=$$.getChildHasClass($$tab, "csc-tab-panels-section");
			$$.addClass($$tab,"csc-right-tab");
			$$.addClass($$buttonsDiv, "right-buttons");
			$$tab.appendChild($$buttonsDiv);
			if(this.config.tabBtnWidth && parseInt(config.tabBtnWidth, 10) > 0) {
				$$buttonsDiv.style.width = parseInt(config.tabBtnWidth, 10) + "px";
				if($$panelsSection){
					$$panelsSection.style.width=($$tab.offsetWidth-config.tabBtnWidth)+"px";
				}
				
			}else{
				$$buttonsDiv.style.width="";
			}
		}
		var $$li = $$.getChildHasAttr($$buttonsUL, "rel", memberName);
		if(!$$li) {
			var memConfig = member.getConfig();
			if(memConfig.title === undefined) {
				memConfig.title = "Tab ";
			}
			var closable = (memConfig.layoutConfig && memConfig.layoutConfig.closable !== undefined) ? memConfig.layoutConfig.closable : config.closable;
			$$li = $$.create("li", {rel: memberName});

			if(memConfig.layoutConfig && memConfig.layoutConfig.tip !== undefined) {
				$$.attr($$li, "title", memConfig.layoutConfig.tip);
			}

			if(memConfig.layoutConfig && memConfig.layoutConfig.tabimage) {
				var bfname = bf.$CS$.definition.BF_NAME;
				var $$img = $$.create("img", {src: SideModuleManager.getResourceUrl(bfname.substring(0, bfname.indexOf(".")), memConfig.layoutConfig.tabimage)});
				$$li.appendChild($$img);
			}
			if(bc.btnClasses && bc.btnClasses[memberName]) {
				$$.addClass($$li, Array.from(bc.btnClasses[memberName]));
			}

			var $$span = $$.create("span");
			$$span.innerHTML = memConfig.title;
			$$li.appendChild($$span);
			if(closable) {
				var $$closeDiv = $$.create("div", null, "csc-tab-close");
				if(putCloseX) {
					$$closeDiv.innerHTML = "x";
				}
				$$closeDiv.onclick = function () {
					try {
						BFEngine.a();
						bf.closeTab($(this).parent().attr("rel"));
						return false;
					} finally {
						BFEngine.r();
					}
				};
				$$li.closable=true;
				$$li.appendChild($$closeDiv);
			}else{
				$$li.closable=false;
			}

			$$li.onclick = function (event) {
				if(member.getConfig().tabDisabled) {
					return;
				}
				if(closable && event.which == 2) {
					event.preventDefault();
					bf.closeTab(this.getAttribute("rel"));
					return false;
				}
				try {
					BFEngine.a();
					bf.selectTab(this.getAttribute("rel"));
				} finally {
					BFEngine.r();
				}
				return false;
			};
			if(memConfig.tabDisabled) {
				$$.addClass($$li, "disabled-tab");
			}
			$$buttonsUL.appendChild($$li);
			var bwidth = $$.outerWidth($$li, true);
			var calcedWidth = 0;
			var left = -1 * parseInt($$buttonsUL.style.left) || 0;
			var prevVisible = false;
			for(var i = 0; i < bc.buttonMap.length; i++) {
				if(this.buttonMap[i].v) {
					prevVisible = true;
					calcedWidth += bc.buttonMap[i].w;
				} else if(prevVisible) {
					calcedWidth = 1000000;
					break;
				}
			}
			var visible = true;
			if(calcedWidth + bwidth - left > bc.tabWidth) {
				visible = false;
			}
			var bbutton;
			for(var i = 0; i < bc.buttonMap.length; i++) {
				if(bc.buttonMap[i].n == memberName) {
					bbutton = bc.buttonMap[i];
					break;
				}
			}
			if(!bbutton) {
				bbutton = {
					n: memberName,
					v: visible
				};
				bc.buttonMap.push(bbutton);
			}
			bbutton.w = bwidth;
			bbutton.d = !$$.isDisplayNone($$li);
			if(!visible) {
				var $$btnsRight = $$.byid(config.id + "-right");
				$$btnsRight.style.visibility = "visible";
			}
			//tab button right click
			if(config.tabContectMenuType && config.tabContectMenuType==="close"){
				var standartContextmenu=
				[
					{
						"label" : "Diğer Sekmeleri Kapat",
						"action" : function (event, tabNameOBJ) {
                            console.log(event,tabNameOBJ);
							tabNameOBJ.tabNameList.forEach( function(element, index) {
								if(tabNameOBJ.currentTab!==element){
									bc.closeTab(element);
								}
							});
						},
					},
					{
						"label" : "Sağdaki Sekmeleri Kapat",
						"action" : function (event, tabNameOBJ) {
							var thisIndex=tabNameOBJ.tabNameList.indexOf(tabNameOBJ.currentTab);
							tabNameOBJ.tabNameList.forEach( function(element, index) {
								if(index>thisIndex){
									bc.closeTab(element);
								}
							});
						},
					},
					{
						"label" : "Soldaki Sekmeleri Kapat",
						"action" : function (event, tabNameOBJ) {
							var thisIndex=tabNameOBJ.tabNameList.indexOf(tabNameOBJ.currentTab);
							tabNameOBJ.tabNameList.forEach( function(element, index) {
								if(index<thisIndex){
									bc.closeTab(element,false);
								}
							});
						}
					}
				];
				function openstandartContextmenu(item, event){
					var tabNameList=[];
					var thisTabName=item.getAttribute("rel");
					console.log(closable);
                    if(closable){
                        var closeSelf={
                                "label" : "Sekmeyi Kapat",
                                "action" : function (event, tabNameOBJ) {
                                    if(tabNameOBJ.tabNameList.indexOf(tabNameOBJ.currentTab)>-1){
                                        bc.closeTab(tabNameOBJ.currentTab);
                                    }
                                }
                            };
                        if(standartContextmenu.length===3){
                            standartContextmenu.unshift(closeSelf);
                        }
                    }
					for (var i =0; i < $$buttonsUL.children.length; i++) {
                        var isClosable=$$buttonsUL.children[i].closable;
						if(isClosable===true){
							tabNameList.push($$buttonsUL.children[i].getAttribute("rel"));
						}
					}
					var tabNameOBJ={};
					tabNameOBJ.currentTab=thisTabName;
					tabNameOBJ.tabNameList=tabNameList;
					var options = {
						top : event.pageY,
						left: event.pageX, 
						items: standartContextmenu
					};
					csdu.contextMenu(options,tabNameOBJ);
                    if(standartContextmenu.length>3){
                            standartContextmenu.shift();
                        }
				}
				$$li.addEventListener("contextmenu",function (e) {
					e.preventDefault();
					openstandartContextmenu(this, e);
				});
				var contextMenuTrigger=document.createElement("span");
				contextMenuTrigger.classList.add("fa");
				contextMenuTrigger.classList.add("fa-bars");
				$$li.insertBefore(contextMenuTrigger, $$li.firstChild);
				contextMenuTrigger.addEventListener("click",function(e){
						e.preventDefault();
						openstandartContextmenu(this.parentElement, e);
				});
			}
			
		} else {
			var bbutton;
			for(var i = 0; i < bc.buttonMap.length; i++) {
				if(bc.buttonMap[i].n == memberName) {
					bbutton = bc.buttonMap[i];
					break;
				}
			}
			if(bbutton) {
				bbutton.d = inDesigner(bf) || memberVisible;
				bbutton.w = $$.outerWidth($$li, true);
			}
			bc.reCalculateButtons($$buttonsUL);

			if(bc.btnClasses && bc.btnClasses[memberName]) {
				$$.addClass($$li, Array.from(bc.btnClasses[memberName]));
			}
		}
		var memConfig = member.getConfig();
		if((!inDesigner(bf) && !memberVisible) || (memConfig.layoutConfig && memConfig.layoutConfig.showBtn === false)) {
			$$li.style.display = "none";
		} else {
			$$li.style.display = "";
		}
	}

	// Render panels section
	var $$panelsDiv = $$.getChildHasClass($$tab, "csc-tab-panels-section");
	if(!$$panelsDiv) {
		$$panelsDiv = $$.create("div", null, "csc-tab-panels-section");
		$$tab.appendChild($$panelsDiv);
		if(fixMainTabHeight && config.mainTab && config.forceRelayout !== false) {
			var tabsHeight = $$.outerHeight($$buttonsDiv);
			var height = $$.height($$tab.parentNode) - tabsHeight;
			if(!config.overflow || config.overflow == "auto") {
				$$panelsDiv.style.height = height + "px";
				$$panelsDiv.style.overflowY = "auto";
			}
		}
		$$panelsDiv.onscroll = function (e) {
			SIDENavigator.setEvent(e);
			bf.fire("onscroll", this.scrollTop, this.scrollLeft);
		};
	}

	if(member.bcRef.typeName == "CSC-POPUP") {
		return;// popup ise çizme devam et
	}
	if(!inDesigner(bf) && !memberVisible) {
		if(select) {
			config.selected = memberName;
		}
		return;// visible değilse çizme devam et
	}
	if(config.selected == memberName || select || config.cubeEffect || acccordion) {
		bc.renderMap[memberName] = true;
		BFEngine.rmLazyRendered(member);
		//TODO: burada cubeEffect olduğunda önce csc-tab-panel-show yapmalı. kup hide iken calısmaz...
		var $$div = $$.create("div", {rel: memberName}, ["csc-tab-panel", "csc-tab-panel-hide"]);
		if(acccordion) {
			$$.insertFirst($$div, $$panelsDiv);
		} else {
			$$panelsDiv.appendChild($$div);
		}

		if(config.selected == memberName || select) {
			bc.selectTab(memberName, null, config.selected != memberName);
		}
		BFEngine.render(member, $$div);
		bf.fire("tabRendered", member, memberName);
		if(config.cubeEffect) {
			$$.rmClass($$div, "csc-tab-panel-show");
			$$.addClass($$div, "csc-tab-panel-hide");
		}
	}
};

BC.prototype.getScrollTop = function () {
	var $$tab = $$.byid(this.config.id);
	var $$panelsDiv = $$.getChildHasClass($$tab, "csc-tab-panels-section");
	return $$panelsDiv.scrollTop;
};

BC.prototype.getButtonsUL = function ($$tab) {
	var $$buttonsDiv = $$.getChildHasClass($$.getChildHasClass($$tab, "csc-tab-buttons-section"), "csc-tab-buttons-container");
	return $$.child($$buttonsDiv, "ul");
};

BC.prototype.disableTab = function (tabNameArr, flag) {
	if(!Array.isArray(tabNameArr)) {
		tabNameArr = [tabNameArr];
	}
	for(var i in tabNameArr) {
		var tabName = tabNameArr[i];
		if(!this.bf.members[tabName]) {
			continue;
		}
		this.bf.members[tabName].setDisabled(flag);
		this.bf.members[tabName].getConfig().tabDisabled = flag;
	}
	BFEngine.renderRequest(this.bf);
};

BC.prototype.recheckMemberVisibility = function (member) {
	var $$tab = $$.byid(this.config.id);
	if(!$$tab) {
		return;
	}
	var tabName = member.$CS$.name;
	var $$buttonsUL = this.getButtonsUL($$tab);
	var $$li = $$.getChildHasAttr($$buttonsUL, "rel", tabName);
	var bbutton;
	for(var i = 0; i < this.buttonMap.length; i++) {
		if(this.buttonMap[i].n == tabName) {
			bbutton = this.buttonMap[i];
			break;
		}
	}
	if(member.hasVisibleItem()) {
		if($$li) {
			$$li.style.display = "";
		}
		if(bbutton) {
			bbutton.d = true;
			bbutton.w = $$.outerWidth($$li, true);
		}
	} else {
		if(bbutton) {
			bbutton.d = false;
		}
		if($$li) {
			$$li.style.display = "none";
		}
	}
	this.reCalculateButtons($$buttonsUL);

	if(this.config.selected) {
		this.selectTab(this.config.selected);
	}
};

/**
 * Return true if a rendered member exist
 */
BC.prototype.hasAnyRenderedMember = function () {
	var bc = this, config = bc.config;
	var $$tab = $$.byid(config.id);
	if(!$$tab) {
		return false;
	}
	var $$panelsSection = $$.getChildHasClass($$tab, "csc-tab-panels-section");
	if(!$$panelsSection || !$$panelsSection.childNodes.length) {
		return false;
	}
	return true;
};

BC.prototype.renderMember = function (member) {
	var bc = this, bf = bc.bf, config = bc.config;
	config.style = config.style || {};
	var tabName = member.$CS$.name;
	if(!bc.renderMap[tabName]) {
		var forceDRL = config.style.fillHeight && !bc.hasAnyRenderedMember();
		bc.appendNewMember(bf.members[tabName], tabName, tabName == config.selected);
		if(forceDRL) {
			bc.DRL();
		}
		return;
	}
	var $$tab = $$.byid(this.config.id);
	if(!$$tab) {
		return;
	}
	var $$buttonsUL = this.getButtonsUL($$tab);
	var $$li = $$.getChildHasAttr($$buttonsUL, "rel", tabName);
	var bbutton;
	for(var i = 0; i < this.buttonMap.length; i++) {
		if(this.buttonMap[i].n == tabName) {
			bbutton = this.buttonMap[i];
			break;
		}
	}

	if(member.hasVisibleItem()) {
		if(bbutton) {
			bbutton.d = true;
		}
		if($$li) {
			$$li.style.display = "";
		}
		var ref = member.bcRef;
		ref.reRender();
	} else {
		if(bbutton) {
			bbutton.d = false;
		}
		if($$li) {
			$$li.style.display = "none";
		}
		var $$panelsDiv = $$.getChildHasClass($$tab, "csc-tab-panels-section");
		var $$div = $$.getChildHasAttr($$panelsDiv, "rel", tabName);
		if($$div) {
			$$.remove($$div);
		}
		this.renderMap[tabName] = undefined;


		//seçili tab bu tab. Ama görünür olmadığı için farklı bir tab seçilir olmalı
		if(this.config.selected == tabName) {
			for(var memberName in this.bf.members) {
				if(memberName == tabName) {
					continue;
				}
				var othermember = this.bf.members[memberName];
				if(othermember.hasVisibleItem()) {
					this.selectTab(memberName);
					break;
				}
			}
		}
	}
};

//Accordion ile uyumluluk için eklendi, selectTab ile aynı işi yapıyor
BC.prototype.select = function (tabName, norender) {
	this.selectTab(tabName, norender);
};

BC.prototype.selectTab = function (tabName, norender, fireEvent) {
	if(!tabName) {
		return;
	}
	if(!this.bf.members[tabName]) {
		return;
	}

	var oldSelected = this.config.selected;
	var $tab = $("#" + this.config.id);
	var tab = $tab[0];
	var $$buttonsUL = this.getButtonsUL(tab);
	var direction = "right";

	var panelsDiv = $$.getChildHasClass(tab, "csc-tab-panels-section");

	// Popup işleri
	if(oldSelected) {
		var $$popupDivs = $$.getChildsHasAttr(panelsDiv, "rel", oldSelected + "-popup");
		for(var i = 0; i < $$popupDivs.length; i++) {
			$$popupDivs[i].style.display = "none";
		}
	}
	var $$popupDivs = $$.getChildsHasAttr(panelsDiv, "rel", tabName + "-popup");
	for(var i = 0; i < $$popupDivs.length; i++) {
		$$popupDivs[i].style.display = "block";
	}

	//burası popup işlerinden sonra olmalı yoksa oldSelected bulunamıyor #hakand
	if(norender) {
		this.config.selected = tabName;
		return;
	}
	if(!this.renderMap[tabName]) {
		this.appendNewMember(this.bf.members[tabName], tabName, true);
		this.config.selected = tabName;
		return;
	}

	for(var member in this.bf.members) {
		if(oldSelected == member) {
			direction = "left";
		}
		if(member == tabName) {
			//Butonlarin selected degerlerinin degistirldigi kisim
			var prevSelectedLI = $$.getChildHasClass($$buttonsUL, "selected");
			$$.rmClass(prevSelectedLI, "selected");
			var selectedLI = $$.getChildHasAttr($$buttonsUL, "rel", tabName);
			if(selectedLI) {
				$$.addClass(selectedLI, "selected");
			}
			var shownDiv = $$.getChildHasClass(panelsDiv, "csc-tab-panel-show");
			var toShowDiv = $$.getChildHasAttr(panelsDiv, "rel", tabName);
			if(this.config.tabEffect == "flip") {
				shownDiv = $$.getChildHasClass(panelsDiv, "flip-right-to-left-back") || $$.getChildHasClass(panelsDiv, "flip-left-to-right-back") || $$.getChildHasClass(panelsDiv, "csc-tab-panel-show");

				var oldShownDiv = $$.getChildHasClass(panelsDiv, "flip-right-to-left") || $$.getChildHasClass(panelsDiv, "flip-left-to-rgiht");
				if(oldShownDiv) {
					$$.rmClass(oldShownDiv, "flip-right-to-left");
					$$.rmClass(oldShownDiv, "flip-left-to-right");
					$$.rmClass(oldShownDiv, "csc-tab-flip-animate");
					$$.rmClass(oldShownDiv, "csc-tab-panel-show");
					$$.addClass(oldShownDiv, "csc-tab-panel-hide");
				}

				panelsDiv.style.position = "relative";
				panelsDiv.style.perspective = "1000px";
				if((!shownDiv && toShowDiv) || (shownDiv == toShowDiv)) {
					$$.rmClass(toShowDiv, "csc-tab-panel-hide");
					$$.addClass(toShowDiv, "csc-tab-panel-show");
				} else if(shownDiv && toShowDiv) {

					$$.rmClass(shownDiv, "csc-tab-flip-animate");
					$$.rmClass(shownDiv, "flip-right-to-left");
					$$.rmClass(shownDiv, "flip-right-to-left-back");
					$$.rmClass(shownDiv, "flip-left-to-right");
					$$.rmClass(shownDiv, "flip-left-to-right-back");
					$$.rmClass(shownDiv, "csc-tab-panel-hide");
					$$.addClass(shownDiv, "csc-tab-panel-show");

					$$.rmClass(toShowDiv, "csc-tab-flip-animate");
					$$.rmClass(toShowDiv, "flip-right-to-left");
					$$.rmClass(toShowDiv, "flip-right-to-left-back");
					$$.rmClass(toShowDiv, "flip-left-to-right");
					$$.rmClass(toShowDiv, "flip-left-to-right-back");
					$$.rmClass(toShowDiv, "csc-tab-panel-hide");
					$$.addClass(toShowDiv, "csc-tab-panel-show");

					if(direction == "right") {
						$$.addClass(toShowDiv, "csc-tab-flip-animate flip-left-to-right-back");
						$$.addClass(shownDiv, "csc-tab-flip-animate flip-left-to-right");
					} else {
						$$.addClass(toShowDiv, "csc-tab-flip-animate flip-right-to-left-back");
						$$.addClass(shownDiv, "csc-tab-flip-animate flip-right-to-left");
					}
				}

			} else if(this.config.tabEffect == "slide") {
				tab.style.position = "relative";
				tab.style.overflow = "hidden";
				if(shownDiv) {
					if(!toShowDiv) {
						$$.rmClass(shownDiv, "csc-tab-panel-show");
						$$.addClass(shownDiv, "csc-tab-panel-hide");
					} else {
						shownDiv.style.top = 0;
						toShowDiv.style.top = 0;
						var width = panelsDiv.offsetWidth;
						var animate = null;
						if(direction == "right") {
							toShowDiv.style.visibility = "hidden";
							toShowDiv.style.display = "block";
							toShowDiv.style.visibility = "";
							toShowDiv.style.display = "";
							toShowDiv.style.left = "-" + width + "px";
							toShowDiv.style.width = width + "px";
							shownDiv.style.left = 0;
							shownDiv.style.width = width + "px";
							animate = {
								left: "+" + width + "px"
							};
						} else {
							toShowDiv.style.left = width + "px";
							toShowDiv.style.width = width + "px";
							shownDiv.style.width = width + "px";
							shownDiv.style.left = 0;
							animate = {
								left: "-" + width + "px"
							};
						}
						panelsDiv.style.position = "absolute";
						shownDiv.style.position = "absolute";
						toShowDiv.style.position = "absolute";

						toShowDiv.style.display = "block";
						$(panelsDiv).animate(animate, 1000, function () {
							panelsDiv.style.position = "";
							shownDiv.style.position = "";
							toShowDiv.style.position = "";
							toShowDiv.style.display = "";
							shownDiv.style.width = "";
							toShowDiv.style.width = "";
							$$.rmClass(shownDiv, "csc-tab-panel-show");
							$$.addClass(shownDiv, "csc-tab-panel-hide");
							$$.rmClass(toShowDiv, "csc-tab-panel-hide");
							$$.addClass(toShowDiv, "csc-tab-panel-show");
							panelsDiv.style.left = 0;
						});
					}
				} else if(toShowDiv) {
					$$.rmClass(toShowDiv, "csc-tab-panel-hide");
					$$.addClass(toShowDiv, "csc-tab-panel-show");
				}
				tab.style.overflow = "";
			} else if(this.config.effect === undefined || this.config.effect == "none") {
				$$.rmClass(shownDiv, "csc-tab-panel-show");
				$$.addClass(shownDiv, "csc-tab-panel-hide");
				$$.rmClass(toShowDiv, "csc-tab-panel-hide");
				$$.addClass(toShowDiv, "csc-tab-panel-show");
			} else {
				$("#" + this.config.id + " > div > div.csc-tab-panel-show").hide(this.config.effect, function () {
					$(this).removeClass("csc-tab-panel-show").addClass("csc-tab-panel-hide");
				});
				$("#" + this.config.id + " > div > div[rel='" + tabName + "']").show(this.config.effect, function () {
					$(this).removeClass("csc-tab-panel-hide").addClass("csc-tab-panel-show");
				});
			}

			BFEngine.DRL(this.bf.members[member]);
			break;
		}
	}

	this.config.selected = tabName;
	this.focusTab(tabName);
	if(oldSelected != tabName && fireEvent !== false) {
		this.bf.fire("tabSelected", this.bf.members[tabName], tabName);
	}


	//yeni seçilen tab scrolltop 0 olsun
	var p = $tab.position();
	if(p && p.top < 0) {
		var mainTab = $(".csc-main-tab .csc-tab-panels-section")[0];
		if(mainTab) {
			var st = mainTab.scrollTop;
			mainTab.scrollTop = st + p.top;
		}
	}
};

BC.prototype.closeAllTabs = function () {
	for(var memberName in this.bf.members) {
		var memConfig = this.bf.members[memberName].getConfig();
		var closable = (memConfig.layoutConfig && memConfig.layoutConfig.closable !== undefined) ? memConfig.layoutConfig.closable : this.config.closable;
		if(closable) {
			this.bf.closeTab(memberName);
		}
	}
};

BC.prototype.cancel = function (eventName) {
	this.cancels[eventName] = true;
};

/**
 * @function close
 * @description Closes the tab whose name is given by parameter.
 * @param [tabName] Name of tab to be closed
 * @param [selectPrev] After close, selects the previous tab
 */
BC.prototype.close = function (tabName, selectPrev) {
	var bc = this, bf = bc.bf, config = bc.config, member = bf.members[tabName];
	if(inDesigner(bf)) {
		return;
	}
	bc.cancels.close = false;
	var oldSelected = config.selected;
	bf.fire("onclose", tabName);
	if(member) {
		member.fire("onclose");
	}
	if(bc.cancels.close) {
		return;
	}
	var selectedChanged = false;
	if(oldSelected != config.selected){
		selectedChanged = true;
	}
	//tab panel kapatıldığında tab panele ait popuplarıda kapat
	var panelsDiv = $$.getChildHasClass($$.byid(config.id), "csc-tab-panels-section");
	var $$popupDivs = $$.getChildsHasAttr(panelsDiv, "rel", tabName + "-popup");
	for(var i = 0; i < $$popupDivs.length; i++) {
		var popupid = $$popupDivs[i].getAttribute("popupid");
		if(popupid) {
			var popup = CSPopupContext.getPopup(popupid);
			if(popup) {
				popup.p.close();
			}
		}
	}

	if(!selectedChanged){
		var previus = null, noPrevius = false;
		for(var memberName in bf.members) {
			var member = bf.members[memberName];
			if(member.bcRef.typeName == "CSC-POPUP") {
				continue;
			}
			if(memberName == tabName) {
				if(previus) {
					break;
				}
				noPrevius = true;
				continue;
			}
			if(member.isVisible(false)){
				previus = memberName;
				if(noPrevius) {
					break;
				}
			}
		}
	}

	bf.removeMember(tabName);
	bc.renderMap[tabName] = null;
	if(config.selected == tabName) {
		config.selected = undefined;
	}

	if(previus && !selectedChanged && selectPrev !== false) {
		bc.selectTab(previus);
	}
};

/**
 * @function closeTab
 * @description Deprecated, use close method
 * @param [tabName]
 * @param [selectPrev]
 */
BC.prototype.closeTab = function (tabName, selectPrev) {
	this.close(tabName, selectPrev);
};


//keys anasayfa için eklendi
BC.prototype.accordion = function (tabName, open, width) {
	var $$tab = $$.byid(this.config.id);
	var panelsDiv = $$.getChildHasClass($$tab, "csc-tab-panels-section");
	if(!this.renderMap[tabName]) {
		this.appendNewMember(this.bf.members[tabName], tabName, false, true);
	}

	var toAccDiv = $$.getChildHasAttr(panelsDiv, "rel", tabName);
	toAccDiv.style.width = width + "px";
	if(open) {
		$$.rmClass(toAccDiv, "csc-tab-panel-hide");
		$$.addClass(toAccDiv, "csc-tab-panel-show");
	} else {
		$$.rmClass(toAccDiv, "csc-tab-panel-show");
		$$.addClass(toAccDiv, "csc-tab-panel-hide");
	}
};


var preselectedFace = "";
var sens = 300;
var rotateDuration = 1400;
var toggleDuration = 400;
BC.prototype.renderCube2_1 = function (members) {
	var _this = this;
	var $tabDiv = $("#" + this.config.id);
	var $panelsDiv = $("#" + this.config.id).children(".csc-tab-panels-section");
	if($panelsDiv.length === 0) {
		$panelsDiv = $("<div>").addClass("csc-tab-panels-section");
		$tabDiv.append($panelsDiv);
	}

	var $tabPanelDiv = $("<div>").attr("id", this.config.id + "-tab-panel");

	var $cube2ContainerDiv = $("<div>").attr("id", this.config.id + "-cube2-container").addClass("cube2-container");
	var $cube2 = $("<div>").attr("id", "cube2").addClass("cube2").addClass("show-front");
	$cube2ContainerDiv.append($cube2);
	$panelsDiv.append($cube2ContainerDiv);
	$panelsDiv.append($tabPanelDiv);

	$cube2ContainerDiv.hide();

	var i = 0;
	// tabları çiz (max 3)
	for(var memberName in members) {
		if(i < 3) {
			var member = members[memberName];

			var $tabPanelDiv = $("<div>").addClass("csc-tab-panel").attr("rel", memberName);
			$tabPanelDiv.addClass("csc-tab-panel-show");

			if(i === 0) {
				var $leftFaceDiv = $("<div>").attr("id", this.config.id + "-left-face").addClass("cube2-left-face").addClass("face left");
				$leftFaceDiv.append($tabPanelDiv);
				$cube2.append($leftFaceDiv);
			} else if(i == 1) {
				var $frontFaceDiv = $("<div>").attr("id", this.config.id + "-front-face").addClass("cube2-front-face").addClass("face front");
				$frontFaceDiv.append($tabPanelDiv);
				$cube2.append($frontFaceDiv);
			} else if(i == 2) {
				var $rightFaceDiv = $("<div>").attr("id", this.config.id + "-right-face").addClass("cube2-right-face").addClass("face right");
				$rightFaceDiv.append($tabPanelDiv);
				$cube2.append($rightFaceDiv);
			}

			BFEngine.render(member, $tabPanelDiv[0]);
		} else {
			break;
		}
		i++;
	}

	this.selectCubeFaceAsTab("front");
};

BC.prototype.selectCubeFaceAsTab = function (face) {
	var $tabPanel = $("#" + this.config.id + "-tab-panel");
	var $frontFace = $("#" + this.config.id + "-front-face");
	var $leftFace = $("#" + this.config.id + "-left-face");
	var $rightFace = $("#" + this.config.id + "-right-face");

	var selectedTabPanel = null;

	if(face == "front") {
		selectedTabPanel = $frontFace.children();
		$tabPanel.html("").append($frontFace.children());
	} else if(face == "left") {
		selectedTabPanel = $leftFace.children();
		$tabPanel.html("").append($leftFace.children());
	} else if(face == "right") {
		selectedTabPanel = $rightFace.children();
		$tabPanel.html("").append($rightFace.children());
	}

	var memberName = selectedTabPanel.attr("rel");
	this.bf.members[memberName].fire("selected", undefined, true);

	preselectedFace = face;
};

BC.prototype.rotateCube2 = function (direction) {
	var _this = this;
	var $tabPanel = $("#" + this.config.id + "-tab-panel");
	var $cubeContainer = $("#" + this.config.id + "-cube2-container");
	var $frontFace = $("#" + this.config.id + "-front-face");
	var $leftFace = $("#" + this.config.id + "-left-face");
	var $rightFace = $("#" + this.config.id + "-right-face");
	var $cube2 = $("#cube2");

	var cubeVisible = $cubeContainer.is(":visible");
	if(cubeVisible) {
		return;
	}


	var cls = "";
	var selectedFace = "";
	if(direction == "left") {
		if(preselectedFace == "front") {
			cls = "show-left";
			selectedFace = "left";
		} else if(preselectedFace == "right") {
			cls = "show-front";
			selectedFace = "front";
		}
	} else if(direction == "right") {
		if(preselectedFace == "front") {
			cls = "show-right";
			selectedFace = "right";
		} else if(preselectedFace == "left") {
			cls = "show-front";
			selectedFace = "front";
		}
	}
	if(cls) {

		// tabpanel de duran küpün yüzünü tekrar küpe koy
		if(preselectedFace == "front") {
			$frontFace.html("").append($tabPanel.children());
		} else if(preselectedFace == "left") {
			$leftFace.html("").append($tabPanel.children());
		} else if(preselectedFace == "right") {
			$rightFace.html("").append($tabPanel.children());
		}
		$tabPanel.hide();

		var mainTab = SIDENavigator.getMainTab();
		if(mainTab) {
			$("#" + mainTab.getConfig().id + "> .csc-tab-panels-section").css("overflow-y", "visible");
		}

		$cube2.css("zoom", "0.8");

		$cubeContainer.fadeToggle(toggleDuration, "easeInQuad", function () {
			for(var mem in _this.bf.members) {
				BFEngine.DRL(_this.bf.members[mem]);
			}
			// dönder
			$cube2.removeClass().addClass(cls);
			// küçült
			// $cube2.animate({ 'zoom': 0.8 }, 400);

			// büyüt ve kapat
			setTimeout(function () {

				$cubeContainer.fadeToggle(toggleDuration, "easeInQuad", function () {
					if(mainTab) {
						$("#" + mainTab.getConfig().id + "> .csc-tab-panels-section").css("overflow-y", "auto");
					}
					_this.selectCubeFaceAsTab(selectedFace);
					$tabPanel.fadeToggle(350, "easeInQuad");
					$cube2.css("zoom", "1.0");

				});
			}, rotateDuration);
		});
	}
};

BC.prototype.addMember = function (name) {
	this.appendNewMember(this.bf.members[name], name, true);
	this.bf.fire("tabAdded", name);
};

BC.prototype.newMemberAdded = function (name) {
	this.bf.fire("tabAdded", name);
};

BC.prototype.removeMember = function (name, businessName) {
	this.renderMap[name] = undefined;
	var $tabpanel = $("#" + this.config.id);
	$(".csc-tab-buttons-section > .csc-tab-buttons-container > ul > li[rel='" + name + "']", $tabpanel).remove();
	$(".csc-tab-panels-section > div[rel='" + name + "']", $tabpanel).remove();
	this.bf.fire("tabClosed", name, businessName);

	for(var i = 0; i < this.buttonMap.length; i++) {
		if(this.buttonMap[i].n == name) {
			this.buttonMap.splice(i, 1);
			break;
		}
	}

	var $$tab = $$.byid(this.config.id);
	var $$buttonsUL = this.getButtonsUL($$tab);
	this.focusTab();
	this.reCalculateButtons($$buttonsUL);
};

BC.prototype.load = function () {
	if(this.onloadcallback) {
		this.onloadcallback();
	}

	if(this.config.cubeEffect) {
		this.csCubeManager = new CSCubeManager();
		var _this = this;
		$(window).bind('keydown', function (event) {
			if(event.ctrlKey) {
				var keyCode = event.keyCode;
				if(keyCode == 13) {//enter
					event.preventDefault();
					_this.rotateCube("toggle");
				} else if(keyCode == 37) {//left
					event.preventDefault();
					_this.rotateCube("prev");
				} else if(keyCode == 38) {//up
					event.preventDefault();
					_this.rotateCube("up");
				} else if(keyCode == 39) {//right
					event.preventDefault();
					_this.rotateCube("next");
				} else if(keyCode == 40) {//down
					event.preventDefault();
					_this.rotateCube("down");
				} else if(keyCode == 27) {//escape
					event.preventDefault();
					_this.rotateCube("toggle");
				}
			}


		});
	}
	
	if(this.config.navigateWithShortcuts){
		var _this = this;
		$(window).bind('keydown', function (event) {
			if(!$$.width(_this.config.id)){
				return;
			}
			if(event.ctrlKey) {
				var keyCode = event.keyCode;
				if(keyCode == 37) {//left
					event.preventDefault();
					_this.selectPreviousTab();
				} else if(keyCode == 39) {//right
					event.preventDefault();
					_this.selectNextTab();
				} 
			}
		});
	}
};

BC.prototype.bindEvent = function (eventName, callback) {
	if(eventName == "selected") {
		var dom = byid(this.config.id);
		if(typeof dom !== "undefined" && dom !== null) {
			dom.onclick = callback;
		}
	} else if(eventName === "drop") {
		var dom = byid(this.config.id);
		if(typeof dom !== "undefined" && dom !== null) {
			dom.ondrop = callback;
		}
	} else if(eventName == "dragover") {
		var dom = byid(this.config.id);
		if(typeof dom !== "undefined" && dom !== null) {
			dom.ondragover = callback;
		}
	} else if(eventName == "onload") {
		this.onloadcallback = callback;
	}
};






})(window);
/////=csc-vertical.js=/////
(function(window, undefined) {
/** @class CSC-VERTICAL LAYOUT */
function Definition(CS) {
	this.DEFAULTS = {
		style : {
			textAlign : "left"
		}
	};

	this.BaseBF = "CONTAINER";
	this.LABEL = "Vertical Layout";

	this.METHODS = [ "mask", "unmask", "collapse", "expand", "accordion(width)", "hasVisibleItem", "scrollTo(direction)", "isCollapsed()" ];
	this.EVENTS = [ "selected", "oncontextmenu", "onEnterPressed", "onload", "oninit(param)", "onexpand(expanded)", "closeIconSelected", "ondragstart(member)", "ondrop","dragover","dragleave" ];
    this.DISABLE_EVENTS = [ "selected" ];

	this.Type = function() {};
};

var def = new Definition();
def.Type.prototype = new BaseBC();
BCEngine.registerType("CSC-VERTICAL", def);

var BC = def.Type;

	
BC.prototype.accordion = function(width) {
	/**
	 * @function accordion
	 * @description Container'ın açılıp kapanmasını sağlar
	 * @param [width] 300px genişletmek için "300px" verilmeli, kapatmak için "0px" verilmeli  
	 **/
	if(typeof width != "string"){
		return;
	}
	var $$vertContainer = $$.byid(this.config.id);
	if(!$$vertContainer){
		return;
	}
	var $container = $($$vertContainer);
	if(width.indexOf("-") == 0){
		$container.animate({
			width : width
		}, 500, function() {
			$container.hide();
		});
	} else {
		$container.show();
		var bf = this.bf;
		$container.animate({
			width : width
		}, 500, function() {
			BFEngine.DRL(bf);
		});
	}
};

BC.prototype.scrollTo = function(arg){
	if(arg == "bottom"){
		var $$cont = $$.byid(this.config.id);
		if($$cont){
			this.scrollTop = 10000; 
			$$cont.scrollTop = this.scrollTop;
		}
	}
};

BC.prototype.renderMember = function(member, $$verItemsContainer){
	if (member.bcRef.typeName == "CSC-POPUP") {
		return;
	}
	var bc = this, bf=bc.bf, config=bc.config;
	var $$vertContainer = $$.byid(config.id);
	if(!$$vertContainer){
		return;
	}
	var scrolledParent = $$.findScrolledParent($$vertContainer);
	var scrollTop = scrolledParent ? scrolledParent.scrollTop : 0;
	var $$after = null, $$into = null;
	if(!$$verItemsContainer){
		var previusMember = null;
		$$verItemsContainer = $$.getChildHasClass($$vertContainer, "csc-ver-items-container");
		if(!$$verItemsContainer){
			var $$verItemsContainer = $$.query($$vertContainer, [{clazz:"csc-form-fieldset"},{clazz:"csc-ver-items-container"}]);
		}
		for(var memName in bf.members){
			if(bf.members[memName] == member){
				break;
			}
			var $$tmp = $$.query($$verItemsContainer, {clazz: "csc-ver-block", attr: {rel:memName}});
			if($$tmp){
				$$after = $$tmp;
			}
		}
		if(!$$after){
			$$into = $$verItemsContainer;
		}
	}
	
	var memName = member.$CS$.name;

	$$renderedDiv = $$.query($$verItemsContainer, {clazz: "csc-ver-block", attr: {rel:memName}});
	if($$renderedDiv){//zaten render edilmiş, rerender isteniyor
		$$.remove($$renderedDiv)
	}
	if (!inDesigner(bf) && (!bf.isVisible() || !member.hasVisibleItem())) {
		return;
	}

	var memberConfig = member.getConfig();
	var $$labelDiv = null;
	var $$elementDiv = $$.create("div");
	var labelPosition = memberConfig.labelPosition === "inherited" ? config.labelPosition : (memberConfig.labelPosition || config.labelPosition);
	if (labelPosition == "inherited") {
		labelPosition = "none";
	}
	if (labelPosition != "none") {
		$$labelDiv = $$.create("div", null, ["csc-form-label",memberConfig.label_class]);
		if (memberConfig.label) {
			var label = memberConfig.label;
			if(labelPosition == "left"){
				label = label + ":";
			}
			
			if(memberConfig.labelClick!==false){
				$$labelDiv.innerHTML = "<label for='"+memberConfig.id+"'>"+ label +"</label>";
			}else{
				$$labelDiv.innerHTML = "<label>"+ label +"</label>";
			}
		}
	}

	var $$containerDiv = $$.create("div", {"rel": memName}, "csc-ver-block");
	if (false/*member.isContainer() || member.isTabular()*/) {
		// containe ve tabular BF'ler için hor align sadece label pos=top olduğunda önemli, diğer durumlarda bir fark yaratmıyor
		if(memberConfig.label && labelPosition && labelPosition !== "none"){
			if (labelPosition == "left") {
				$$containerDiv.style.display = "table";
				var $$rowDiv = $$.create("div", null, null,{display: "table-row"});
				$$.css($$elementDiv, {display: "table-cell", width: "100%"});
				$$.css($$labelDiv, {display: "table-cell", verticalAlign: "middle"});
				$$rowDiv.appendChild($$labelDiv);
				$$rowDiv.appendChild($$elementDiv);
				$$containerDiv.appendChild($$rowDiv);
				$$labelDiv.classList.add("csc-left-align-label");
			} else if (labelPosition == "top") {
				$$.css($$labelDiv, {width: "100%", textAlign: this.config.horAlign});
				$$containerDiv.appendChild($$labelDiv);
				$$containerDiv.appendChild($$elementDiv);
			} else if (labelPosition == "right") {
				$$containerDiv.style.display = "table";
				var $$rowDiv = $$.create("div", null, null,{display: "table-row"});
				$$.css($$elementDiv, {display: "table-cell", width: "100%"});
				$$.css($$labelDiv, {display: "table-cell", verticalAlign: "middle"});
				$$rowDiv.appendChild($$elementDiv);
				$$rowDiv.appendChild($$labelDiv);
				$$containerDiv.appendChild($$rowDiv);
				$$labelDiv.classList.add("csc-right-align-label");
			} 
		} else {
			$$elementDiv.style.width = "100%";
			$$containerDiv.appendChild($$elementDiv);
		}
	} else {// Basic Type
		if (this.config.horAlign == "left" || config.horAlign == "right") {
			if(memberConfig.label && labelPosition && labelPosition !== "none"){
				if (labelPosition == "left") {
					$$.css($$containerDiv, {textAlign: config.horAlign, width: "100%"});
					$$elementDiv.style.display = "inline-block";
					$$labelDiv.style.display = "inline-block";
					$$containerDiv.appendChild($$labelDiv);
					$$containerDiv.appendChild($$elementDiv);
					$$labelDiv.classList.add("csc-left-align-label");
				} else if (labelPosition == "top") {
					$$.css($$labelDiv, {width: "100%",textAlign: config.horAlign});
					$$.css($$elementDiv, {width: "100%",textAlign: config.horAlign});
					$$containerDiv.appendChild($$labelDiv);
					$$containerDiv.appendChild($$elementDiv);
				} else if (labelPosition == "right") {
					$$.css($$containerDiv, {width: "100%",textAlign: config.horAlign});
					$$elementDiv.style.display = "inline-block";
					$$labelDiv.style.display = "inline";
					$$containerDiv.appendChild($$elementDiv);
					$$containerDiv.appendChild($$labelDiv);
					$$labelDiv.classList.add("csc-right-align-label");
				}
			} else {// none
				$$elementDiv.style.width = "100%";
				$$.css($$containerDiv, {width: "100%",textAlign: config.horAlign});
				$$containerDiv.appendChild($$elementDiv);
			}
		} else {// Hor align is CENTER
			if(memberConfig.label && labelPosition && labelPosition !== "none"){
				if (labelPosition == "left") {
					$$.css($$containerDiv, {width: "100%",textAlign: config.horAlign});
					$$elementDiv.style.display = "inline-block";
					$$labelDiv.style.display = "inline-block";
					$$containerDiv.appendChild($$labelDiv);
					$$containerDiv.appendChild($$elementDiv);
					$$labelDiv.classList.add("csc-left-align-label");
				} else if (labelPosition == "top") {
					$$containerDiv.style.textAlign = config.horAlign;
					$$.css($$labelDiv, {width: "100%",textAlign: config.horAlign});
					$$.css($$elementDiv, {width: "100%",textAlign: config.horAlign});
					$$containerDiv.appendChild($$labelDiv);
					$$containerDiv.appendChild($$elementDiv);
				} else if (labelPosition == "right") {
					$$.css($$containerDiv, {width: "100%",textAlign: config.horAlign});
					$$elementDiv.style.display = "inline-block";
					$$labelDiv.style.display = "inline";
					$$containerDiv.appendChild($$elementDiv);
					$$containerDiv.appendChild($$labelDiv);
					$$labelDiv.classList.add("csc-right-align-label");
				}	
			}else {// none
				$$.css($$containerDiv, {width: "100%",textAlign: config.horAlign});
				$$containerDiv.appendChild($$elementDiv);
			}
		}
	}
	if(memberConfig.layoutConfig && memberConfig.layoutConfig.vertHeight){
		$$elementDiv.style.height = memberConfig.layoutConfig.vertHeight;
	}
	
	if($$after){
		var $$next = $$.next($$after);
		$$verItemsContainer.insertBefore($$containerDiv, $$next || null);
	} else if($$into){
		$$verItemsContainer.insertBefore($$containerDiv, $$into.firstChild);
	} else {
		$$verItemsContainer.appendChild($$containerDiv);
	}

	if (member.isRequired() && (!bf.isDisabled() && !member.isDisabled())) {
		$$.addClass($$elementDiv, "csc-required");
	}
	if(bc.config.draggable){
		$$elementDiv.setAttribute("draggable", "true");
		$$.bindEvent($$elementDiv, "dragstart", function(event){
			console.log("vertical on drag start, member name:" + memName);
			event.stopPropagation();
			bc.bf.fire("ondragstart", memName);
		});
	}
	
	BFEngine.render(member, $$elementDiv);
//	if(scroolTop != $$.getScrollTop()){
//		window.scrollTo(undefined, scrool);
//	}
	if(scrolledParent){
		scrolledParent.scrollTop = scrollTop;
	}
};

BC.prototype.render = function($container) {
	var bf = this.bf, bc = this;
	
	var $$vertContainer = $$.create("div", {"id": this.config.id}, ["csc-ver-container", this.config.cssClass]);
	var $$verItemsContainer = $$.create("div", undefined, ["csc-ver-items-container", "csc-bordered-box"]);
	$$vertContainer.style.display = this.config.visible ? "" : "none";

	if(bc.config.panelType){
		$$verItemsContainer.classList.add("csc-ver-container__"+bc.config.panelType);
	}
	if(bc.config.style && bc.config.style.fillPanel){
		$$verItemsContainer.classList.add("csc-ver-container--filled");
	}
	if(bc.config.style && bc.config.style.borderPanel){
		$$verItemsContainer.classList.add("csc-ver-container--bordered");	
	}
	if(inDesigner(this.bf)){
		$$vertContainer.style.display = "";
	}
    if(sideDebugLevel() > 1){
        $$vertContainer.setAttribute("rel-def", bf.getBusinessName());
    }
	if (this.config.style && this.config.style.width) {
		$$vertContainer.style.width = this.config.style.width;
		if(this.config.style.overflowAuto){
			$$.css($$verItemsContainer, "overflow-x", "auto");
		}
	}
	if (this.config.style && this.config.style.height) {
		$$.css($$vertContainer, "height", this.config.style.height);
		if(this.config.style.overflowAuto){
			$$.css($$vertContainer, "overflow-y", "auto");
		}
	}
	if (this.config.style && this.config.style.padding) {
		$$.css($$vertContainer, "padding", this.config.style.padding);
	}
	$$.css($$verItemsContainer, this.config.style || {});

	var titleType = this.config.titleType || "none";
	if (titleType == "window") {
		var $$titleDiv = $$.create("div", null, ["csc-form-title", this.config.titleClass], {"width": "100%"});
		var $$titleSpan = $$.create("span", null, this.config.titleIcon);
		$$titleSpan.innerHTML = this.config.title || "";
		$$titleDiv.appendChild($$titleSpan);
		if (this.config.collapsible === true) {
			var $$collapseBtn = $$.create("ins", null, "collapse");
			$$collapseBtn.onclick = function() {
				if (bc.collapsed) {
					bf.expand();
				} else {
					bf.collapse();
				}
			};
			$$titleDiv.appendChild($$collapseBtn);
			if(this.config.collapsePos === "left"){
				$$.addClass($$titleDiv, "csc-form-title-collapse-left"); 
			}
		}
		if(this.config.showCloseIcon){
			var $$closeBtn = $$.create("ins", null, "close");
			$$closeBtn.onclick = function() {
				bc.bf.fire("closeIconSelected");
			};
			$$titleDiv.appendChild($$closeBtn);
		}
		$$vertContainer.appendChild($$titleDiv);
		$$.addClass($$verItemsContainer, "csc-bordered-container");
		$$vertContainer.appendChild($$verItemsContainer);
		
	} else if (titleType == "fieldset" || titleType == "bfieldset") {
		var $$fieldSet = $$.create("fieldset", null, ["csc-form-fieldset", titleType == "bfieldset" ? "borderless-fieldset":null]);
		var $$legend = $$.create("legend", undefined,  this.config.titleClass);
		if (this.config.collapsible === true && this.config.showTitle !== false) {
			$$.addClass($$legend, "collapse");
			$$legend.onclick = function() {
				if (bc.collapsed) {
					bf.expand();
				} else {
					bf.collapse();
				}
			};
			$$legend.innerHTML = "<span>" +(this.config.title || "&nbsp;")+ "</span>";
			$$fieldSet.appendChild($$legend);
		} else if (this.config.title && this.config.showTitle !== false) {
			$$legend.innerHTML = "<span>" +(this.config.title || "&nbsp;")+ "</span>";
			$$fieldSet.appendChild($$legend);
		} else {
			$$.addClass($$fieldSet, "csc-form-fieldset-nolegend");
		}
        if(this.config.bottomBorder === false){
            $$.addClass($$fieldSet, "no-bottom-border");
        }
		$$fieldSet.appendChild($$verItemsContainer);
		$$vertContainer.appendChild($$fieldSet);
	} else if (titleType === undefined || titleType == "none") {
		$$.addClass($$vertContainer, "csc-form-container");
		$$vertContainer.appendChild($$verItemsContainer);
	}
	
	$container.appendChild($$vertContainer);
	for ( var memberName in this.bf.members) {
		var member = this.bf.members[memberName];
		this.renderMember(member, $$verItemsContainer);
	}
	
	if (this.config.collapsible === true) {
		if(this.collapsed){
			this.collapse();
		} else {
			this.expand();
		}
	}
	
	this.applyAddedClasses();
	
	
	if(this.scrollTop){//scrollTo metodu için gerekli
		$$vertContainer.scrollTop = this.scrollTop;
	}
	
	if(this.config.maskIt){
		this.mask();
	}
};

BC.prototype.load = function() {
	if (this.onloadcallback) {
		this.onloadcallback();
	}
};

BC.prototype.collapse = function() {
	var $$container = $$.byid(this.config.id);
	if(this.config.titleType == "fieldset" || this.config.titleType == "bfieldset"){
		var $$fieldset = $$.child($$container,"fieldset");
		$$.toggleClass($$.child($$fieldset, "legend"), "expand", "collapse");
		$$.toggleClass($$fieldset, "expanded", "collapsed");//-------------> fieldset'in class'ını değiştir TODO: legend'de eklenmiş sınıf yerine fieldset'i kullan ve gerecek css değişikliğini tüm temalarda yap.
		$$.css($$.getChildHasClass($$fieldset, "csc-ver-items-container"), "display", "none");
		$$.css($$fieldset, "height", "8px");
	} else if(this.config.titleType == "window"){
		var $$ins = $$.query($$container, [{tagName: "DIV", clazz: "csc-form-title"}, {tagName: "INS"}]);
		$$.toggleClass($$ins, "expand", "collapse");
		$$.css($$.getChildHasClass($$container, "csc-ver-items-container"), "display", "none");
	}
	
	this.collapsed = true;
	this.bf.fire("onexpand", false);
};

BC.prototype.isCollapsed = function() {
	return this.collapsed;
};

BC.prototype.expand = function() {
	var $$container = $$.byid(this.config.id);
	if(this.config.titleType == "fieldset" || this.config.titleType == "bfieldset"){
		var $$fieldset = $$.child($$container,"fieldset");
		$$.toggleClass($$.child($$fieldset, "legend"), "collapse", "expand");
		$$.toggleClass($$fieldset, "collapsed", "expanded");//-------------> fieldset'in class'ını değiştir TODO: legend'de eklenmiş sınıf yerine fieldset'i kullan ve gerecek css değişikliğini tüm temalarda yap.
		$$.css($$.getChildHasClass($$fieldset, "csc-ver-items-container"), "display", "");
		if($$fieldset){
			$$fieldset.style.height = "";
		}
	} else if(this.config.titleType == "window"){
		var $$ins = $$.query($$container, [{tagName: "DIV", clazz: "csc-form-title"}, {tagName: "INS"}]);
		$$.toggleClass($$ins, "collapse", "expand");
		$$.css($$.getChildHasClass($$container, "csc-ver-items-container"), "display", "");
	}
	
	this.collapsed = false;
	for(var mname in this.bf.members){
		BFEngine.DRL(this.bf.members[mname]);
	}
	this.bf.fire("onexpand", true);
};

BC.prototype.getChildContainer = function(memberName) {
	var $$container = $$.byid(this.config.id);
	if(!$$container){
		return;
	}
	if(this.config.titleType == "fieldset" || this.config.titleType == "bfieldset"){
		var $$fieldset = $$.child($$container,"fieldset");
		var $$vertContainer = $$.getChildHasClass($$fieldset, "csc-ver-items-container");
		return $$.getChildHasAttr($$vertContainer, "rel", memberName);
	} else {
		var $$vertContainer = $$.getChildHasClass($$container, "csc-ver-items-container");
		return $$.getChildHasAttr($$vertContainer, "rel", memberName);
	}
};


BC.prototype.mask = function(message) {
	var id = this.config.id;

	this.config.maskMessage = message || this.config.maskMessage;
	this.config.maskIt = true;
	 
	var $$gen = $$.byid(id);
	if(!$$gen){
		return;
	}
	var maskDivId = id + "-mask";
	$$dom = $$.byid(maskDivId);
	$$.remove($$dom);
	
	var $$maskDiv = $$.create("DIV",{"id": maskDivId}, "maskDiv", {"width": $$.innerWidth($$gen)+"px", "height": $$.innerHeight($$gen)+"px"});

	var $$loadingDiv = $$.create("DIV", undefined, "maskedLoadInfo");

	var $$img = $$.create("IMG", {"src": "css/bc-style/img/loadmaskicon.gif"});
	var $$span = $$.create("SPAN");
	$$span.innerHTML = this.config.maskMessage;
	
	$$loadingDiv.appendChild($$img);
	$$loadingDiv.appendChild($$span);
	$$maskDiv.appendChild($$loadingDiv);
	
	var $$parent = $$gen.parentNode;
	$$parent.insertBefore($$maskDiv, $$gen);
	$$.css($$parent, { position: "relative"});
	
	$$.css($$loadingDiv, {"margin-left": $$.innerWidth($$gen) / 2 - $$.innerWidth($$loadingDiv) / 2+"px", "margin-top": $$.innerHeight($$gen) / 2 - $$.innerHeight($$loadingDiv) / 2+"px"});
};

BC.prototype.unmask = function() {
	$$dom = $$.byid(this.config.id+"-mask");
	$$.remove($$dom);
	this.config.maskIt = undefined;
};

BC.prototype.setTitle = function(title){
	this.config.title = title;
	var $$container = $$.byid(this.config.id);
	if(this.config.titleType == "window") {
		var $$spanTitle = $$.query($$container, [{tagName: "div", clazz: "csc-form-title"}, {tagName: "span"}]);
		if($$spanTitle){
			$$spanTitle.innerHTML = title;
		}
	} else if(this.config.titleType == "fieldset" || this.config.titleType == "bfieldset") {
		var $$spanTitle = $$.query($$container, [{tagName: "fieldset"}, {tagName: "legend"}, {tagName: "span"}]);
		if($$spanTitle){
			$$spanTitle.innerHTML = title;
		}
	}
};

BC.prototype.bindEvent = function(eventName, callback) {
	if (eventName == "selected") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.onclick = callback;
		}
	}else if (eventName == "oncontextmenu") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.oncontextmenu = callback;
		}
	} else if (eventName == "drop" || eventName == "ondrop") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.ondrop = callback;
			$$.bindEvent(dom, "dragover", function (ev){ev.preventDefault(); ev.stopPropagation();});//drop olayının çalışması için
		}
	} else if (eventName == "dragover") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.ondragover = callback;
		}
	}else if (eventName == "dragleave") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.ondragleave = callback;
		}
	}
	else if (eventName == "onload") {
		this.onloadcallback = callback;
	} else if (eventName == "onEnterPressed") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.onkeypress = function(e) {
				SIDENavigator.setEvent(e);
				if (e.keyCode == 10 || e.keyCode == 13) {//keyCode is 10 if ctrl+enter in chrome
					callback();
				}
			};
		}
	}
};



})(window);
/////=csc-title.js=/////
(function(window, undefined) {
/**
 * @class CSC-TITLE
 * @classdesc Temel plaintext componenti.
 * @author Mahmut Yıldız
 */
function Definition(CS) {
	this.DEFAULTS = {
		value : "title",
		labelPosition : "inherited"
	};

	this.BaseBF = "NON-BUSINESS";
	this.LABEL = "Title";

	this.METHODS = [ "setTitle(title)", "getTitle", "setOnContextMenuCallback(callback)", "showContextMenu", "setTips(tips)" ];
	this.EVENTS = [ "selected" ];
	this.DISABLE_EVENTS = [ "selected" ];
	this.DEPENDENCIES = [];
	this.DISABLE_EVENTS = [ "selected" ];

	this.Type = function() {};
}
var def = new Definition();
def.Type.prototype = new BaseBC();
BCEngine.registerType("CSC-TITLE", def);

var BC = def.Type;


BC.prototype.setOnContextMenuCallback = function(callback) {
	var bc = this;
	this.contextMenuCallback = callback;
	
	var $$dom = $$.byid(this.config.id);
	if($$dom){
		$$.bindEvent($$dom, "contextmenu", function(event){
			bc.showContextMenu(event);
		});
	}
};

BC.prototype.showContextMenu = function(event) {
	event = event || window.event;
	var bc = this;
	console.log("title context menu");
	event.preventDefault();
	var menuItemsObj = this.contextMenuCallback();

	csdu.contextMenu({
		moduleName: bc.bf.getModuleName(),
		left: event.pageX, 
		top: event.pageY, 
		items:menuItemsObj,
		bf: bc.bf
	}, undefined, event);
};

BC.prototype.setTips = function(tips) {
	/**
	 * @function setTips
     * @description Başlığın üstüne gelip bekleyince beliren ipucunu ayarlar.
     * @param [tips] Butonun üstünde beliren ipucu
     **/
	this.config.tips = tips || "";
	var $$p = $$.byid(this.config.id);
	if($$p){
		$$p.setAttribute("title", this.config.tips);
	}
};

BC.prototype.getTitle = function() {
	return this.config.title;
};
BC.prototype.setTitle = function(title) {
	this.config.title = title;
	var domObject = byid(this.config.id);
	if (domObject) {
		domObject.innerHTML = title;
	}
};

BC.prototype.getText = function() {
	return this.config.title;
};

BC.prototype.render = function($container) {
	var bc = this;
	var value = this.config.title;
	if(this.config.title === undefined || this.config.title === null){
		value = "";
	}
	var disabled = this.bf.isDisabled() ? "disabled" : "";
	var fontWeight = this.config.fontWeight || "";
	var fontSize = this.config.fontSize || "";
	var italic = this.config.italic || "";
	// create button
	var $$p = $$.create("P", {id: this.config.id}, ["csc-rospan csc-title", this.config.cssClass], this.config.style);
	
	if(this.config.style){
		if(this.config.style.appearance){
			$$p.classList.add("csc-title-"+this.config.style.appearance);
		}
	}
	
	$$.css($$p, {
		fontWeight: this.config.fontWeight,
		fontStyle: italic ? "italic" : undefined,
		fontSize: fontSize ? fontSize + "pt"  : undefined
	});
	
	$$p.innerHTML = value;
	if(inDesigner(this.bf)){
		var bc = this;
		var $$img = $$.create("IMG", {src: "designer/img/edit.gif", title: "Edit Title Content"});
		$$img.onclick = function(){
			bc.titleEdit();
		};
		$$p.appendChild($$img);
		if($$p.firstChild){
			$$p.insertBefore($$img, $$p.firstChild);
		}
	}
	
	if(this.config.tips){
		$$.attr($$p, "title", this.config.tips);
	}
	
	
	$$p.style.display = inDesigner(this.bf) || this.config.visible ? "" : "none"; //Design Time da visible yap
	
	
	if(this.contextMenuCallback){
		$$.bindEvent($$p, "contextmenu", function(event){
			bc.showContextMenu(event);
		});
	}
	
	// set display if exists
	$container.appendChild($$p);
};

BC.prototype.titleEdit = function(){
	function destroy(){
		var $$editorDiv = $$.byid("titleEditorDiv");
		var $$div = $$.getChildHasClass($$editorDiv, "cleditorMain");
		$$.remove($$div);
		$$textarea = $$.create("TEXTAREA", {id :"titleEditorTextArea"});
		$$editorDiv.insertBefore($$textarea, $$editorDiv.firstChild);
	}
	
	var $$editorDiv = $$.byid("titleEditorDiv");
	var popup = new CSSimplePopup($$editorDiv, {closeOnEscape: false, dontRemove: true, title: "Edit Paragraph (Title) Content", width: 640, closeCallback: destroy});
	popup.open();
	var textarea = $$.byid("titleEditorTextArea");
	$(textarea).val(this.getTitle());
	var editor = $(textarea).cleditor();
	editor[0].updateFrame();
	var bf = this.bf;
	
	
	$$.byid("titleEditorOkBtn").onclick = function(){
		csd.changeMemberConfig(bf.$CS$.id, "title", editor[0].doc.body.innerHTML);
		csd.tabManager.addDirtyOp({});
		csd.Properties.refresh();
		popup.close();
//		destroy();
	};
};

BC.prototype.bindEvent = function(eventName, callback) {
	if (eventName == "selected") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			$$.addClass(dom, "csc-title-selected");
			dom.onclick = callback;
		}
	}
};
})(window);
/////=csc-popup.js=/////
(function(window, undefined) {
/** @class CSC-POPUP */
function Definition(CS) {
	this.DEFAULTS = {
		cls : "csc-popup",
		border : false,
		autoOpen : false,
		modal : true,
		closeTitleBar : false,// Titlebar'i saklamak icin
		closeOnEsc : true,
		resizable : false,
		stack : true,
		width : "auto"
	};

	this.BaseBF = "CONTAINER";
	this.LABEL = "Popup";

	this.METHODS = [ "open(isglobal)", "close", "destroy", "isOpen", "moveToTop", "setTitle(title)", "resize(width, height)", "cancel(action)","hide","show"];
	this.EVENTS = [ "beforeopen(context)", "opened(param)", "selected", "onclose", "onmaximize(width, height)", "onminimize(width, height)" ];
	this.DEPENDENCIES = [ {
		name : "JQuery",
		version : "2.0.3"
	} ];

	this.Type = function() {
		this.$popupDiv = null;
		this.popup = null;
	};
}

var def = new Definition();
def.Type.prototype = new BaseBC();
BCEngine.registerType("CSC-POPUP", def);

var BC = def.Type;

BC.prototype = new BaseBC();

BC.prototype.init = function() {
	this.cancels={};
}
BC.prototype.DRL = function() {
	return false;
};

BC.prototype.render = function($container) {
	var bf = this.bf;
	if (this.$$popupDiv) {
		this.$$popupDiv.innerHTML = "";
	}

	if (!$container) {// run time
		$container = this.$$popupDiv;
	}else {	// ADogan - $$popupDiv olmadığı zaman isRendered doğru çalışmıyordu.
		if(this.$$popupDiv){	// Designer'daki popup patlamaması için.
			$container.appendChild(this.$$popupDiv);
			$container = this.$$popupDiv;
		}
	}
	
	// Bir popup'ın içerisinde sadece bir page olabilir. NŞA'da for birkez dönmeli
	for ( var member in bf.members) {
		BFEngine.render(bf.members[member], $container);
	}
	if(this.popup && ($$.innerHeight(window)< this.popup.$popupWindow.height() + this.popup.$popupWindow.position().top)){
		var wh = $$.innerHeight(window);
		var h = this.popup.$popupWindow.height();
		this.popup.$popupWindow.css({
			top: (wh-h) ? (wh-h) : "0px",
		});
	}
	//this.popup.checkAndSetPopupHeight();
};

BC.prototype.resize = function(width, height) {
	if (this.$$popupDiv) {
		if(width && width.indexOf && width.indexOf('px')>0){
			width = width.split('px')[0];
		}
		if(height && height.indexOf &&  height.indexOf('px')>0){
			height = height.split('px')[0];
		}
		this.popup.resize(width, height);
	}
};

BC.prototype.destroy = function() {
};

BC.prototype.moveToTop = function() {
};

BC.prototype.close = function() {
	if (this.$$popupDiv) {
		this.popup.close();
		this.$$popupDiv = null;
	}
};

BC.prototype.hide = function() {
	if(this.popup){
		this.popup.hide();	
	}
};
BC.prototype.show = function() {
	if(this.popup){
		this.popup.show();	
	}
};

BC.prototype.hasVisibleItem = function(){
	return true;
};

BC.prototype.isOpen = function() {
	if (this.$$popupDiv) {
		return this.popup.isOpen();
	}
	return false;
};


BC.prototype.setTitle = function(title) {
	this.config.title = title;
	if (this.popup) {
		this.popup.changeTitle(title);
	}
};

BC.prototype.cancel = function(action) {
	this.cancels[action] = true;
};

BC.prototype.open = function(isglobal, paramObj) {
	var bc=this,bf = bc.bf;
	this.$$popupDiv = $$.create("DIV", {id: this.config.id});
	var param = csCloneObject(this.config);
	var width = null, height = null;
	var title = this.config.title;

	// popup açılırken focus edilmiş elemanı unfocus yap.
	if(!this.config.contextMenu){
		if(document.activeElement && typeof document.activeElement.blur == "function"){
			document.activeElement.blur();
		}
	}
	
	var member = null;
	for ( var memberName in this.bf.members) {// zaten tek eleman olmalı
		member = this.bf.members[memberName];
		var ref = member.bcRef;
		if(ref.typeName == "CSC-PAGEX" || ref.typeName == "CSC-PAGE"){//page
			var memConfig = ref.config.layoutConfig;
			if (memConfig.pageLayout == "fixed") {
				width = parseInt(memConfig.minWidth, 10) + 34;
				height = parseInt(memConfig.minHeight, 10) + 62;
			} else {
				width = parseInt(memConfig.minWidth, 10) + 34;
				if(memConfig.width && parseInt(memConfig.width, 10) > width){
					width = parseInt(memConfig.width, 10) + 34;
				}
				height = parseInt(memConfig.height, 10) + 62;
			}
			if (!title) {
				title = ref.config.title || "";
			}
		} else {//region
			if(ref.config.style){
				if(ref.config.style.width){
					width = parseInt(ref.config.style.width, 10) + 34;
				}
				if(ref.config.style.height){
					height = parseInt(ref.config.style.height, 10) + 62;
				}
			}
			
			title = ref.config.title || "";
		}
	}
	if(!paramObj){
		paramObj = {};
	}
	if(!this.config.style){
		this.config.style = {};
	}
	param.bf = this.bf;
	param.title = title;
	param.global = isglobal !== undefined ? isglobal : (this.config.isGlobal ? true : undefined);
	param.width = paramObj.width || this.config.style.width || width;
	param.height = paramObj.height || this.config.style.height || height;
	param.showMaximizeIcon = paramObj.showMaximizeIcon !== undefined ? paramObj.showMaximizeIcon : (this.config.showMaximizeIcon  || false); 
	param.showCloseIcon = paramObj.showCloseIcon !== undefined ? paramObj.showCloseIcon : (this.config.showCloseIcon); 
	param.overlayExist = paramObj.overlayExist !== undefined ? paramObj.overlayExist : (this.config.overlayExist);
	param.overlayOpacity = paramObj.overlayOpacity !== undefined ? paramObj.overlayOpacity : (this.config.overlayOpacity);
	param.showTitleBar = paramObj.showTitleBar !== undefined ? paramObj.showTitleBar : (this.config.showTitleBar);
	param.contextMenu = paramObj.contextMenu !== undefined ? paramObj.contextMenu : (this.config.contextMenu);
	param.closeOnEscape = paramObj.closeOnEsc !== undefined ? paramObj.closeOnEsc : (this.config.closeOnEsc);
	param.closeOnOverlayClick = paramObj.closeOnOverlayClick !== undefined ? paramObj.closeOnOverlayClick : (this.config.closeOnOverlayClick);
	param.reverseHor = paramObj.reverseHor ;
	param.resizable = paramObj.resizable !==undefined ? paramObj.resizable : this.config.resizable;
	param.fromTop = paramObj.fromTop ;
	param.fromRight = paramObj.fromRight ;
	param.buttons = paramObj.buttons ;
	param.minWindowHeight = paramObj.minWindowHeight ;
	param.relativeToRightBottom = paramObj.relativeToRightBottom || this.config.relativeToRightBottom;
	param.topPos = paramObj.top !== undefined ? paramObj.top : this.config.top ;
	param.leftPos = paramObj.left !== undefined ? paramObj.left : this.config.left ;
	param.cssClass = ((paramObj.cssClass + " ") || "") + (this.config.cssClass || "");
	param.noThemeClass = paramObj.noThemeClass !== undefined ? paramObj.noThemeClass : this.config.noThemeClass;
	param.zIndex = ref.config.zIndex;
	if(member && member.bcRef.config.cssClass){
		param.cssClass = " pp-" +member.bcRef.config.cssClass;
	}
	param.relativeTo = paramObj.relativeTo || this.config.relativeTo;
	param.closeCallback = function() {
		bf.saveState();
		bf.fire("onclose");
		if (member) {
			member.fire("onclose");
		}
		if(bc.cancels.close){
			bc.cancels.close = false;
			return false;
		}
		BFEngine.destroy(bf, true);//#hakand tinymce destroyu cagırılsın diye
		bc.$$popupDiv = null;
		if(paramObj.closeCallback){
			return paramObj.closeCallback();
		}
	};
	param.maximizeCallback = function(w, h) {
		bf.fire("onmaximize", w, h);
		if (member) {
			member.fire("onmaximize", w, h);
		}
		if(paramObj.maximizeCallback){
			paramObj.maximizeCallback(w, h);
		}
	};
	param.minimizeCallback = function(w, h) {
		bf.fire("onminimize", w, h);
		if (member) {
			member.fire("onminimize", w, h);
		}
		if(paramObj.minimizeCallback){
			paramObj.minimizeCallback(w, h);
		}
	};
	param.fullScreen = paramObj.fullScreen !== undefined ? paramObj.fullScreen : (this.config.fullScreen);

	this.popup = new CSSimplePopup(this.$$popupDiv, param);
	var ctx = {};
	this.bf.fire("beforeopen", ctx);
	if(ctx.notopen){
		return;
	}
	this.popup.open();
	this.render();
	
	BFEngine.fireLoadEvents(this.bf, true);
	this.bf.fire("opened", paramObj.openParam);
	if (member) {
		member.fire("onopen", paramObj.openParam);
	}
	
	var focusableBF = BFEngine.getFocusableBF(bf);
	if(focusableBF)
		BFEngine.focusBF(focusableBF);
};

BC.prototype.bindEvent = function(eventName, callback) {
	if (eventName == "selected") {
		var dom = byid(this.config.id);
		if (dom) {
			dom.onclick = callback;
		}
	} else if (eventName == "drop") {
		var dom = byid(this.config.id);
		if (dom) {
			dom.ondrop = callback;
		}
	} else if (eventName == "dragover") {
		var dom = byid(this.config.id);
		if (dom) {
			dom.ondragover = callback;
		}
	}
};
})(window);
/////=csc-table-total-cell.js=/////
(function(window, undefined) {
/**
 * @class CSC-TABLE-TOTAL-CELL
 * @author Mahmut Yıldız
 */

function Definition(CS) {
	this.DEFAULTS = {};

	this.BaseBF = "BASIC";
	this.LABEL = "Table Total Cell";

	this.METHODS = [ "sumOnlySelecteds(flag)"];
	this.EVENTS = [ "selected" ];
	this.DEPENDENCIES = [];

	this.Type = function() {};
};

var def = new Definition();
def.Type.prototype = new BaseBC();
BCEngine.registerType("CSC-TABLE-TOTAL-CELL", def);

var BC = def.Type;

BC.prototype.init = function(sum){
    if(!this.config.sumFromDS && this.config.sumOnlySelecteds){
        var table = this.findMyTable();
        table.bcRef.addOnSelect(this.bf, function(){
    		table.bcRef.addTotalRow();
    	});
    }
};

BC.prototype.findMyTable = function(sum){
    var parent = this.bf.$CS$.parent;
    while(parent){
        if(parent.bcRef.typeName == "CSC-TABLE"){
            return parent;
        }
        parent = parent.$CS$.parent;
    }
};

BC.prototype.formatTotal = function(sum){
	
	var decimalLen = 2;
	if(this.config.decimalLength || this.config.decimalLength===0){
		var l = parseInt(this.config.decimalLength);
		if(l >= 0){ decimalLen = l; }
	}
	
	var tousanSep = this.config.thousandSeperator || undefined;
	var decSep = this.config.decimalSeperator || undefined;
	
	if(!sum){
		sum = 0;
	}
	if(typeof sum != "string"){
		sum = sum.toString();
	}
	if(!this.config.totalFormat){
		if(tousanSep && decSep){
			var start = sum[0]==="-"?1:0;
			sum = SIDEMath.formatDecimal(sum, decimalLen);
			var th = sum.substring(start, sum.length-(decimalLen+1));
			var thstr = "", decstr = sum.substring(sum.indexOf(".")+1);
			var mod = th.length%3;
			if(mod == 0){
				mod=3;
			}
			for(var i=mod; i<=th.length ; i+=3){
				thstr += th.substring(i-3,i);
				if(i != th.length){
					thstr += tousanSep || ",";
				}
			}
			if(start===1){
				return "-" + thstr+(decSep || ".")+decstr;	
			}else{
				return thstr+(decSep || ".")+decstr;
			}
		}else{
			return SIDEMath.formatDecimal(sum, decimalLen);
		}
	}
	if(this.config.totalFormat == "curr1"){//Binlik(,), ondalık(.)
		var start = sum[0]==="-"?1:0;
		sum = SIDEMath.formatDecimal(sum, decimalLen);
		var th = sum.substring(start, sum.length-(decimalLen+1));
		var thstr = "", decstr = sum.substring(sum.indexOf(".")+1);
		var mod = th.length%3;
		if(mod == 0){
			mod=3;
		}
		for(var i=mod; i<=th.length ; i+=3){
			thstr += th.substring(i-3,i);
			if(i != th.length){
				thstr += tousanSep || ",";
			}
		}
		if(start===1){
			return "-" + thstr+(decSep || ".")+decstr;
		}else{
			return thstr+(decSep || ".")+decstr;
		}
	}
	if(this.config.totalFormat == "curr2"){//Binlik(,), ondalık yok. //todo barist
		sum = Math.round(sum);
		sum = SIDEMath.formatDecimal(sum, 0);
		var start = sum[0]==="-"?1:0;
		var thstr = "";
		if(start===1){
			sum=sum.substring(1,sum.length);
		}
		var mod = sum.length%3;
		if(mod == 0){
			mod=3;
		}
		for(var i=mod; i<=sum.length ; i+=3){
			thstr += sum.substring(i-3,i);
			if(i != sum.length){
				thstr += tousanSep || ",";
			}
		}
		if(start===1){			
			return "-" + thstr;
		}else{
			return thstr;
		}
		
	}
	if(this.config.totalFormat == "curr3"){//Binlik(.), ondalık(,)
		sum = SIDEMath.formatDecimal(sum, decimalLen);
		var start = sum[0]==="-"?1:0;
		var th = sum.substring(start, sum.length-(decimalLen?(decimalLen+1):0));
		var thstr = "", decstr = sum.substring(sum.indexOf(".")+1);
		var mod = th.length%3;
		if(mod == 0){
			mod=3;
		}
		for(var i=mod; i<=th.length ; i+=3){
			thstr += th.substring(i-3,i);
			if(i != th.length){
				thstr += tousanSep || ".";
			}
		}
		if(start===1){
			return "-" + thstr+(decSep || ",")+decstr;	
		}else{
			if(!decimalLen){
				return thstr;
			}
			return thstr+(decSep || ",")+decstr;
		}
		
	}
	if(this.config.totalFormat == "curr4"){//Binlik(.), ondalık yok.
		sum = Math.round(sum);
		sum = SIDEMath.formatDecimal(sum, 0);
		var start = sum[0]==="-"?1:0;
		var thstr = "";
		if(start===1){
			sum=sum.substring(1,sum.length);
		}
		var mod = sum.length%3;
		if(mod == 0){
			mod=3;
		}
		for(var i=mod; i<=sum.length ; i+=3){
			thstr += sum.substring(i-3,i);
			if(i != sum.length){
				thstr += tousanSep || ".";
			}
		}
		if(start===1){			
			return "-" + thstr;
		}else{
			return thstr;
		}
	}
};

BC.prototype.setValue = function(value){
	this.config.value = value;
	var label = this.config.label ? this.config.label+": " : "";
	var total = this.config.value || 0;
	var $$span = $$.byid(this.config.id);
	if($$span){
		$$span.innerHTML = label + this.formatTotal(total);
	}
};
BC.prototype.sumOnlySelecteds = function(flag){
    var table = this.findMyTable();
    if(flag === undefined){
        flag = true;
    }
    this.config.sumOnlySelecteds = flag;
    table.bcRef.rmOnSelect(this.bf);
    if(flag){
    	table.bcRef.addOnSelect(this.bf, function(){
    		table.bcRef.addTotalRow();
    	});
    }
    //BFEngine.renderRequest(table);
    table.bcRef.addTotalRow();
};

BC.prototype.getValue = function(){
	if(this.config.value === undefined || this.config.value === null){
		return BigDecimal.ZERO;
	}
	return this.config.value;
};


BC.prototype.render = function($container) {
	var $$span = $$.create("SPAN", {id: this.config.id}, "csc-table-total-cell "+ (this.config.cssClass || "") );
	var totalRow = this.bf.getParent();
	var table = totalRow.getParent();
	
	if(table.getTypeName() == "CSC-DT"){
		$$.addClass($$span, "in-cell");
		$$.css($$span, "min-width", $container.style.minWidth);
		$$.css($$span, "max-width", $container.style.maxWidth);
	}
	
	$container.appendChild($$span);
	this.setValue(this.config.value);
};

BC.prototype.bindEvent = function(eventName, callback) {
	if (eventName == "selected") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.onclick = callback;
		}
	}
};

})(window);
/////=csc-checkbox.js=/////
(function(window, undefined) {
/** 
 * @class CSC-CHECKBOX 
 */
function Definition(CS) {
	this.DEFAULTS = {
		cls : "csc-checkbox",
		rtype: "number",
		focusable: true,
		labelClick:true
	};

	this.BaseBF = "BASIC";
	this.LABEL = "Checkbox"; 

	this.METHODS = ["isChecked", "changeReturnType(rtype)", "focus", "setDefaultValue(value)"];
	this.EVENTS = [ "changed", "selected" ];
	this.DEPENDENCIES = [];
	
	this.Type = function() {};
}

var def = new Definition();
def.Type.prototype = new BaseBC();
BCEngine.registerType("CSC-CHECKBOX", def);

var BC = def.Type;

BC.prototype.rmap = {
	"number": [1, 0],
	"boolean": [true, false],
	"string": ["1", "0"],
};

BC.prototype.setDefaultValue = function(value) {
	/**
	 * @function setDefaultValue
     * @description Checkbox'ın varsayılan değerini ayarlar.
     * @param [value] Varsayılan değer 
     */
	this.config.defaultValue = value;
}

BC.prototype.clear = function() {
	this.setValue(this.config.defaultValue || false);
}

BC.prototype.focus = function(){
	/**
	 * @function focus
     * @description Odağı checkbox'a alır.
     */
	$$txt = $$.byid(this.config.id);
	if($$txt){
		$$txt.focus();
	}
};

BC.prototype.getValue = function() {
	var domObject = byid(this.config.id);
	if(!domObject){
		if(this.config.value){
			return this.rmap[this.config.rtype][0];//true
		}
		return this.rmap[this.config.rtype][1];//false
	}
	if(domObject.checked){
		return this.rmap[this.config.rtype][0];//true
	}
	return this.rmap[this.config.rtype][1];//false
};

BC.prototype.changeReturnType = function(rtype){
	/**
	 * @function changeReturnType
     * @description Checkbox'ın döndüğü tipi değiştirir.
     * @param [rtype] Checkbox'ın döndüğü tip. Değer olarak "number", "boolean" ve "string". Dönen değerler number için 1,0; boolean için true,false; string için "1","0" olur. 
     */
	this.config.rtype = rtype;
};

BC.prototype.isChecked = function(){
	/**
	 * @function isChecked
     * @description Checkbox'ın işaretli olup olmadığını bildirir.
     */
	var bc=this,value = bc.getValue();
	if(bc.config.rtype == "string"){
		if(value == "0" || value == "false"){
			value = 0;
		} else {
			value = 1;
		}
	}
	if(value){
		return true;
	}
	return false;
};

BC.prototype.getText = function(){
	var bc=this,value = bc.getValue();
	if(bc.config.rtype == "string"){
		if(value == "0" || value == "false"){
			value = 0;
		} else {
			value = 1;
		}
	}
	if(value){
		return SideMLManager.get("common.yes");
	}
	return SideMLManager.get("common.no");
};

BC.prototype.setValue = function(value) {
	if(this.config.rtype == "string"){
		if(value == "0" || value == "false"){
			value = 0;
		} else {
			value = 1;
		}
	}
	this.config.value = value;
	var domObject = byid(this.config.id);
	if(domObject){
		domObject.checked = value;
	} else {
		domObject = byid(this.config.id+"-ro");//readonly state
		if(domObject){
			domObject.innerHTML = this.config.value ? SideMLManager.get("common.yes") : SideMLManager.get("common.no");
		}
	}
};

BC.prototype.saveState = function() {
	var bc=this,value = bc.getValue();
	if(bc.config.rtype == "string"){
		if(value == "0" || value == "false"){
			value = 0;
		} else {
			value = 1;
		}
	}
	this.config.value = value;
};

BC.prototype.getHtmlId = function() {
	if(this.bf.isReadonly()){
		return this.config.id+"-ro";
	} else {
		return this.config.id;
	}
};

BC.prototype.render = function($container) {
	var bc=this,bf=bc.bf,config=bc.config, readonly = bc.isParentReadonly() || bf.isReadonly();
	if (readonly) {
		var $$span = $$.create("DIV", {"id": config.id+"-ro", "title": config.tips}, ["csc-checkbox",config.cssClass]);
		$$.css($$span, "display", this.bf.isVisible() ? "" : "none");
		if (inDesigner(bf)) {
			$$.css($$span, "display", "");// Design Time da visible yap
			$$span.innerHTML ="Readonly";
		} else {
			if (config.value) {
				$$span.innerHTML = SideMLManager.get("common.yes");
			} else if(config.defaultValue){
				$$span.innerHTML = SideMLManager.get("common.yes");
			}else{
				$$span.innerHTML = SideMLManager.get("common.no");
			}
		}
		$container.appendChild($$span);
	} else {
		var disabled = bf.isDisabled() ? "disabled" : "";
		
		// create checkbox
		var $$newCheckbox = $$.create("INPUT", {id: config.id, "type": "checkbox", "title": config.tips}, ["csc-checkbox", config.cssClass], config.style);
		if(config.value !== undefined && config.value != null && config.value != ""){
			$$.attr($$newCheckbox, "value", this.config.value);
		}
		if(disabled !== undefined && disabled != null && disabled != ""){
			$$.attr($$newCheckbox, "disabled", disabled);
		}
		// set display attribute if exists
		$$.css($$newCheckbox, "display", config.visible ? "" : "none");
		
		// Design Time da visible yap
		if (inDesigner(bf)) {
			$$.css($$newCheckbox, "display", "");
		}
		
		$container.appendChild($$newCheckbox);
		//var bc = this;
		if (config.value !== undefined) {
			bc.setValue(config.value);
		}else if(config.defaultValue){
			bc.setValue(config.defaultValue);
		}
	}
};
BC.prototype.bindEvent = function(eventName, callback) {
	if (eventName == "changed") {
		var dom = byid(this.config.id);
		if (dom) {
			dom.onchange = callback;
		}
	} else if (eventName == "selected") {
		var dom = byid(this.config.id);
		if (dom) {
			dom.onclick = callback;
		}
	}
};
})(window);
/////=csc-balanced-ver.js=/////
(function(window, undefined) {
/** 
 * @class CSC-VERTICAL LAYOUT 
 */

function Definition(CS) {
	this.DEFAULTS = {
		labelPosition : "none",
		border : false,
		style : {
			textAlign : "left"
		}
	};

	this.BaseBF = "CONTAINER";
	this.LABEL = "Balanced Vertical Layout"; 
	this.METHODS = [ "collapse", "expand", "mask", "unmask" ];
	this.EVENTS = [ "selected", "oncontextmenu", "onEnterPressed", "onload", "oninit(param)", "closeIconSelected"   ];

	this.Type = function() {
	};
};

var def = new Definition();
def.Type.prototype = new BaseBC();
BCEngine.registerType("CSC-BALANCED-VER", def);

var BC = def.Type;

BC.prototype.render = function($container) {
	var bf = this.bf, bc = this;
	var $$vertContainer = $$.create("DIV", {"id": this.config.id}, ["csc-balanced-ver-container", this.config.cssClass]);
	var $$vertTable = $$.create("DIV", undefined, "csc-balanced-ver-table");
	// set style's of container
	$$.css($$vertContainer, {"display": this.config.visible ? "" : "none"});
	if(inDesigner(this.bf)){
		$$.css($$vertContainer, {"display": ""});
	}
    if(sideDebugLevel() > 1){
        $$vertContainer.setAttribute("rel-def",bf.getBusinessName());
    }
	if (this.config.style && this.config.style.width) {
		$$.css($$vertContainer, {"width": this.config.style.width});
	}
	$$.css($$vertTable, this.config.style || {});
	if (this.config.style && this.config.style.height) {
		$$.css($$vertTable, {"height": ""});
		$$.css($$vertContainer, {"height": this.config.style.height});
	}

	var titleType = this.config.titleType || "none";
	if (titleType == "window") {
		var $$titleDiv = $$.create("DIV", undefined, "csc-form-title", {"width": "100%"});
		var $$titleSpan = $$.create("SPAN");
		$$titleSpan.innerHTML = this.config.title;
		if (this.config.titleIcon) {
			$$.addClass($$titleSpan, this.config.titleIcon);
		}
		$$.addClass($$titleDiv, this.config.titleClass);
		$$titleDiv.appendChild($$titleSpan);
		if (this.config.collapsible === true) {
			var $$collapseBtn = $$.create("INS", undefined, "collapse");
			$$collapseBtn.click(function() {
				if (bc.collapsed) {
					bf.expand();
				} else {
					bf.collapse();
				}
			});
			$$titleDiv.appendChild($$collapseBtn);
			if(this.config.collapsePos === "left"){
				$$.addClass($$titleDiv, "csc-form-title-collapse-left"); 
			}
		}
		if(this.config.showCloseIcon){
			var $$closeBtn = $$.create("ins", null, "close");
			$$closeBtn.onclick = function() {
				bc.bf.fire("closeIconSelected");
			};
			$$titleDiv.appendChild($$closeBtn);
		}
		$$vertContainer.appendChild($$titleDiv);
		$$.addClass($$vertTable, "csc-bordered-container");
		$$vertContainer.appendChild($$vertTable);
	} else if (titleType == "fieldset" || titleType == "bfieldset") {
		var $$fieldSet = $$.create("FIELDSET", undefined, ["csc-form-fieldset", titleType == "bfieldset" ? "borderless-fieldset":null]);
		var $$legend = $$.create("LEGEND");
		if (this.config.collapsible === true && this.config.showTitle !== false) {
			$$.addClass($$legend, "collapse");
			$$legend.onclick = (function() {
				if (bc.collapsed) {
					bf.expand();
				} else {
					bf.collapse();
				}
			});
			var $$span = $$.create("SPAN");
			$$span.innerHTML = this.config.title || "&nbsp;";
			$$legend.appendChild($$span);
			$$fieldSet.appendChild($$legend);
		} else if (this.config.title && this.config.showTitle !== false) {
			var $$span = $$.create("SPAN");
			$$span.innerHTML = this.config.title;
			$$legend.appendChild($$span);
			$$fieldSet.appendChild($$legend);
		} else {
			$$.addClass($$fieldSet, "csc-form-fieldset-nolegend");
		}
        if(this.config.bottomBorder === false){
            $$.addClass($$fieldSet, "no-bottom-border");
        }
		$$fieldSet.appendChild($$vertTable);
		$$vertContainer.appendChild($$fieldSet);
	} else if (titleType === undefined || titleType == "none") {
		$$.addClass($$vertContainer, "csc-bordered-box");
		$$vertContainer.appendChild($$vertTable);
	}

	$container.appendChild($$vertContainer);

	// append members into container
	for ( var memberName in this.bf.members) {
		var member = this.bf.members[memberName];

		if (member.bcRef.typeName == "CSC-POPUP") {
			continue;// popup ise çizme devam et
		}
		if (!inDesigner(this.bf) && !member.hasVisibleItem()) {
			continue;
		}

		var memberConfig = member.getConfig();
		var $$rowDiv = $$.create("DIV", undefined, "csc-balanced-ver-row");
		var $$labelDiv = null, $$elementDiv = $$.create("DIV", undefined, "csc-ver-cell");
		var labelPosition = memberConfig.labelPosition === "inherited" ? this.config.labelPosition : (memberConfig.labelPosition || this.config.labelPosition);

		if (labelPosition != "none") {
			$$labelDiv = $$.create("DIV", undefined, ["csc-form-label", memberConfig.label_class]);
			if (memberConfig.label) {
				var label = memberConfig.label;
				if(labelPosition != "right"){
					label = label + ":";
				}
				$$labelDiv.innerHTML = label;
			}
		}

		if (labelPosition == "left") {
			$$.addClass($$labelDiv, "csc-ver-cell");
			$$.css($$labelDiv, "text-align", "right");
			$$rowDiv.appendChild($$labelDiv);
			$$rowDiv.appendChild($$elementDiv);
			$$vertTable.appendChild($$rowDiv);
			if (this.config.horAlign == "left") {
				$$.css($$elementDiv, "width", "100%");
			} else if (this.config.horAlign == "center") {
				$$.css($$elementDiv, "text-align", "left");
			} else {
				$$.css($$labelDiv, "width", "100%");

			}
		} else if (labelPosition == "top") {
			$$.addClass($$labelDiv, "csc-ver-cell");
			$$vertTable.appendChild($$labelDiv);
			$$vertTable.appendChild($$elementDiv);
		} else if (labelPosition == "right") {
			var $$containerDiv = $$.create("DIV", undefined, "csc-ver-row");
			$$.css($$labelDiv, "textAlign", "left");
			$$containerDiv.appendChild($$elementDiv);
			$$containerDiv.appendChild($$labelDiv);
			$$vertTable.appendChild($$containerDiv);
		} else {// label position == none
			$$rowDiv.appendChild($$elementDiv);
			$$vertTable.appendChild($$rowDiv);
		}

		if (member.isRequired() && (!this.bf.isDisabled() && !member.isDisabled())) {
			$$.addClass($$elementDiv, "csc-required");
		}

		BFEngine.render(member, $$elementDiv);
	}
	
	if (this.config.collapsible === true) {
		if(this.collapsed){
			this.collapse();
		} else {
			this.expand();
		}
	}
	
	this.applyAddedClasses();//Apply css classes added by user
	
	if(this.config.maskIt){
		this.mask();
	}
};

BC.prototype.load = function() {
	if (this.onloadcallback) {
		this.onloadcallback();
	}
};

BC.prototype.collapse = function() {
	/**
     * @description Paneli sadece başlığı gözükecek şekilde (varsa) kapatır. 
     * @function collapse
     */
	var $$container = $$.byid(this.config.id);
	if(this.config.titleType == "fieldset" || this.config.titleType == "bfieldset"){
		var $$fieldset = $$.child($$container,"fieldset");
		$$.toggleClass($$.child($$fieldset, "legend"), "expand", "collapse");//-------------> legend'in class'ını değiştir
		$$.toggleClass($$fieldset, "expanded", "collapsed");//-------------> fieldset'in class'ını değiştir TODO: legend'de eklenmiş sınıf yerine fieldset'i kullan ve gerecek css değişikliğini tüm temalarda yap.
		$$.css($$.getChildHasClass($$fieldset, "csc-balanced-ver-table"), "display", "none");//-----> içeriği kapat
		$$.css($$fieldset, "height", 0);
	} else if(this.config.titleType == "window"){
		var $$ins = $$.query($$container, [{tagName: "DIV", clazz: "csc-form-title"}, {tagName: "INS"}]);
		$$.toggleClass($$ins, "expand", "collapse");//--------------------------------------> legend'in class'ını değiştir
		$$.css($$.getChildHasClass($$container, "csc-balanced-ver-table"), "display", "none");//----> içeriği kapat
	}
	
	this.collapsed = true;
};

BC.prototype.expand = function() {
	/**
     * @description Kapalı paneli, içerdiği elemanlar gözükecek şekilde aşağıya doğru açar. Açık panelde bir değişiklik yapmaz.
     * @function expand
     */
	var $$container = $$.byid(this.config.id);
	if(this.config.titleType == "fieldset" || this.config.titleType == "bfieldset"){
		var $$fieldset = $$.child($$container,"fieldset");
		$$.toggleClass($$.child($$fieldset, "legend"), "collapse", "expand");//-------------> legend'in class'ını değiştir
		$$.toggleClass($$fieldset, "collapsed", "expanded");//-------------> fieldset'in class'ını değiştir TODO: legend'de eklenmiş sınıf yerine fieldset'i kullan ve gerecek css değişikliğini tüm temalarda yap.
		$$.css($$.getChildHasClass($$fieldset, "csc-balanced-ver-table"), "display", "");//-----> içeriği kapat
		if($$fieldset){
			$$fieldset.style.height = "";
		}
	} else if(this.config.titleType == "window"){
		var $$ins = $$.query($$container, [{tagName: "DIV", clazz: "csc-form-title"}, {tagName: "INS"}]);
		$$.toggleClass($$ins, "collapse", "expand");//--------------------------------------> legend'in class'ını değiştir
		$$.css($$.getChildHasClass($$container, "csc-balanced-ver-table"), "display", "");//----> içeriği kapat
	}
	
	this.collapsed = false;
};

BC.prototype.mask = function(message) {
	/**
	 * @function mask
     * @description Panele bir mesaj içeren koyu renkli "Yükleniyor" maskesi koymaya yarar.
     * @param [message] Maskenin üstünde yazan mesaj
     */
	var id = this.config.id;

	var $$gen = $$.byid(id);
	if(!$$gen){
		this.config.maskIt = true;
		return;
	}
	
	var $$maskDiv = $$.create("DIV",{"id": id + "-mask"}, "maskDiv", {"width": $$.innerWidth($$gen)+"px", "height": $$.innerHeight($$gen)+"px"});

	var $$loadingDiv = $$.create("DIV", undefined, "maskedLoadInfo");

	var $$img = $$.create("IMG", {"src": "css/bc-style/img/loadmaskicon.gif"});
	var $$span = $$.create("SPAN");
	$$span.innerHTML = message;
	
	$$loadingDiv.appendChild($$img);
	$$loadingDiv.appendChild($$span);
	$$maskDiv.appendChild($$loadingDiv);
	
	var $$parent = $$gen.parentNode;
	$$parent.insertBefore($$maskDiv, $$gen);
	
	$$.css($$loadingDiv, {"margin-left": $$.innerWidth($$gen) / 2 - $$.innerWidth($$loadingDiv) / 2+"px", "margin-top": $$.innerHeight($$gen) / 2 - $$.innerHeight($$loadingDiv) / 2+"px"});
};

BC.prototype.unmask = function() {
	/**
     * @description Panele konulan mesaj içerikli maskeyi kaldırmaya yarar.
     * @function unmask
     */
	$$dom = $$.byid(this.config.id+"-mask");
	$$.remove($$dom);
	this.config.maskIt = undefined;
};

BC.prototype.bindEvent = function(eventName, callback) {
	if (eventName == "selected") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.onclick = callback;
		}
	}else if (eventName == "oncontextmenu") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.oncontextmenu = callback;
		}
	} else if (eventName == "drop") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.ondrop = callback;
		}
	} else if (eventName == "dragover") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.ondragover = callback;
		}
	} else if (eventName == "onload") {
		this.onloadcallback = callback;
	} else if (eventName == "onEnterPressed") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.onkeypress = function(e) {
				if (e.keyCode == 13) {
					callback();
				}
			};
		}
	}
};


})(window);
/////=csc-link.js=/////
(function(window, undefined) {
/**
 * @class CSC-link
 */
function Definition(CS) {
	this.DEFAULTS = {
		disabled : false,
		cls : "csc-link",
		value : "link"
	};

	this.BaseBF = "NON-BUSINESS";
	this.LABEL = "Link";
	this.METHODS = [ "setLink(link)", "getLink", "setHref(href)", "getHref" ];
	this.EVENTS = [ "selected" ];
	this.DISABLE_EVENTS = [ "selected" ];

	this.Type = function() {};
}

var def = new Definition();
def.Type.prototype = new BaseBC();
BCEngine.registerType("CSC-LINK", def);

var BC = def.Type;

/**
 * @function getLink
 * @description Bağlantıda yazan metni getirir.
 */
BC.prototype.getLink = function() {
	return this.config.title;
};

/**
 * @function setLink
 * @description Bağlantının metnini ayarlar.
 * @param [title] Bağlantıda yazan metin.
 */
BC.prototype.setLink = function(title) {
	this.config.title = (title === undefined ? "" : title);
	var $$dom = $$.byid(this.config.id);
	if ($$dom) {
		$$dom.innerHTML = title;
	}
};

/**
 * @function setHref
 * @description Bağlantının gideceği adresi ayarlar.
 * @param [href] Bağlantının gideceği adres.
 */
BC.prototype.setHref = function(href) {
	var disabled = this.bf.isDisabled() ? "disabled" : "";
	if((disabled || disabled != "") && !this.config.runOnDisabled){
		return;
	}
	this.config.href = href || "#";
	var $$dom = $$.byid(this.config.id);
	if ($$dom) {
		$$.attr($$dom, {href: href, target: "_blank"});
	}
};

/**
 * @function getHref
 * @description Bağlantının gideceği adresi getirir.
 */
BC.prototype.getHref = function() {
	return this.config.href;
};

BC.prototype.setValue = function(title) {
	if(title !== undefined){
		this.setLink(title);
	}
};

BC.prototype.getText = function() {
	return this.config.title;
};

BC.prototype.render = function($container) {
	var bc=this,config=bc.config,bf=bc.bf;
	var value = (config.title === undefined ? "" : config.title);
	var disabled = bf.isDisabled() ? "disabled" : "";
	var fontWeight = config.fontWeight || "";
	var fontSize = config.fontSize || "";
	var italic = config.italic || "";
	// create link
	var $$a = $$.create("A", {"href": "#", id: config.id, title: config.tips}, [config.cls, config.cssClass], {"font-weight": fontWeight});
	$$a.innerHTML = value;
	if(!inDesigner(bf) && config.href){
		$$.attr($$a, {href: config.href, target: "_blank" });
	}
	
	// Design Time da visible yap
	if (inDesigner(this.bf)) {
		$$a.style.display = "";
	}
	if(config.style && config.style.width){
		$$.css($$a, {width: config.style.width, display: "inline-block"});
	}

	// Italic mi kontrol et
	if (italic) {
		$$a.style.fontStyle = "italic";
	}
	if (fontSize != "") {
		$$a.style.fontSize = fontSize + "px";
	}

	if((disabled || disabled != "") && !config.runOnDisabled){
		$$.addClass($$a, "csc-link-disabled");
		$$.rmAttr($$a, "href");
	}
	$container.appendChild($$a);
};

BC.prototype.bindEvent = function(eventName, callback) {
	if (eventName == "selected") {
		var $$dom = $$.byid(this.config.id);
		if ($$dom) {
			$$dom.onclick = function(e){
				e.preventDefault();
				callback();
			};
		}
	}
};
})(window);
/////=csc-textarea.js=/////
(function(window, undefined) {
/** 
 * @class CSC-TEXTAREA 
 */
function Definition(CS) {
	this.DEFAULTS = {
		cls : "csc-textarea",
		roEmptyValue: "-----",
		focusable: true,
		disabledKey: "disabled"
	};

	this.BaseBF = "BASIC";
	this.LABEL = "TextArea";

	this.METHODS = [ "focus", "setMaxLength(maxLength)", "setDefaultValue(value)" ];
	this.EVENTS = [ "changed", "selected", "onkeypress(event)", "onkeyup(event)" ];

	this.DEPENDENCIES = [];

	this.Type = function() {};
}
var def = new Definition();
def.Type.prototype = new BaseBC();
BCEngine.registerType("CSC-TEXTAREA", def);

var BC = def.Type;

BC.prototype.setDefaultValue = function(value) {
	this.config.defaultValue = value;
}

BC.prototype.clear = function() {
	this.setValue(this.config.defaultValue || "");
}

BC.prototype.getValue = function() {
	var domObject = byid(this.config.id);
	if (domObject) {
		var readonly = this.isParentReadonly() || this.bf.isReadonly();
		if (readonly || domObject.value === undefined) {
			return this.config.value;
		} else {
			return domObject.value;
		}
	}
	return this.config.value || "";
};
BC.prototype.ellipsis=function (value, maxLength) {
	var thiz = this;
	var ellipsistxt=document.createElement("span");
    var showAllLink=document.createElement("a");
    showAllLink.classList.add("showButon");
    var showSummary=document.createElement("a");
    showSummary.classList.add("hideButon");
    showAllLink.innerHTML="Tümünü Göster";
    showSummary.innerHTML="Daralt";
	showAllLink.addEventListener("click",function () {
        ellipsistxt.innerHTML=value;
        showSummary.style.display = "block";
        showAllLink.style.display = "none";
    });

    showSummary.addEventListener("click",function () {
        ellipsistxt.innerHTML=value.substring(0, maxLength-1)  + "..." ;
        showSummary.style.display = "none";
        showAllLink.style.display = "block";
	});

	if(typeof  maxLength === "string"){
		maxLength = parseInt(maxLength);
	}
	if(value.length < maxLength){
        return [ellipsistxt];

		//return value;

	} else{
		ellipsistxt.innerHTML=value.substring(0, maxLength-1)  + "..." ;
		return [ellipsistxt,showAllLink,showSummary];
		//return value.substring(0, maxLength-1)  + "..." ;

	}

}
BC.prototype.setValue = function(value) {
	if (value === null || undefined === value) {
        value = "";
    }
    this.config.value = value;
    var domObject = byid(this.config.id);
    if (domObject) {
        var readonly = this.isParentReadonly() || this.bf.isReadonly();
        //var ellipsisARR=this.ellipsis(value, this.config.ellipsis);
        if (readonly ) {
			var ellipsisARR=this.ellipsis(value, this.config.ellipsis);
			if(this.config.ellipsis==0 || undefined==this.config.ellipsis){
				domObject.innerHTML=value;
			}
			else{
				for(var i=0; i<ellipsisARR.length; i++){
                domObject.appendChild(ellipsisARR[i]);
                }
			}

		} else {
            domObject.value = value;
        }
    }
};

BC.prototype.saveState = function() {
	this.config.value = this.getValue();
};

BC.prototype.focus = function(){
	$$txt = $$.byid(this.config.id);
	if($$txt){
		$$txt.focus();
	}
};

BC.prototype.setMaxLength = function(maxLength) {
	this.config.maxlength = maxLength;
}

BC.prototype.render = function($container) {
	var bc=this, bf=bc.bf, config=bc.config, readonly = bc.isParentReadonly() || bf.isReadonly();
	if (readonly) {
		var $$span = $$.create("span", {"id": config.id}, ["csc-rospan", config.cssClass], config.style);
		if(config.value === undefined || config.value === null || config.value === ""){
			$$span.innerHTML = config.roEmptyValue || config.defaultValue || "";				
		}else if(config.ellipsis) {
         			var tempVal= this.ellipsis(config.ellipsis);
		} else {
			$$span.innerHTML = config.value;
		}
		
		if (inDesigner(bf)) {
			$$span.style.display = "";
			$$span.innerHTML = config.roEmptyValue || "Readonly";
		}
		if(!config.style || !config.style.whiteSpace){
			$$span.style.whiteSpace = "normal";
		}
		if(config.style && config.style.whiteSpace == "non"){
			$$span.style.whiteSpace = "";
		}
		$container.appendChild($$span);
	} else {
		var $$newTextArea = $$.create("TEXTAREA", {
			id : config.id,
			rows : config.rows,
			title:config.tips,
			placeholder: config.placeholder,
			cols : config.cols,
			maxlength : config.maxlength,
			tabindex: config.tabIndex
		});
		if(bf.isDisabled()){
			$$newTextArea.setAttribute(config.disabledKey,config.disabledKey);
		}
		if (config.resize == false) {
			$$.css($$newTextArea, "resize", "none");
		}
		$$.css($$newTextArea, "display", config.visible ? "" : "none");
		$$.css($$newTextArea, config.style || {});

		// Design Time da visible yap
		if (inDesigner(bf)) {
			$$.css($$newTextArea, "display", "");
		}

		$$.addClass($$newTextArea, "csc-textarea");
		if (config.cssClass) {
			$$.addClass($$newTextArea, config.cssClass);
		}

		if (config.value !== undefined && config.value !== null ) {
			$$newTextArea.value = config.value;
		}else{
			$$newTextArea.value = config.defaultValue || "";
		}

		$$.bindEvent($$newTextArea, "keypress", function(e){
			if (e.keyCode == 13) {
				e.stopPropagation();//panel içinde onEnterPress engelleme
			}
		});
		
		if(config.filter == "number"){
			$$.bindEvent($$newTextArea, "keypress", function(e){
				if(e.charCode == 0){
					return true;
				}
				if(e.charCode < 48 || e.charCode > 57){
					e.preventDefault();
					return false;
				}
			});
		}
		
		if(config.filter == "upper"){
			$$.bindEvent($$newTextArea, "keyup", function(e){
				$$newTextArea.value = SIDEString.turkishToUpperCase($$newTextArea.value);
			});
		}
		
		if(config.filter == "upperEnglish"){
			$$.bindEvent($$newTextArea, "keyup", function(e){
				$$newTextArea.value = SIDEString.turkishToEngUpperCase($$newTextArea.value);
			});
		}
		
		if(bf.isRequired()){
			$$.addClass($$newTextArea, "csc-required");
		}
		bc.applyInlineValidation($$newTextArea);
		$container.appendChild($$newTextArea);
	}
};
BC.prototype.bindEvent = function(eventName, callback) {
	if (eventName == "changed") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.onchange = callback;
		}
	} else if (eventName == "selected") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.onclick = callback;
		}
	} else if (eventName == "onkeypress") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.onkeypress = callback;
		}
	} else if (eventName == "onkeyup") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.onkeyup = callback;
		}
	}
};
})(window);
/////=csc-mini-button.js=/////
(function(window, undefined) {
/**
 * @class CSC-MIN-BUTTON
 * @classdesc Temel buton componenti.
 * @author Mahmut Yıldız, Mete Işık
 */
function Definition(CS) {
	this.DEFAULTS = {
		focusable : true
	};

	this.BaseBF = "NON-BUSINESS";
	this.LABEL = "Mini Button";
	this.METHODS = [ "setTips(tips)", "changeIcon(src)", "focus",
			"setOnContextMenuCallback(callback)", "showContextMenu",
			"changeTheme(buttonTheme)", "changeButtonType(buttonType)","setBadge(text)", "removeBadge" ];
	this.EVENTS = [ "selected" ];
	this.DISABLE_EVENTS = [ "selected" ];

	this.DEPENDENCIES = [];
	this.Type = function() {
	};
}

var def = new Definition();
def.Type.prototype = new BaseBC();
BCEngine.registerType("CSC-MINI-BUTTON", def);

var BC = def.Type;
BC.prototype.miniButtonTooltips = function() {
	return {
		"fa-plus" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Add")
		},
		"fa-plus-circle" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Add")
		},
		"fa-caret-down" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Down")
		},
		"fa-caret-up" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Up")
		},
		"fa-caret-left" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Left")
		},
		"fa-caret-right" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Right")
		},
		"fa-paperclip" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Attachment")
		},
		"fa-bars" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Dropdown")
		},
		"fa-calendar" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Calendar")
		},
		"fa-calculator" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Calculator")
		},
		"fa-bar-chart" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Chart")
		},
		"fa-line-chart" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Chart")
		},
		"fa-pie-chart" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Chart")
		},
		"fa-check" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Check")
		},
		"fa-files-o" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Copy")
		},
		"fa-times" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Delete")
		},
		"fa-trash" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Delete")
		},
		"fa-file-text" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Detail")
		},
		"fa-download" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Download")
		},
		"fa-arrow-circle-o-down" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Down")
		},
		"fa-pencil" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Edit")
		},
		"fa-pencil-square-o" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Edit")
		},
		"fa-exchange" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Exchange")
		},
		"fa-external-link" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.ExternalLink")
		},
		"fa-filter" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Filter")
		},
		"fa-folder" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Folder")
		},
		"fa-arrow-right" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Go")
		},
		"fa-info" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Info")
		},
		"fa-info-circle" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Info")
		},
		"fa-link" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Link")
		},
		"fa-list" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.List")
		},
		"fa-lock" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Lock")
		},
		"fa-envelope":{
			"tooltipText":SideMLManager.get("CSC-MINI-Button.MailClose")
		},
		"fa-envelope-o":{
			"tooltipText":SideMLManager.get("CSC-MINI-Button.MailClose")
		},
		"fa-envelope-open":{
			"tooltipText":SideMLManager.get("CSC-MINI-Button.MailOpen")
		},
		"fa-envelope-open-o": {
			"tooltipText":SideMLManager.get("CSC-MINI-Button.MailOpen")
		},
		"fa-minus" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Minus")
		},
		"fa-minus-circle" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Minus")
		},
		"fa-sort" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Order")
		},
		"fa-print" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Print")
		},
		"fa-refresh" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Reload")
		},
		"fa-reply" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Reply")
		},
		"fa-reply-all" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.ReplyAll")
		},
		"fa-repeat" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Reset")
		},
		"fa-floppy-o" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Save")
		},
		"fa-search" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Search")
		},
		"fa-send" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Send")
		},
		"fa-cog" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Settings")
		},
		"fa-sign-out" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Signout")
		},
		"fa-stop" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Stop")
		},
		"fa-stop-circle" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Stop")
		},
		"fa-unlock" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Unlock")
		},
		"fa-upload" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Upload")
		},
		"fa-user" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.User")
		},
		"fa-exclamation" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Warning")
		},
		"fa-exclamation-triangle" : {
			"tooltipText" : SideMLManager.get("CSC-MINI-Button.Warning")
		}
	};
}
/**
 * @function setOnContextMenuCallback
 * @description Context menü açıldıktan sonra çağrılacak callback fonksiyonunu
 *              ayarlar.
 * @param [callback]
 *            callback fonksiyonu
 */
BC.prototype.setOnContextMenuCallback = function(callback) {
	var bc = this;
	this.contextMenuCallback = callback;

	var $$dom = $$.byid(this.config.id);
	if ($$dom) {
		$$.bindEvent($$dom, "contextmenu", function(event) {
			bc.showContextMenu(event);
		});
	}
};

/**
 * @function showContextMenu
 * @description Pop-up şeklinde açılan context menüyü gösterir. Bunun için bir
 *              callback fonksiyonu olmak zorundadır.
 * @param [event]
 */
BC.prototype.showContextMenu = function(event) {
	event = event || window.event;
	var bc = this;
	console.log("mini button context menu");
	event.preventDefault();
	var menuItemsObj = this.contextMenuCallback();

	csdu.contextMenu({
		moduleName : bc.bf.getModuleName(),
		left : event.pageX,
		top : event.pageY,
		items : menuItemsObj
	}, undefined, event);
};

/**
 * @function focus
 * @description Odağı mini butona alır.
 */
BC.prototype.focus = function() {
	$$txt = $$.byid(this.config.id);
	if ($$txt) {
		$$txt.focus();
	}
};

/**
 * @function setTips
 * @description Mini butonun üstüne gelip bekleyince beliren ipucunu ayarlar.
 * @param [tips]
 *            Mini butonun üstünde beliren ipucu
 */
BC.prototype.setTips = function(tips) {
	this.config.tips = tips;
	var $$btn = $$.byid(this.config.id);
	if ($$btn) {
		$$btn.setAttribute("title", this.config.tips);
	}
};

/**
 * @function changeIcon
 * @description Mini butonu ikon olarak ayarlar.
 * @param [src]
 *            Mini butonun yerine ayarlanacak ikonun hangi lokasyondan alınacağı
 */
BC.prototype.changeIcon = function(src) {
	this.config.src = src;
	this.reRender();
};

/**
 * @function changeButtonType
 * @description Mini butonun ikonunu değiştirir.
 * @param [buttonType]
 *            Mini butonun font ikonların value larıdır.
 */
BC.prototype.changeButtonType = function(buttonType) {
	this.config.buttonType = "fa-" + buttonType
	this.reRender();
};
/**
 * @function changeTheme
 * @description Mini butonun temasini değiştirir.
 * @param [buttonTheme]
 *            primary,success,warning,danger seçeneklerinden biri string olarak
 *            gönderilir.
 */
BC.prototype.changeTheme = function(buttonTheme) {
	this.config.buttonTheme = buttonTheme;
	this.reRender();
};
BC.prototype.render = function($container) {
	var bc = this, bf = bc.bf, config = bc.config;
	var bfname = bf.$CS$.definition.BF_NAME;
	var btnSelector = null, src;

	if (!config.src && config.buttonType) {
		if (config.buttonType.indexOf("css/bc-style") !== -1) {
			// eskiden kalan icon button ise
			src = config.buttonType;
		} else {
			// yeni buttonType secilmis ise
			src = null;
		}
	} else {
		// icon olarak disaridan source verilmis ise
		if (config.src) {
			if(config.src.indexOf("base64")<0){
				src = SideModuleManager.getResourceUrl(bfname.substring(0, bfname.indexOf(".")), config.src);
			} else {
				src = config.src;
			}
		} else {
			src = "css/bc-style/img/iconNotAvaliable.png";
		}
	}

	if (src === null) {
		// yebni ikon button
		btnSelector = "A";
	} else {
		// eski icon button ya da disardan source verilmis
		btnSelector = "INPUT";
	}
	var $$input = $$.create(btnSelector, {
		id : config.id,
		type : "button",
		"tabindex" : config.tabIndex,
		disabled : (bf.isDisabled() && !config.runOnDisabled),
		title : config.tips
	}, [ "csc-mini-button", config.cssClass ], config.style);
	$$input.setAttribute("rel",bf.$CS$.name);
	$$.css($$input, {
		display : bf.isVisible() ? "" : "none"
	});

	if (src !== null) {
		$$.css($$input, {
			background : "url('" + src + "') no-repeat"
		});
		var style = config.style;
		if (style && (config.style.width || config.style.height)) {
			var width = style.width ? style.width + "" : "16px", height = style.height ? style.height
					+ ""
					: "16px";
			if (width.indexOf("%") < 0 && height.indexOf("%") < 0) {
				width = width.indexOf("px") >= 0 ? width : width + "px";
				height = height.indexOf("px") >= 0 ? height : height + "px";
				$$.css($$input, {
					backgroundSize : width + " " + height
				});
			}
		}
	} else {
		if(this.config.badge) {
			var $$buttonBadge = $$.create("span",null,["mini-button__badge"],null,$$input);
			$$.addClass($$buttonBadge, "hide");
			$$buttonBadge .setAttribute("id", this.config.id + "_badge");
		}
		if (this.config.iconClass) {
			$$.create("I",null,["fa "+this.config.iconClass],null,$$input);
		} else{
			$$.create("I",null,["fa "+this.config.buttonType],null,$$input);
		}
		if (!bc.config.tips) {
			$$input.setAttribute(
					"title",
					bc.miniButtonTooltips()[this.config.buttonType.trim()].tooltipText);
		} else {
			$$input.setAttribute("title", bc.config.tips);
		}
		$$.addClass($$input, "csc-mini-button--font-icon");
		if (config.buttonTheme) {
			$$.addClass($$input, "csc-mini-button--theme csc-mini-button--"
					+ config.buttonTheme);
		}
	}
	if (inDesigner(bf)) { // Design Time da visible yap
		$$input.style.display = "";
	}

	if (bc.contextMenuCallback) {
		$$.bindEvent($$input, "contextmenu", function(event) {
			bc.showContextMenu(event);
		});
	}

	$container.appendChild($$input);
};
BC.prototype.setBadge = function(text){
	var bc=this, bf=bc.bf, config=bc.config;
	if (!config.badge) {
		console.error("CSC-MIN-BUTTON:\nNotification Badge is " + config.badge);
		return;
	}
	var badge = $$.byid(config.id + "_badge");
	$$.rmClass(badge, "hide");
	badge.innerHTML = text;
}
BC.prototype.removeBadge = function(){
	var bc=this, bf=bc.bf, config=bc.config;
	var badge = $$.byid(config.id + "_badge");
	$$.addClass(badge, "hide");
}
BC.prototype.bindEvent = function(eventName, callback) {
	if (eventName == "selected") {
		var dom = byid(this.config.id);
		if (dom) {
			dom.onclick = callback;
		}
	}
};
})(window);
/////=csc-pull.js=/////
(function(window, undefined) {
/**
 * @class CSC-PULL
 * @author hakand
 */
function Definition() {
	this.DEFAULTS = {
			disabled : false
		};

		this.BaseBF = "BASIC";
		this.LABEL = "Pull";

		this.METHODS = [];

		this.EVENTS = [ "onload", "onmessage(message, from)", "selected" ];

		this.DEPENDENCIES = [ {
			name : "JQuery",
			version : "2.0.3"
		}];

		this.Type = function() {
		};
		this.Type.prototype = new BaseBC();

		this.Type.prototype.init = function() {
		};
		this.Type.prototype.getValue = function() {
		};
		this.Type.prototype.setValue = function(value) {
		};
		this.setVisible = function(flag) {
			this.config.visible = flag;
			$("#" + this.config.id).css("display", flag ? "" : "none");
		};

		this.Type.prototype.render = function($container) {
			

			if (inDesigner(this.bf)) {
				var $div = $("<div>").attr("id", this.config.id);
				$container.appendChild($div[0]);
				$div.html("PULL");
			}
			
		};

		this.Type.prototype.load = function(){
			if(this.config.port && this.onmessagecallback){
				var moduleName = BFEngine.getModuleName(this.bf);
				if(window.CSIMMan && window.CSIMMan[moduleName]){
					CSIMMan[moduleName].register(this.config.port,  {onmessage: this.onmessagecallback});
					console.log("Pull component registered:"+this.config.id);
				}else{
					console.log("Pull component could not registered:"+this.config.id);
				}
			}
			
			if (this.onloadcallback) {
				this.onloadcallback();
			}
		};

		this.Type.prototype.bindEvent = function(eventName, callback) {
			if (eventName == "selected") {
				var dom = byid(this.config.id);
				if (typeof dom != "undefined" && dom != null) {
					dom.onclick = callback;
				}
			} else if (eventName == "onmessage") {
				this.onmessagecallback = callback;
			} else if (eventName == "onload") {
				this.onloadcallback = callback;
			}
		};
}

BCEngine.registerType("CSC-PULL", new Definition());
})(window);
/////=csc-print-dotmatrix.js=/////
(function(window, undefined) {
/**
 * 	@class CSC-PRINT-DOTMATRIX
 * 	@author ADogan
 */
function Definition() {
	this.DEFAULTS = {};

	this.BaseBF = "BASIC";
	this.LABEL = "DotMatrix Printer";

	this.METHODS = ["print(text, printerName, charSet, showMessage, delay)"];
	this.EVENTS = [];

	this.Type = function() {};
	
	this.DEPENDENCIES = [ {name: "dot-matrix",version : "1.0"}];
};

var SILAPrintService = {
	init : function(success, error) {
	    var modules = SideModuleManager.getModules();
		if(modules.sila) {
		    if (window.libUtilSila === undefined) {
				var waterFall = new CSWaterFall();
				CSCaller.ajaxcall(modules.sila.side, null,{async: false},
				    function(res){
				        waterFall.add(function(){
				            SideModuleManager.loadModule("sila", function(){
				                console.log("SILA Modülü yüklendi");
				                waterFall.ok();
				            });
				        });
				        waterFall.add(function() {
				            window.libUtilSila.checkStatus("Yazdırma", function(resp) {
				                if(success) {
				                    success(resp);
				                }
				            }, function(err) {
				                 if(error) {
				                    error(err);
				                }
				            });
				            waterFall.ok();
				        });
				        waterFall.run();
				    },
				    function(err){
				        switch(err.status) {
				            case 404 :
				                error(new Error('SILA Modülü kurulu değil'));
				                return;
				            default:
				                return;
				        }
				    }
				);
		    } else {
				window.libUtilSila.checkStatus("Yazdırma", function(resp) {
				    if(success) {
				        success(resp);
				    }
				}, function(err) {
				    if(error) {
				        error(err);
				    }
				});
		    }
		} else {
		    error(new Error('SILA Modülü kurulu değil'));
		    return;
		}
	},
	print : function(text, printerName, charSet) {
		var yazdirSubmit = function() {
		debugger;
			var waterFall = new CSWaterFall();
			var pbar = CSPopupUTILS.ProgressBar("Lütfen bekleyiniz..");
			var texts = [];
			if(Array.isArray(text)) {
				texts = text;
			} else {
				texts.push(text);
			}
			for(var i = 0; i<texts.length; i++) {
				waterFall.add(function(wtf, pText){
					CSCaller.call("dmAppletService_print",{"text" : pText, "printerName" : printerName, "charSet" : charSet } , {"url": libUtilSila.getAddress()} ).then(function(resp){
						CSCaller.call("dmAppletService_getStatus",{} , {"url": libUtilSila.getAddress()} ).then(function(resp1){
							SILAPrintService.status = resp1;
							pbar.close();
							wtf.ok();
						}).error(function(resp1){
							pbar.close();
							wtf.ok();	
						});
					}).error(function(resp){
						pbar.close();
						wtf.ok();	
					});
				}, texts[i]);
			}
			waterFall.run();
		};
		libUtilSila.checkStatusAndSubmit("Yazdırma", yazdirSubmit);
	},
	status : "",
	sila : true
};

var def = new Definition();
def.Type.prototype = new BaseBC();
BCEngine.registerType("CSC-PRINT-DOTMATRIX", def);

var BC = def.Type;

BC.prototype.print = function(text, printerName, charSet, showMessage, delay) {
	if(showMessage || delay){
		if(showMessage){
			this.config.showMessage = showMessage;
		}
		if(delay){
			this.config.delay = delay;
		}
	}
	
	if(this.config.showMessage){
		var $$popup = $$.create("DIV");
		
		var printPopup = new CSSimplePopup($$popup, {dontRemove: false, title: SideMLManager.get(this, "textPrinting"), width: 250, height: 65, closeOnEscape:true});
		printPopup.open();
	}
	
	if(!charSet || charSet === "" || charSet === undefined || charSet === null){
		charSet = "cp857";
	}
	
	if(Array.isArray(text)) {
	    if(document.printApplet.sila) {
	        document.printApplet.print(text, printerName, charSet);
	    } else {
    	    for(var i = 0; i<text.length; i++) {
        	    document.printApplet.print(text[i], printerName, charSet);
    	    }
	    }
	} else {
    	document.printApplet.print(text, printerName, charSet);
    }
	
	if(this.config.showMessage){
		var $$printResult = $$.create("DIV");
		$$printResult.innerHTML = document.printApplet.status;
		
		if($$printResult.innerHTML.indexOf(SideMLManager.get(this, "sentToPrinter")) !== -1){
			window.setInterval(function () {printPopup.close()}, this.config.delay || 2000);
		}
		
		$$popup.appendChild($$printResult);
	}
};

BC.prototype.render = function($container) {
	var bc = this;
	SILAPrintService.init(function(res) {
			document.printApplet = SILAPrintService;
        },function(err) {
			if(!$$.byid("csc-print-dotmatrix-container")){
				var bfname = bc.bf.$CS$.definition.BF_NAME;
				var jarpath = SideModuleManager.getResourceUrl(bfname.substring(0, bfname.indexOf(".")), "resources/dot-matrix/dmapplet.jar");
				
				var $$container = $$.create("div", {id:"csc-print-dotmatrix-container"}, undefined, {width: "0px", height: "0px", overflow: "hidden"}, $$.body());
				var $$applet = $$.create("APPLET", {id: "dmapplet", "name": "printApplet", archive:jarpath, "code":"tr.com.cs.side.dotmatrix.DMApplet.class", "MAYSCRIPT":true});
				
				$$container.appendChild($$applet);
			}
	});
};

BC.prototype.bindEvent = function(eventName, callback) {};

})(window);
/////=csc-seperator.js=/////
(function(window, undefined) {
/**
 * @class CSC-SEPERATOR
 * @classdesc Seperator.
 * @author Mahmut Yıldız, Mete Işık
 */
function Definition(CS) {
	this.DEFAULTS = {};

	this.BaseBF = "NON-BUSINESS";
	this.LABEL = "Seperator";

	this.METHODS = [];
	this.EVENTS = [ "changed", "selected" ];
	this.DEPENDENCIES = [];

	this.Type = function() {};
}

var def = new Definition();
def.Type.prototype = new BaseBC();
BCEngine.registerType("CSC-SEPERATOR", def);

var BC = def.Type;

BC.prototype.render = function($container) {
	var bc=this, bf=bc.bf, config=bc.config, size = config.size || 2;
	var layout = bf.$CS$.parent.bcRef.typeName;
	var $$newSeperator = $$.create("DIV", {"id": config.id}, "csc-seperator", config.style);
	$$newSeperator.style.display = config.visible ? "" : "none";
	
	// Design Time da visible yap
	if (inDesigner(bf)) {
		$$newSeperator.style.display = "";
	}

	if(config.fill === "line"){
		$$newSeperator.style.background = "url('css/bc-style/img/sep-hor-back.png') center repeat-x";
		$$.addClass($$newSeperator, "fill-line");
	}
	if (layout == "CSC-HORIZONTAL") {
		$$.css($$newSeperator, "height", "10px");
		$$.css($$newSeperator, "width", size);
	} else {
		$$.css($$newSeperator, "width", "100%");
		$$.css($$newSeperator, "height", size);
	}

	$container.appendChild($$newSeperator);
};

BC.prototype.bindEvent = function(eventName, callback) {
	if (eventName == "changed") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.onchange = callback;
		}
	} else if (eventName == "selected") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.onclick = callback;
		}
	}
};
})(window);
/////=csc-passwordfield.js=/////
(function(window, undefined) {
/** @class CSC-PASSWORDFIELD */
function Definition(CS) {
	this.DEFAULTS = {
		disabled: false,
		cls: "csc-textbox",
		focusable: true
	};

	this.BaseBF = "BASIC";
	this.LABEL = "Password";
	this.METHODS = ["focus"];
	this.EVENTS = ["changed", "selected", "blur", "keyup"];
	this.DEPENDENCIES = [{
		name: "JQuery",
		version: "2.0.3"
	}];
	this.Type = function() {};
}

var def = new Definition();
def.Type.prototype = new BaseBC();
BCEngine.registerType("CSC-PASSWORDFIELD", def);

var BC = def.Type;

BC.prototype.getValue = function () {
	var $$dom = $$.byid(this.config.id);
	if($$dom) {
		return $$dom.value;
	}
	return this.config.value;
};

BC.prototype.setValue = function (value) {
	if(value === null || undefined === value) {
		value = "";
	}
	this.config.value = value;
	var $$dom = $$.byid(this.config.id);
	if($$dom) {
		$$dom.value = value;
	}
};

/**
 * @function focus
 * @description Focuses the component
 */
BC.prototype.focus = function () {
	var $$dom = $$.byid(this.config.id);
	if($$dom) {
		$$dom.focus();
	}
};

BC.prototype.render = function ($$container) {
	var bc = this, bf = bc.bf, config = bc.config;
	// Create Password Field
	var $$input = $$.create("INPUT", {
		id: config.id,
		type: "password",
		maxLength: config.maxLength | 1000,
		placeholder: config.placeholder
	}, ["csc-password", config.cssClass], config.style, $$container);
	if(bf.isDisabled()) {
		$$input.setAttribute("disabled", "disabled");
	}
	if(inDesigner(this.bf)) {//Designer'da autocomplete'i kapat
		$$input.setAttribute("autocomplete", "new-password");
	}
	if(bf.isRequired()) {
		$$.addClass($$input, "csc-required");
	}
};

BC.prototype.bindEvent = function (eventName, callback) {
	var $$dom = $$.byid(this.config.id);
	if(!$$dom) {
		return;
	}
	if(eventName == "changed") {
		$$dom.onchange = callback;
	} else if(eventName == "keyup") {
		$$dom.onkeyup = callback;
	} else if(eventName == "selected") {
		$$dom.onclick = callback;
	} else if(eventName == "blur") {
		$$dom.onblur = callback;
	} else if(eventName == "onfocus") {
		$$dom.onfocus = callback;
	}
};

})(window);
/////=csc-video-player.js=/////
(function(window, undefined) {
/**
 * @class CSC-FLASH-PLAYER 
 * @classdesc Video player bileşeni
 */
function Definition() {
	this.DEFAULTS = {
		autoStart: false,
		vtype: "mp4",
		style: {
			width: 800,
			height: 600
		}
	};

	this.BaseBF = "BASIC";
	this.LABEL = "Video Player";
	this.METHODS = [ "setData(data)" ];
	this.EVENTS = ["selected" ];
	
	this.DEPENDENCIES = [ ];

	this.Type = function() {};
}
var def = new Definition();
def.Type.prototype = new BaseBC();
BCEngine.registerType("CSC-VIDEO-PLAYER", def);

var BC = def.Type;

BC.prototype.setData = function(data){
	this.config.data = data;
	var $$div = $$.byid(this.config.id);
	if(!$$div || !this.config.vtype){
		return;
	}
	var html = "";
	if (this.config.vtype == "mp4") {
		html += '<video  width="' + this.config.style.width + '" height="' + this.config.style.height +'" controls="controls">';
		html += '<source src="' +this.config.data+'" type="video/mp4" />';
		html += SideMLManager.get(this, "notSupportVideoTag");
		html += '</video>';
	} else {
		html = '<object type="application/x-shockwave-flash" width="' + this.config.style.width + '" height="' + this.config.style.height +'" wmode="transparent" data="css/bc-style/img/flvplayer.swf?file=' + this.config.data + '&autoStart=' + this.config.autoStart + '">';
		html += '<param name="movie" value="css/bc-style/img/flvplayer.swf?file=' + this.config.data + '&autoStart=false"/>';
		html += '<param name="wmode" value="transparent" />';
		html += '</object>';
	}
	
	$$div.innerHTML = html;
};

BC.prototype.render = function($container) {
	var $$div = $$.create("DIV", {id: this.config.id },undefined,this.config.style);
	$container.appendChild($$div);
	if(!inDesigner(this.bf) && this.config.data){
		this.setData(this.config.data);
	}
	
};

BC.prototype.bindEvent = function(eventName, callback) {
	if (eventName == "selected") {
		$$.bindEvent(this.config.id, "click", callback);
	}
};

})(window);
/////=csc-static-table.js=/////
(function(window, undefined) {
/**
 * @class CSC-STATIC-TABLE
 * @author Mahmut Yıldız
 */
function Definition(CS) {
	this.DEFAULTS = {
		colCount: 3
	};

	this.BaseBF = "CONTAINER";
	this.LABEL = "Static Table";

	this.METHODS = [ "collapse", "expand", "setColumnWidths(widths)", "setColumnCount(count)" ];
	this.EVENTS = [ "selected", "onload", "oninit(param)" ];
	this.DEPENDENCIES = [];

	this.Type = function() {};
};

var def = new Definition();
def.Type.prototype = new BaseBC();
BCEngine.registerType("CSC-STATIC-TABLE", def);

var BC = def.Type;


BC.prototype.render = function($container) {
	var bf = this.bf;
	var bc = this;
	
	var colWidths = [];
	if(this.config.colWidths){
		var parts = this.config.colWidths.split(",");
		for(var i=0; i<parts.length ;i++){
			colWidths[i] = stringTrim(parts[i]);
		}
	}
	
	var $$containerDiv = $$.create("div", {id: this.config.id}, ["csc-static-table", this.config.cssClass]);
	var $$table = $$.create("table", {id: this.config.id+"-t"});
	var $$tbody = $$.create("tbody", {id: this.config.id+"-b"}, null, null, $$table);
	$$table.style.display = (inDesigner(this.bf) || this.config.visible) ? "" : "none";
	
	$$.css($$table, this.config.style || {});
	
	var titleType = this.config.titleType || "none";
	if (titleType == "window") {
		var $$titleDiv = $$.create("div", null, ["csc-form-title", this.config.titleClass], {"width": "100%"});
		var $$titleSpan = $$.create("span", null, this.config.titleIcon);
		$$titleSpan.innerHTML = this.config.title;
		$$titleDiv.appendChild($$titleSpan);
		if (this.config.collapsible === true) {
			var $$collapseBtn = $$.create("ins", null, "collapse");
			$$collapseBtn.onclick = function() {
				if (bc.collapsed) {
					bf.expand();
				} else {
					bf.collapse();
				}
			};
			$$titleDiv.appendChild($$collapseBtn);
		}
		$$containerDiv.appendChild($$titleDiv);
		$$containerDiv.appendChild($$table);
	} else if (titleType == "fieldset" || titleType == "bfieldset") {
		var $$fieldSet = $$.create("fieldset", null, ["csc-form-fieldset", titleType == "bfieldset" ? "borderless-fieldset":null]);
		var $$legend = $$.create("legend");
		if (this.config.collapsible === true && this.config.showTitle !== false) {
			$$.addClass($$legend, "collapse");
			$$legend.onclick = function() {
				if (bc.collapsed) {
					bf.expand();
				} else {
					bf.collapse();
				}
			};
			$$legend.innerHTML = "<span>" +(this.config.title || "&nbsp;")+ "</span>";
			$$fieldSet.appendChild($$legend);
		} else if (this.config.title && this.config.showTitle !== false) {
			$$legend.innerHTML = "<span>" +(this.config.title || "&nbsp;")+ "</span>";
			$$fieldSet.appendChild($$legend);
		} else {
			$$.addClass($$fieldSet, "csc-form-fieldset-nolegend");
		}
        if(this.config.bottomBorder === false){
            $$.addClass($$fieldSet, "no-bottom-border");
        }
		$$fieldSet.appendChild($$table);
		$$containerDiv.appendChild($$fieldSet);
	} else if (titleType === undefined || titleType == "none") {
		$$containerDiv.appendChild($$table);
	}
	
	$container.appendChild($$containerDiv);
	var counter = 0;
	var $$tr;
	for ( var memberName in bf.members) {
		var member = bf.members[memberName];
		var memConfig = member.getConfig();
		var memberRef = member.bcRef;
		if(memberRef.typeName == "CSC-POPUP" || memberRef.typeName == "CSC-HIDDEN"){
			continue;
		}
		if (!inDesigner(this.bf) && !member.isVisible()) {
			continue;
		}
		if(counter % this.config.colCount == 0){
			$$tr = $$.create("tr",null,null,null,$$tbody);
		}
		counter++;
		var $$td = $$.create("td",{rel: memberName},null,null,$$tr);
		if(memConfig.layoutConfig && memConfig.layoutConfig.horAlign){
			$$td.style.textAlign = memConfig.layoutConfig.horAlign;
		}
		if(memConfig.layoutConfig && memConfig.layoutConfig.verAlign){
			$$td.style.verticalAlign = memConfig.layoutConfig.verAlign;
		}
		if(counter <= this.config.colCount && colWidths[counter-1] !== undefined && colWidths[counter-1] != "*"){
			$$td.style.width = colWidths[counter-1];
		}
		BFEngine.render(member, $$td);
	}
	while(true){
		if(counter % this.config.colCount == 0){
			break;
		}
		counter++;
		$$.create("td",null,null,null,$$tr);
	}
	
	for ( var memberName in bf.members) {
		BFEngine.DRL(bf.members[memberName]);
	}
};

BC.prototype.getChildContainer = function(memberName) {
	var $$tbody = $$.byid(this.config.id+"-b");
	if(!$$tbody){
		return;
	}
	var $$trs = $$.childs($$tbody, "tr");
	for(var i=0; i<$$trs.length ; i++){
		var $$td = $$.getChildHasAttr($$trs[i], "rel", memberName);
		if($$td){
			return $$td;
		}
	}
};

BC.prototype.setColumnWidths = function(widths) {
	this.config.colWidths = widths;
	BFEngine.renderRequest(this.bf);
};

BC.prototype.setColumnCount = function(count) {
	this.config.colCount = count;
	BFEngine.renderRequest(this.bf);
};


BC.prototype.collapse = function() {
	var $$containerDiv = $$.byid(this.config.id);
	var fieldset = $$.child($$containerDiv, "fieldset");
	if (!fieldset) {// window
		var $$ins = $$.query($$containerDiv, [{tagName: "div", clazz: "csc-form-title"}, {tagName: "ins"}]);
		if($$ins){
			$$.rmClass($$ins, "collapse");
			$$.addClass($$ins, "expand");
		}
		
	} else {// fieldset
		var $$legend = $$.query($$containerDiv, [{tagName: "fieldset"}, {tagName: "legend"}]);
		if($$legend){
			$$.rmClass($$legend, "collapse");
			$$.addClass($$legend, "expand");
		}
	}
	var $$table = $$.byid(this.config.id+"-t");
	$$table.style.display = "none";
	this.collapsed = true;
};

BC.prototype.expand = function() {
	var $$containerDiv = $$.byid(this.config.id);
	var fieldset = $$.child($$containerDiv, "fieldset");
	if (!fieldset) {// window
		var $$ins = $$.query($$containerDiv, [{tagName: "div", clazz: "csc-form-title"}, {tagName: "ins"}]);
		if($$ins){
			$$.rmClass($$ins, "expand");
			$$.addClass($$ins, "collapse");
		}
		
	} else {// fieldset
		var $$legend = $$.query($$containerDiv, [{tagName: "fieldset"}, {tagName: "legend"}]);
		if($$legend){
			$$.rmClass($$legend, "expand");
			$$.addClass($$legend, "collapse");
		}
	}
	var $$table = $$.byid(this.config.id+"-t");
	$$table.style.display = "";
	BFEngine.DRL(this.bf);
	this.collapsed = false;
};

BC.prototype.setTitle = function(title){
	this.config.title = title;
	var $$container = $$.byid(this.config.id);
	if(this.config.titleType == "window") {
		var $$spanTitle = $$.query($$container, [{tagName: "div", clazz: "csc-form-title"}, {tagName: "span"}]);
		if($$spanTitle){
			$$spanTitle.innerHTML = title;
		}
	} else if(this.config.titleType == "fieldset" || this.config.titleType == "bfieldset") {
		var $$spanTitle = $$.query($$container, [{tagName: "fieldset"}, {tagName: "legend"}, {tagName: "span"}]);
		if($$spanTitle){
			$$spanTitle.innerHTML = title;
		}
	}
};

BC.prototype.bindEvent = function(eventName, callback) {
	if (eventName == "selected") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.onclick = callback;
		}
	} else if (eventName == "drop") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.ondrop = callback;
		}
	} else if (eventName == "dragover") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.ondragover = callback;
		}
	}
};

BC.prototype.load = function(){
	this.bf.fire("onload");
};
})(window);
/////=csc-hidden.js=/////
(function(window, undefined) {
function Definition() {
	this.DEFAULTS = {};

	this.BaseBF = "BASIC";
	this.LABEL = "Hidden";	
	this.METHODS = [];
	this.EVENTS = [];

	this.DEPENDENCIES = [];

	this.Type = function() {};
	this.Type.prototype = new BaseBC();
	
	this.Type.prototype.clear = function(){
		this.config.value = null;
	};
	this.Type.prototype.init = function() {
		this.config.value = null;
	};
	this.Type.prototype.getValue = function() {
		return this.config.value;
	};
	this.Type.prototype.setValue = function(value) {
		this.config.value = value;
	};

	this.Type.prototype.isVisible = function() {
		return false;
	};

	this.Type.prototype.render = function($container) { };

	this.Type.prototype.bindEvent = function(eventName, callback) { };
}

BCEngine.registerType("CSC-HIDDEN", new Definition());
})(window);
/////=csc-table-cell.js=/////
(function(window, undefined) {
/**
 * @class CSC-TABLE-HEADER- CELL
 * @author Mahmut Yıldız
 */

function Definition(CS) {
	this.DEFAULTS = { ftype: "eq" };

	this.BaseBF = "NON-BUSINESS";
	this.LABEL = "Table Cell";


	this.METHODS = [ "setTitle(title)" ];
	this.EVENTS = [ "selected" ];
	this.DEPENDENCIES = [];

	this.Type = function() {};
};

var def = new Definition();
def.Type.prototype = new BaseBC();
BCEngine.registerType("CSC-TABLE-CELL", def);

var BC = def.Type;

BC.prototype.init = function() {
	var bf = this.bf;
	var parent = bf.$CS$.parent;
	if(parent.bcRef.typeName != "CSC-TABLE-ROW"){
		return;
	}
	parent = parent.$CS$.parent;
	if(parent.bcRef.typeName != "CSC-TABLE-HEADER"){
		return;
	}
	parent = parent.$CS$.parent;
	if(parent.bcRef.typeName != "CSC-TABLE"){
		return;
	}
	this.table = parent;
};

BC.prototype.setTitle = function(title){
	this.config.title = title;
	var $$td = $$.byid(this.config.id);
	var $$span = $$.child($$td, "SPAN");
	if($$span){
		$$span.innerHTML = this.config.title || "";
	}
};

BC.prototype.render = function($container) {
	var bc = this, bf = bc.bf;;
	var colmodel = [];
	//Parent mutlaka TABLE-ROW olmalı
	var parent = bf.$CS$.parent;
	if(parent.bcRef.typeName != "CSC-TABLE-ROW"){
		var $$span = $$.create("span");
		SIDENavigator.notify("TABLE CELL(" +bf.$CS$.name +") can be only use in TABLE-ROW component.", {warning: true, notime: true});
	}
	$container.setAttribute("id", this.config.id);
	var $$span = $$.create("span");
	if(this.config.title){
		this.config.title = stringTrim(this.config.title);
	}

	if(!inDesigner(bf) && bc.clickBinded && !bf.isDisabled()){
		$$.addClass($$span, "csc-textbox-linked");
	}
	if(this.config.title && this.config.title.indexOf("#") == 0){
		var member = BFEngine.get(this.config.title.substring(1), this.table);
		if(!member){
			$$span.innerHTML = "?";
		} else {
			$$span.innerHTML = member.getConfig().title || member.getConfig().label || "";
		}
	} else {
		$$span.innerHTML = this.config.title || "";
	}
	if(this.config.tips){
        $$.attr($$span, "title", this.config.tips);
    }

	$$.bindEvent($$span, "click", function(e){
		SIDENavigator.setEvent(e);
		bf.fire("selected");
	});
	if(this.config.sortProp){
		this.table.bcRef.makeSortable(this.config.sortProp, $$span, this.config.sortType);
	}
	if(this.config.fprop && this.config.ftype){
		this.table.bcRef.makeFilterable(this.config.fprop, this.config.ftype, $$span, $container);
	}else{
		$container.appendChild($$span);
	}
};

BC.prototype.bindEvent = function(eventName, callback) {
	if (eventName == "drop") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.ondrop = callback;
		}
	} else if (eventName == "dragover") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.ondragover = callback;
		}
	} else if (eventName == "selected") {
		this.clickBinded = true;
		if (typeof dom != "undefined" && dom != null) {
			$$dom.onclick = callback;
		}
	}
};

})(window);
/////=csc-dyn-combobox.js=/////
(function(window, undefined) {
/** 
 * @class CSC-DYN-COMBOBOX
 * @classdesc Seçimli ve editable kullanılmak üzere tasarlanmış combobox.
 * @author mahmuty
 */
function Definition(CS) {
	this.DEFAULTS = {
		disabled : false,
		cls : "csc-dyn-combobox",
		focusable: true,
		disabledKey: "disabled"
	};

	this.BaseBF = "BASIC";
	this.LABEL = "Dynamic Combo"; 

	this.METHODS = [ "setOptions(items, config)", "addOptions(items, index)","filter(filterProp, filterValue, config)", "inverseFilter(filterProp, filterValue, setNull)", "getSelectedText", "clearOptions", "focus", "setEmptyOption(flag)", "setEmptyText(text)", "getOptions()", 
	                 "setDatasource(serviceName, parameterObj, callback)", "setRefData(refDataName, isSideRef, callback)", "changeRefData(refName, callback)", 
	                 "sortOptions(fieldName, order)", "setDefaultValue(value)", "getSelectedOption", "setTable(name)", "selectFirstOption" ];
	this.EVENTS = [ "changed", "selected", "keyup(prevValue, value)", "button-click", "blur", "onfocus", "oninit(param)" ];
	this.DEPENDENCIES = [ {
		name : "JQuery",
		version : "2.0.3"
	} ];

	this.Type = function(moduleName) {};
}

var def = new Definition();
def.Type.prototype = new BaseBC();
BCEngine.registerType("CSC-COMBOBOX", def);
BCEngine.registerType("CSC-DYN-COMBOBOX", def);
var BC = def.Type;


BC.prototype.init = function() {
	var bc=this, bf=bc.bf, config=bc.config;
	bc.inTabular = false;
	var parent = bf;
	bc.fprop = config.filterProp;

	bc.EMPTY_TEXT = "-----";
	bc.EMPTY_VALUE = config.defaultValue;
	
	if(config.emptyValue){
		bc.EMPTY_TEXT = config.emptyText;
		bc.EMPTY_VALUE = config.emptyValue;
		config.defaultValue = bc.EMPTY_VALUE;
	} 
	while (parent) {
		if (parent.bcRef.typeName == "CSC-POPUP") {
			break;
		}
		if (parent.$CS$.definition.isTabular) {
			bc.inTabular = true;
			break;
		}
		parent = parent.$CS$.parent;
	}
	if(bc.inTabular){//Grid içerisinde editable combo sapıtıyor
		config.editable = false;
	}
	if (bc.inTabular && parent[bf.getMemberName()]) {
		var tabularBc = parent[bf.getMemberName()].bcRef;
		bc.tabularBc = tabularBc, tabularConfig = tabularBc.config;

		bc.options = tabularBc.options;
		bc.optionsConfig = tabularBc.optionsConfig;
		
		config.refDataNames = tabularConfig.refDataNames;
		config.appRefData = tabularConfig.appRefData;

		config.sortFieldName = tabularConfig.sortFieldName;
		config.sortOrder = tabularConfig.sortOrder;
		
		bc.fprop = tabularBc.fprop || bc.fprop;
		bc.fvalue = tabularBc.fvalue;

		bc.iprop = tabularBc.iprop || bc.iprop;
		bc.ivalue = tabularBc.ivalue;
	}
	
	if((config.refDataNames || config.appRefData) && (!bc.inTabular || (bc.inTabular && parent && parent[bf.getMemberName()] && parent[bf.getMemberName()].bcRef != bc))){
		CSRefDataManager.bindUpdate(bc, config.refDataNames || config.appRefData);
	}
};

BC.prototype.setDefaultValue = function(value) {
	/**
	 * @function setDefaultValue
     * @description Varsayılan değeri ayarlar.
     * @param [value] Varsayılan değer.
     */
	this.config.defaultValue = value;
}

BC.prototype.clear = function(){
	var bc=this, config=bc.config;
	bc.setValue(config.defaultValue);
	config.text = undefined;
	config.rawvalue  = undefined;//bu önemli. clear ve clearOptions çağırıldığı halde getvalue deyince rawvalue dönmemesi için.
	BFEngine.renderRequest(bc.bf);
}

BC.prototype.changeRefData = function(refName, callback){
	/**
	 * @function changeRefData
     * @description Referans veriyi değiştirir.
     * @param [refName] referans verinin adı
     * @param [callback] callback fonksiyonu
     */
	delete this.config.refDataNames;
	delete this.config.appRefData;
	var bc = this;
	function finishOperation(){
		bc.bf.rerender();
		if(callback){
			callback();
		}
	}
	if(!refName){
		finishOperation();
	} else if(CSRefDataManager.refData.side[refName]){//side referans verisi mi? o zaman dinamik olarak getirmeye ihtiyaç yok
		this.config.refDataNames = refName;
		finishOperation();
	} else {
		this.config.appRefData = refName;
		CSRefDataManager.requestRefData(false, [refName], finishOperation, BFEngine.getModuleName(this.bf));
	}
};

BC.prototype.createMaskDiv = function(){
	var bc = this;
	var $$dynDiv = $$.byid(bc.config.id);
	if($$dynDiv){//bc çizilmişse
		if(!$$.byid(bc.config.id+"-mask")){
			var $dynDiv = $($$dynDiv);
			var offset = $dynDiv.offset();
			var width = $dynDiv.width();
			var height = $dynDiv.height();
			var cssObj = {
					width: width+3,
					height: height+3,
					top: offset.top-1+"px",
					left: offset.left+"px",
					position: "absolute",
					background: "#d0d0d0",
					textAlign: "center",
					zIndex: 1111
			};
			
			var $$maskDiv = $$.create("div", { id: bc.config.id+"-mask"}, ["csc-dyncombo-mask"], cssObj, $$dynDiv.parentNode);
			var $$loaderImg = $$.create("img", {src: "css/bc-style/img/ajax-loader2.gif"}, [], null, $$maskDiv);
		}
	}
};

BC.prototype.removeMaskDiv = function(){
	var bc = this;
	var $$maskDiv = $$.byid(bc.config.id+"-mask");
	if($$maskDiv){
		$$.remove($$maskDiv);
//		$$maskDiv.remove();
	}
};


BC.prototype.setDatasource = function(serviceName, parameterObj, callback) {
	/**
	 * @function setDatasource
     * @description Combobox'ın bir servisten gelen sonuç ile dolmasını sağlar.
     * @param [serviceName] Çağrılacak servis adı
     * @param [parameterObj] Servise gönderilecek parametre
     * @param [callback] Servisten gelen callback
     */
	var bc = this;
	bc.createMaskDiv();
	bc.config.isMasked = true;
	CSCaller.call(serviceName, parameterObj).then(function(resp){
		bc.setOptions(resp.items);
		if(callback){
			callback();
		}
		bc.removeMaskDiv();
		bc.config.isMasked = false;
	}).error(function(){
		CSPopupUTILS.MessageBox(SideMLManager.get("common.errorSystemAdmin"));
	});
	
};

BC.prototype.setRefData = function(refDataName, isSideRef, callback) {
	/**
	 * @function setRefData
     * @description Combobox'a koyulacak referans veriyi ayarlar.
     * @param [refDataName] Referans verinin adı
     * @param [isSideRef] Referans verinin Side referansı olup olmadığı
     * @param [callback] callback fonksiyonu
     */
	var bc = this;
	if(bc.rfRequested){
		return;//realtive ref eklendikten sonra rerender'lar dolayı içiçe tekrar tekrar bu metoda girildiği için bu kod eklendi @mahmuty  
	}
	
	bc.createMaskDiv();
	bc.config.isMasked = true;
	
	var relavetiveBF = null;
	if(bc.config.relativeRefData){
		relavetiveBF = bc.bf;
	}
	
	bc.rfRequested = true;
	CSRefDataManager.requestRefData(isSideRef, [refDataName], function(){
		bc.rfRequested = false;
		bc.removeMaskDiv();
		bc.config.isMasked = false;
		if(isSideRef){
			bc.config.refDataNames = refDataName;
		} else {
			bc.config.appRefData = refDataName;
		}
		bc.reRender();
		if(callback){
			callback();
		}
	}, bc.bf.getModuleName(), relavetiveBF);
	
	CSRefDataManager.bindUpdate(this, refDataName);
};

BC.prototype.getValue = function() {
	if(this.config.editable || this.isParentReadonly() || this.bf.isReadonly()){
		if(this.config.editable && this.config.allowNew){
			var $$input = $$.byid(this.config.id+"-i");
			if($$input && $$input.value){
				var inValue = $$input.value;
				for (var i=0; i<this.localOptions.length; i++) {
					var text = this.localOptions[i][1];
					if (text == inValue) {
						return this.localOptions[i][0];
					}
				}
				return $$input.value;
			}
		}
		if(this.config.value === 0){
			return 0;
		}
		return (this.config.value === undefined || this.config.value === null) ?  this.EMPTY_VALUE : this.config.value;
	}
	//Non editable
	var $$dom = $$.byid(this.config.id);
	if($$dom){
		var value = $$dom.value;
		if(value == ""){
			value = this.config.defaultValue;
		}
		if(!this.config.emptyOption && !value && this.config.rawvalue ){
			return this.config.rawvalue;
		}
		this.config.value = value;
	}
	return (this.config.value === undefined || this.config.value === null) ? this.config.defaultValue : this.config.value;
};

BC.prototype.checkPassiveOption = function(value) {
	if(!this.passiveOptions){
		return;
	}
	for(var i=0; i<this.passiveOptions.length ;i++){
		if(this.passiveOptions[i][0] == value){
			this.nonPassiveValue = value;
			this.localOptions.push(this.passiveOptions[i]);
			this.passiveOptions.splice(i, 1);
			
			var $$dom = $$.byid(this.getHtmlId());
			if($$dom){
				this.reRender();
			}
			return;
		}
	}
};

BC.prototype.selectFirstOption = function(){
	var bc=this;
	if(!bc.localOptions){
		bc.prepareOptions();
	}
	if(!bc.localOptions || !bc.localOptions.length){
		return;
	}
	bc.setValue(bc.localOptions[0][0]);
};

BC.prototype.setValue = function(value, text) {
	var bc=this, bf=bc.bf, config=bc.config, readonly=bf.isReadonly();
	if (value !== null && typeof value == "object") {
		bc.checkPassiveOption(value.value);
		config.value = value.value;
		config.text = value.text;
	} else {
		bc.checkPassiveOption(value);
		config.value = value;
		if(value === undefined || value === null){
			config.text = (readonly ? config.roEmptyText : null) || config.emptyText || bc.EMPTY_TEXT;
		} else {
			config.text = bc.getText(value);
		}
	}
	
	if(readonly){
		var $$span = $$.byid(config.id+"-s");
		if($$span){
			$$span.innerHTML = config.text;
		}
	} else {
		if(config.editable){
			var $$input = $$.byid(config.id+"-i");
			if($$input){
				if(!value && config.placeholder){
					$$input.value = "";
				} else {
					$$input.value = config.text;
				}
				$$input.setAttribute("title", config.text);
			}
		} else {
			if(value === null || value === undefined){
				value = "";
			}
			var $$select = $$.byid(config.id);
			if($$select){
				config.rawvalue = undefined;
				if (config.emptyOption !== false || (value !== undefined && value !== null && value !== "")) {
					$$select.value = value;
				}
				var domValue = $$select.value;
				if (domValue != value) {
					config.rawvalue = value;
				}
			}
		}
	}
	
	var activeChangedEvent = SideDefaults[SideModuleManager.getLocalModuleName()]["support-changed-event-on-setvalue"];
	if( activeChangedEvent || activeChangedEvent == "true" ){
		bf.fire("changed");
	}
};

BC.prototype.saveState = function() {
	if(this.config.editable || this.isParentReadonly() || this.bf.isReadonly()){
		return;
	}
	var value = this.getValue();
	if (value == this.EMPTY_VALUE && value !== 0 && this.config.rawvalue !== undefined) {
		this.config.value = this.config.rawvalue;
	} else {
		this.config.value = value;
	}
};

BC.prototype.getText = function(value) {
	var bc=this, config=bc.config;
	if(value === undefined){
		value = bc.getValue();
	}
	
	if(config.tableBFName && value && value !== ""){
    	var row = config.tableBF.getRowByRowId(value);
    	return row.getValue()[config.tableFilterProb];
    }
	
	if(!bc.localOptions){
		bc.prepareOptions();
	}
	var loptions = bc.localOptions, val;
	for(var i=0; loptions && i<loptions.length; i++) {
		val = loptions[i][0];
		if(val === "" && value === 0){
			continue;
		}
		if (val == value) {
			if(val === bc.EMPTY_VALUE){
				return bc.bf.isReadonly() ? config.roEmptyText || loptions[i][1] : loptions[i][1];
			}
			return loptions[i][1];
		}
	}
	return config.text === undefined ? (bc.bf.isReadonly() ? config.roEmptyText:null) || bc.EMPTY_TEXT : config.text;
};

BC.prototype.getSelectedText = function() {
	/**
	 * @function getSelectedText
     * @description Seçilen metni getirir.
     */
	return this.getText();
};

BC.prototype.focus = function(){
	/**
	 * @function focus
     * @description Odağı combobox'a getirir.
     */
	if(this.config.editable){
		var $$input = $$.byid(this.config.id + "-i");
		if($$input){
			$$input.focus();
		}
	} else {
		$$combo = $$.byid(this.config.id);
		if($$combo){
			$$combo.focus();
		}
	}
};

BC.prototype.setVisible = function(flag) {
	this.config.visible = flag;
	var $$div = $$.byid(this.config.id);
	if($$div){
		$$div.style.display = flag ? "" : "none";
		return;
	} 
	//readonly state
	var $$span = $$.byid(this.config.id+"-s");
	if($$span){
		$$span.style.display = flag ? "" : "none";
	} 
};

BC.prototype.getHtmlId = function() {
	if(this.bf.isReadonly()){
		return this.config.id+"-s";
	} else {
		return this.config.id;
	}
};

BC.prototype.addPassiveOption = function(value, text){
	if(!this.passiveOptions){
		this.passiveOptions = [];
	}
	this.passiveOptions.push([value, text]);
};

/**
 * @function sortOptions
 * @description Combobox'taki nesnelerin hangi alanına göre sıralanması gerektiğini belirler.
 * @param [fieldName]
 * @param [order] Artan ya da azalan sıra "desc" ya da "asc" olabilir.
 */
BC.prototype.sortOptions = function(fieldName, order){
	this.sortFieldName = fieldName;
	this.sortOrder = order || "asc";
	this.reRender();
};

BC.prototype.sortArray = function(data){
	var me = this;
	if(data){
		return data.sort(function(a,b){
			if(me.sortOrder == "desc"){
				if(typeof a[me.sortFieldName] == "string"){
					return b[me.sortFieldName].localeCompare(a[me.sortFieldName]);
				} else {
					if(a[me.sortFieldName] < b[me.sortFieldName]) return 1;
					if(a[me.sortFieldName] > b[me.sortFieldName]) return -1;
					return 0;
				}
			}else{
				if(typeof b[me.sortFieldName] == "string"){
					return a[me.sortFieldName].localeCompare(b[me.sortFieldName]);
				} else {
					if(a[me.sortFieldName] < b[me.sortFieldName]) return -1;
					if(a[me.sortFieldName] > b[me.sortFieldName]) return 1;
					return 0;
				}
			}
		});
	}
}

BC.prototype.prepareOptions = function(force) {
	if(force !== true && this.tabularBc && this.config.parentOptions){
		if(!this.tabularBc.localOptions){
			this.tabularBc.prepareOptions(true);
		}
		this.localOptions = this.tabularBc.localOptions;
		return;
	}
	var selectedRefDataName = (this.config.refDataNames && this.config.refDataNames != "none") ? this.config.refDataNames : this.config.appRefData;
	this.localOptions = [];
	if (this.config.emptyOption !== false) {
		this.localOptions.push([this.config.emptyValue || this.EMPTY_VALUE, this.config.emptyText || this.EMPTY_TEXT]);
	}
	if((this.fprop && !this.fvalue) || (this.iprop && !this.ivalue)){
		//return;
	}
	
	if (this.options) {
		if (this.sortFieldName){
			this.options = this.sortArray(this.options);
		}
		for ( var i = 0; i < this.options.length; i++) {
			var item = this.options[i];
			if (Array.isArray(item)) {
				if(this.fprop && Array.isArray(this.fvalue) && !isInIt(this.fvalue, item[0])){
					continue;
				}
				if(this.iprop && Array.isArray(this.ivalue) && isInIt(this.ivalue, item[0])){
					continue;
				}
				this.localOptions.push([ item[0], item[1] ]);
			} else if (typeof item != "object") {
				if(this.fprop && Array.isArray(this.fvalue) && !isInIt(this.fvalue, item)){
					continue;
				}
				if(this.iprop && Array.isArray(this.ivalue) && isInIt(this.ivalue, item)){
					continue;
				}
				this.localOptions.push([ item, item ]);
			} else {
				if (this.fprop) {//filter va mı?
					if(Array.isArray(this.fvalue) && !isInIt(this.fvalue, BEANUtils.getValue(item, this.fprop))){
						continue;
					}
					if(!Array.isArray(this.fvalue) && item[this.fprop] != this.fvalue){
						continue;
					}
				}
				if (this.iprop) {//inverse filter va mı?
					if(Array.isArray(this.ivalue) && isInIt(this.ivalue, BEANUtils.getValue(item, this.iprop))){
						continue;
					}
					if(!Array.isArray(this.ivalue) && item[this.iprop] == this.ivalue){
						continue;
					}
				}
				if (this.optionsConfig && this.optionsConfig.value && this.optionsConfig.text) {
					var value = BEANUtils.getValue(item, this.optionsConfig.value), text = BEANUtils.getValue(item, this.optionsConfig.text);
					if((item.aktifPasif === false || item.aktifPasif === "false") && this.nonPassiveValue !== value){
						this.addPassiveOption(value, text);
					} else {
						this.localOptions.push([ value, text ]);
					}
				}else if (this.config.valueField && this.config.textField && item[this.config.valueField] !== undefined && item[this.config.textField] !== undefined) {
					if((item.aktifPasif === false || item.aktifPasif === "false") && this.nonPassiveValue !== item.value){
						this.addPassiveOption(item.value, item.text);
					} else {
						this.localOptions.push([ item[this.config.valueField], item[this.config.textField]]);
					}
				} else {
					if((item.aktifPasif === false || item.aktifPasif === "false") && this.nonPassiveValue !== item.value){
						this.addPassiveOption(item.value, item.text);
					} else {
						this.localOptions.push([ item.value, item.text ]);
					}
				}
			}
		}
	} else if (selectedRefDataName != undefined) {
		if (!inDesigner(this.bf) && selectedRefDataName != "none") {
			
			var data;
			var bc = this;
			if(this.config.relativeRefData){
				if(!bc.config.isMasked){
					bc.createMaskDiv();
					bc.config.isMasked = true;
				}
				data = CSRefDataManager.getData(selectedRefDataName, this.bf, function(){
					bc.config.appRefData = selectedRefDataName;
					bc.reRender();
					
					bc.removeMaskDiv();
					bc.config.isMasked = false;
				});
				if(!data){
					return;
				}
				bc.removeMaskDiv();
				bc.config.isMasked = false;
			}else{
				data = CSRefDataManager.getData(selectedRefDataName);
			}
			
			if (this.sortFieldName){
				data = this.sortArray(data);
			}
			
			if (data) {
				for ( var i = 0; i < data.length; i++) {
					if (this.fprop && this.fvalue) {
						if(Array.isArray(this.fvalue) && !isInIt(this.fvalue, data[i][this.fprop])){
							continue;
						}
						if(!Array.isArray(this.fvalue) && data[i][this.fprop] != this.fvalue){
							continue;
						}
					}
					if (this.iprop && this.ivalue) {
						if(Array.isArray(this.ivalue) && isInIt(this.ivalue, data[i][this.iprop])){
							continue;
						}
						if(!Array.isArray(this.ivalue) && data[i][this.iprop] == this.ivalue){
							continue;
						}
					}
					if (this.config.valueField && this.config.textField) {
						if(data[i].aktifPasif === false || data[i].aktifPasif === "false"){
							this.addPassiveOption(data[i][this.config.valueField], data[i][this.config.textField]);
						} else {
							this.localOptions.push([ data[i][this.config.valueField], data[i][this.config.textField]]);
						}
					} else {
						if((data[i].aktifPasif === false || data[i].aktifPasif === "false") && this.nonPassiveValue !== data[i].value){
							this.addPassiveOption(data[i].value, data[i].text);
						} else {
							this.localOptions.push([ data[i].value, data[i].text ]);
						}
					}
				}
			}
		}
	}
};

BC.prototype.DRL = function() {
	if(this.config.editable){
		var $$selectDiv = $$.byid(this.config.id);
		if(!$$selectDiv){
			return;
		}
		var divWidth = $$selectDiv.offsetWidth;
		var $$img = $$.child($$selectDiv, "IMG");
		if($$img && divWidth){
			$$img.style.left = (divWidth-20)+"px";
		}
	}
};

BC.prototype.render = function($container) {
	var bc=this,bf=bc.bf,config=bc.config,readonly=bf.isReadonly();
	var $$span, $$select, $$selectDiv, $$button;
	if (readonly) {
		$$span = $$.create("span", {"id": config.id+"-s", "title":config.tips },["csc-rospan",config.cssClass], config.style, $container);
	}else{
		if(config.button){
			$$button = $$.create("INPUT",{id:config.id+"-btn",type:"button"});
			$$button.onclick = function(){ bf.fire("button-click");};
		}
		if(!config.editable){
			$$select = $$.create("select", {"id": config.id, "title":config.tips, "tabindex": config.tabIndex}, ["csc-combobox", config.cssClass], config.style);
			if(bf.isDisabled()){
				$$select.setAttribute("disabled","disabled");
			}
			$$select.onblur = function(){
				bf.fire("blur");
			};
			$$select.onfocus = function(){
				bf.fire("onfocus");
			};
			if(config.button){
				$$selectDiv = $$.create("div", {"id": config.id+"-div"}, ["csc-select-div"], null, $container);
				$$selectDiv.appendChild($$select);
				$$selectDiv.appendChild($$button);
			} else {
				$container.appendChild($$select);
			}
		}else{
			$$selectDiv = $$.create("div", {"id": config.id}, ["csc-dyn-select",config.cssClass], config.style, $container);
			if(config.button){
				$$selectDiv.appendChild($$button);
			}
		}
	}
	
	this.prepareOptions();//this.localOptions hazirlaniyor.   bu her seferinde yapılmalı mı?
	
	var bc = this;
	if (readonly) {
		$$span.style.display = this.bf.isVisible() ? "" : "none";
		if (inDesigner(this.bf)) {
			$$span.style.display = "";// Design Time da visible yap
			$$span.innerHTML = "Readonly";
		} else {
			config.text = bc.getText();
			$$span.innerHTML = config.text;
		}
		if(!config.style || !config.style.whiteSpace){
			$$span.style.whiteSpace = "normal";
		}
		if (config.value !== undefined) {
			this.setValue(config.value, config.text);
		}else if (config.defaultValue){
			this.setValue(config.defaultValue);
		}
	} else {
		if(!config.editable){
			$$select.style.display =  inDesigner(bf) || bf.isVisible() ? "" : "none";// Design Time da visible yap
			
			if(bf.isRequired()){
				$$.addClass($$select, "csc-required");
			}
			this.renderStaticOptions($$select);
			$$select.onchange = function(e){
				bc.config.rawvalue = undefined;
				bf.fire("changed");
			};
			
			if (config.rawvalue !== undefined) {
				this.setValue(config.rawvalue);
			} else if (config.value !== undefined) {
				this.setValue(config.value);
			}else if(config.defaultValue){
				this.setValue(config.defaultValue);
			}
		} else {
			var disabled = bf.isDisabled();
			// create combobox
			var $$input = $$.create("input", {"id": config.id + "-i", title:config.tips,"maxLength": config.maxLengthOfNew, rel3: config.id, "placeholder": (config.placeholder || "")}, "csc-dc-text", null, $$selectDiv);
			if(disabled){
				$$input.setAttribute(config.disabledKey,config.disabledKey);
			}
			if(config.style && config.style.width){
				$$.css($$input, "width", config.style.width);
			}
			var $$optionsDiv = $$.create("div", {"id": config.id + "-opt"}, "csc-dyn-options", null, $$selectDiv);
			if(!config.placeholder && config.emptyText){
				$$input.value = config.emptyText;
			}
	
			$$.css($$selectDiv, "display", inDesigner(bf) || bf.isVisible() ? "" : "none");// Design Time da visible yap
	
			var divWidth = $$selectDiv.offsetWidth;
			if(!disabled){
				var $$img = $$.create("img", {src: "css/bc-style/img/cdown.png"}, undefined, {left: (divWidth-20)+"px"});
				$$selectDiv.appendChild($$img);
			}
			
			$$input.onclick = function(event) {
				bf.fire("selected", event);
			};
			
			if(bf.isRequired()){
				$$.addClass($$input, "csc-required");
			}
			
			if(inDesigner(bf)){
				return;
			}
	
			if(!disabled){
				$$input.onfocus = function() {
					bc.onEnter($$selectDiv, $$optionsDiv, $$input);
					bf.fire("onfocus");
				};
				$$img.onclick = function() {
					if(!bc.config.skipImgClickEvent){
						bc.onEnter($$selectDiv, $$optionsDiv, $$input);
					}
				};
				$$input.onkeyup = function(event) {
					if(this.maxLength === -1 || this.value.length < this.maxLength) {
						if (event.keyCode == 38 || event.keyCode == 13 || event.keyCode == 40 || event.keyCode == 9 || event.keyCode == 16) {
							return;
						}
						if (bc.onkeyup) {
							bc.onkeyup(this.prevValue, this.value);
						} else {
							bc.renderDynOptions($$selectDiv, $$optionsDiv, this, "x");
						}
						if (this.prevValue != this.value) {
							this.prevValue = this.value;
						}
					}else{
						return;
					}
					
				};
		
				$$selectDiv.onkeydown = function(event) {
					if ($$optionsDiv.style.display == "none") {
						if (event.keyCode == 40) {// asagi
							bc.renderDynOptions($$selectDiv, $$optionsDiv, $$input, "x");
							//$$optionsDiv.style.display = "block";
						}
						return;
					}
					var optionsUl = $$.child($$optionsDiv, "ul");
					var selected = $$.getChildsHasClass(optionsUl, "csc-dc-selected")[0];
					var toSelect = null;
					if (event.keyCode == 40) {// asagi
						if(window.getComputedStyle($$optionsDiv).display == "none"){
							$$optionsDiv.style.display = "block";
						}
						if (selected) {
							toSelect = $$.next(selected);
						} else {
							toSelect = $$.child(optionsUl, "li");
						}
					} else if (event.keyCode == 38) {// yukari
						if (selected) {
							toSelect = $$.prev(selected);
						}
					} else if (event.keyCode == 13) {// enter
						if (selected) {
							var val = selected.getAttribute("rel");
							bc.selectOption($$selectDiv, $$optionsDiv, selected, val);
						}
						return;
					}
					if (selected && toSelect) {
						$$.rmClass(selected, "csc-dc-selected");
						$$.addClass(toSelect, "csc-dc-selected");
					} else if (toSelect) {
						$$.addClass(toSelect, "csc-dc-selected");
					}
				};
			}
			if (config.value !== undefined) {
				this.setValue(config.value);
			}
		}
	}
	this.applyAddedClasses();// Apply css classes added by user
	
	if(config.isMasked){
		bc.createMaskDiv();
	}
};

var dynComboClickObj = {
	bc: undefined,
	handler: function(event, bcid){
		if(!dynComboClickObj.bc){
			return;
		}
		if(event && event.target && event.target.getAttribute("rel3") == dynComboClickObj.bc.config.id){
			return;
		}
		if(bcid === dynComboClickObj.bc.config.id){
			return;
		}
		var bc = dynComboClickObj.bc;
		document.body.removeEventListener("click", dynComboClickObj.handler , true);
		bc.blurHandled = true;
		var $$selectDiv = $$.byid(bc.config.id);
		if(!$$selectDiv){
			return;
		}
		var $$input = $$.byid(bc.config.id+"-i");
		var $$optionsDiv = $$.byid(bc.config.id+"-opt");
		if($$optionsDiv){
			$$optionsDiv.style.display = "none";
			$$optionsDiv.style.zIndex = "";
		}
		$$selectDiv.style.zIndex = "";
		if(!$$input){
			return;
		}
		bc.bf.fire("blur");
		
		var bcvalue = bc.config.value;
		var bctext = $$input.value;
		for (var i=0; i<bc.localOptions.length; i++) {
			var val = bc.localOptions[i][0];
			var text = bc.localOptions[i][1];
			if (text == bctext && val == bcvalue) {
				return;
			}
		}
		if(bc.config.allowNew !== true){
			$$input.value = "";
			bc.config.value = undefined;
			bc.config.text = "";
		} else {
			bc.config.value = $$input.value;
			bc.config.text = $$input.value;
		}
		
		bc.config.skipImgClickEvent = true;
		setTimeout(function(){
			bc.config.skipImgClickEvent = false;
		}, 100);
	}
};

BC.prototype.renderStaticOptions = function($$select){
	if($$.isie9()){
		for ( var i = 0; i < this.localOptions.length; i++) {
			var opt = document.createElement('option');
			var value = this.localOptions[i][0];
			if(value === undefined || value === null){
				value = "";
			}
			opt.value = value;
			opt.text = this.localOptions[i][1];
			$$select.options.add(opt);
		}
	}else{
		var optionStr = "";
		for ( var i = 0; i < this.localOptions.length; i++) {
			var value = this.localOptions[i][0];
			if(value === undefined || value === null){
				value = "";
			}
			var text = this.localOptions[i][1];
			if(typeof text == "string" && text.indexOf("<") >= 0){
				text = text.replace("<", "&#060;");
			}
			if(typeof value == "string" && value.indexOf("'") >= 0){
				value = value.replace(/'/g,"&#39;")
			}
			optionStr += "<option value='" + value + "'>" + text  + "</option>";
		}
		$$select.innerHTML = optionStr;
	}
};

BC.prototype.setTable = function(name, filterProb){
	/**
	 * @function setTable
	  *	@description Comboda liste olarak başka bir tabloyu kullanabilmeyi sağlar. Seçim yapıldığında value: seçilen satırın rowID'si, text: seçilen satırın filtreleme yapılan sütundaki değeridir.
	  * @param [name] Tablonun bulunduğu bileşen adı. Table layout olmalıdır. Modül ismiyle birlikte verilmedir. Örnek: "test.RG_TABLO"
	  * @param [filterProb] Filtreleme yapılması istenilen sütun ismini alır. Bu isim table layout içerisindeki bileşen adıdır.
	  */

	this.config.tableBFName = name;
	this.config.tableFilterProb = filterProb;
}

BC.prototype.renderDynOptions = function($$selectDiv, $$optionsDiv, $$input, doFilter) {
	if (!$$optionsDiv) {
		$$optionsDiv = $$.byid(this.config.id + "-opt");
		if (!$$optionsDiv) {
			return;
		}
	}
	if(dynComboClickObj.bc){
		dynComboClickObj.handler(null, this.config.id);
	}
	
	dynComboClickObj.bc = this;
	dynComboClickObj.handler(null, this.config.id);
	document.body.removeEventListener("click", dynComboClickObj.handler , true);
	document.body.addEventListener("click", dynComboClickObj.handler, true);
	
	$$selectDiv.style.overflow = "hidden";
	$$optionsDiv.style.visibility = "hidden";
	$$optionsDiv.style.width = "1000px";
	$$optionsDiv.style.display = "block";
	var bc = this;
	
	var str = SIDEString.turkishToUpperCase($$input.value).replace("\\","").replace("*","\\*");
	var regex;
	try {
		regex = $$input.value ? new RegExp(str) : null;
	} catch (ex){
		regex = new RegExp("--------xx");//geçmeyecek bir regex
	}
	
	if(this.config.tableBFName){
		SIDENavigator.renderToDiv($$optionsDiv, this.config.tableBFName,{onload:function(bf){
			if(doFilter && regex){
				bf.filter([{value:$$input.value,"type":"like",name:"name"}]);
			}
			if(bf.getConfig().style.width){
				$$optionsDiv.style.overflowX = "hidden";
				var width = bf.getConfig().style.width;
				$$optionsDiv.style.width = width.indexOf("px") === -1 ? width+"px" : width;
			}
			bc.config.tableBF = bf;
		}});
		
		$$optionsDiv.onclick = function(){
			if(bc.config.tableBFName && bc.config.tableBF){
				var text = bc.config.tableBF.getSelectedRowValues(bc.config.tableFilterProb)[0];
				var rowId = bc.config.tableBF.getSelectedRows()[0].getRowId();
				bc.selectOption($$selectDiv, $$optionsDiv, text, rowId);
			}
		}
	}else {
		$$optionsDiv.onscroll = function(){
			bc.liclick = true;
		};
		var $$optionsUl = $$.child($$optionsDiv, "ul");
		var $$selectDiv = $$.byid(this.config.id);
		$$optionsUl.innerHTML = "";
		var maxWidth = $$selectDiv.offsetWidth;
		for ( var i = 0; i < this.localOptions.length; i++) {
			var val = this.localOptions[i][0];
			var text = this.localOptions[i][1];
			try {
				if(doFilter && regex && !regex.test(SIDEString.turkishToUpperCase(text))) {
					continue;
				}
			} catch(ex){
				continue;
			}
			var $$li = $$.create("li", {rel: val, rel2: text, rel3: "dc"});
			var $$span = $$.create("span", {rel3: "dc"});
			$$span.innerHTML = this.localOptions[i][1];

			$$optionsUl.appendChild($$li);
			$$li.appendChild($$span);
			$$li.onclick = function(e) {
				e.stopPropagation();
				bc.selectOption($$selectDiv, $$optionsDiv, this, this.getAttribute("rel"));
			};
			if($$span.offsetWidth > maxWidth){
				maxWidth = $$span.offsetWidth;
			}
		}
	}
	
	if(maxWidth == $$selectDiv.offsetWidth){
		$$optionsDiv.style.width = (maxWidth) +"px";
	} else {
		$$optionsDiv.style.width = (maxWidth+20) +"px";
	}
	$$optionsDiv.style.visibility = "";
	$$selectDiv.style.overflow = "";
};

//Click ile yada tab ile dyncombo'ya girildiğinde componenti hazirlayan metod
BC.prototype.onEnter = function($$selectDiv, $$optionsDiv, $$input) {
	var bc = this;

	$$input.onblur = function() {
		if(bc.blurHandled){
			bc.blurHandled = false;
			return;
		}
		window.setTimeout(function() {
			$$optionsDiv.style.display = "none";
			$$optionsDiv.style.zIndex = "";
			$$selectDiv.style.zIndex = "";
			
			var bcvalue = bc.config.value;
			var $$input = $$.byid(bc.config.id+"-i");
			if(!$$input){
				return;
			}
			var bctext = stringTrim($$input.value);
			if(bc.config.tableBFName){
				return;
			}else{
				for (var i=0; i<bc.localOptions.length; i++) {
					var val = bc.localOptions[i][0];
					var text = stringTrim(bc.localOptions[i][1]);
					if (text == bctext) {
						bc.config.value = val;
						return;
					}
				}
			}
			if(bc.config.allowNew !== true){
				$$input.value = "";
				bc.config.value = undefined;
				bc.config.text = "";
			}
			document.body.removeEventListener("click", dynComboClickObj.handler , true);
			bc.bf.fire("blur");
		}, 200);
	};

	$$optionsDiv.innerHTML = "";
	$$selectDiv.style.zIndex = CSPopupContext.newZindex();
	
	$$optionsDiv.style.top = $$selectDiv.offsetHeight + "px";

	var $$optionsUl = $$.create("ul");
	$$optionsDiv.appendChild($$optionsUl);

	this.renderDynOptions($$selectDiv, $$optionsDiv, $$input);
};

BC.prototype.selectOption = function($$selectDiv, $$optionsDiv, $$li, value) {
	if(typeof $$li === "string"){
		var text = $$li;
	}else{
		var text = $$li.getAttribute("rel2");
	}
	this.config.value = value; 
	this.config.text = text; 
	var $$input = $$.byid(this.config.id + "-i");
	$$input.value = text;
	$$input.setAttribute("title", text);
	
	$$optionsDiv.style.display = "none";
	this.blurHandled = true;
	
	//changed evntinde başka bir elemana focus yapılırsa click eventi o elemanda da çalışıyor
	//o yüzden timeout konuldu #mahmuty 27/11/2014
	var bc = this;
	window.setTimeout(function() {
		bc.bf.fire("changed");
	}, 10);
};

BC.prototype.setOptions = function(items, config) {
	/**
	 * @function setOptions
	 * @description Combobox'a seçeneklerin verilmesini sağlar. 
	 * 
	 * @param [items] dizi olmalı. <br/> 
	 * @example En basit kullanımı: ["Erkek","Kadın"] yada [1920, 2000, 2021] Bu kullanımda value ve text alanlarının değerleri aynıdır. <br/>
	 *  Dizi içeriği dizi olabilir: [[1,"Erkek"], [2,"Kadın"]] Bu kullanımda iç dizide ilk eleman value alanının, ikinci eleman ise text alanının içeriğidir. <br/> 
	 *  Dizi içeriği nesne olabilir (value ve text isimleri sabit): [{value: "1", text: "Erkek"},{value:"2", text: "Kadın"}} <br/>
	 *  Dizi içeriği nesne olabilir (value ve text isimleri config ile verilir): items => [{plaka: "06", adi: "Ankara"},{value:"01", adi: "Adana"}], config=> {value: "plaka", text: "adi"} 
	 * 
	 * @param [config] items parametresi nesne dizisi olduğunda ve nesnelerin value ve text alanları standart dışı olduğunda hangi alanın value alanı hangi alanın text alan olarak kullanılabileceğini belirtir.<br/>
	 * @example items=> [{plaka: "06", adi: "Ankara"},{value:"01", adi: "Adana"}]  config=> {value: "plaka", text: "adi"}
	 */
	if (!Array.isArray(items)) {
		return;
	}
	this.options = items;
	this.optionsConfig = config;

	if (this.inTabular){
		this.config.parentOptions = false;
	}
	this.prepareOptions(true);
	if(this.config.editable){
		var $$optionsDiv = $$.byid(this.config.id + "-opt");
		var $$input = $$.byid(this.config.id+"-i");
		if($$optionsDiv && window.getComputedStyle($$optionsDiv).display != "none"){
			var $$selectDiv = $$.byid(this.config.id);
			this.renderDynOptions($$selectDiv, $$optionsDiv, $$input, false);
		}
		if (this.config.value !== undefined && document.activeElement != $$input) {
			this.setValue(this.config.value);
		}
	} else {
		this.reRender();
	}
};

BC.prototype.addOptions = function(items, index){
	debugger;
	if (!Array.isArray(items)) {
		items = [items];
	}
	if (!this.options) {
		this.options = [];
	}
	if (index !== undefined) {
		var op2 = this.options.splice(index, this.options.length - index);
		this.options = this.options.concat(items, op2);
	} else {
		this.options = this.options.concat(items);
	}
	this.prepareOptions();
	this.reRender();
	
};

BC.prototype.getOptions = function(full){
	/**
	 * @function getOptions
     * @description Combobox'taki verileri dizi halinde getirir.
     * @param [full] dizinin içinde bütün nesnenin mi olacağı yoksa sadece text,value ikilisinin mi olacağı.
     */
	if(this.config.tableBFName){
		if(this.config.tableBF){
			return this.config.tableBF.getValue();
		}
		return;
	}
	
	if(this.options){
		return this.options ? this.options.slice() : this.options;
	}
	var result = [];
	if(!this.localOptions){
		this.prepareOptions();
	}
	if(this.localOptions){
		var valueField = this.config.valueField || "value", textField = this.config.textField || "text";
		var selectedRefDataName = (this.config.refDataNames && this.config.refDataNames != "none") ? this.config.refDataNames : this.config.appRefData;
		var data = this.config.relativeRefData ? CSRefDataManager.getData(selectedRefDataName, this.bf) : CSRefDataManager.getData(selectedRefDataName);
		for(var i=0; i<this.localOptions.length ;i++){
			for(var j=0; data && j<data.length; j++){
				var value = BEANUtils.getValue(data[j], valueField);
				var text = BEANUtils.getValue(data[j], textField);
				if((this.localOptions[i][0] === value) && (this.localOptions[i][1] === text) ){
					if(full){
						result.push(data[j]);//TODO mahmuty klonlamak gerekebilir
					} else {
						result.push({value: value, text: text});
					}
					break;
				}
			}
		}
	}
	return result;
};

BC.prototype.getSelectedOption = function(){
    /**
     * @function getSelectedOption
     * @description Seçilen seçeneği döner. Eğer seçenekler setOptions metodu ile verilmiş ise verildiği şekliyle dönülür.<br/>
     * Eğer seçenekler referans veri olarak verilmişse seçilen seçenek [value, text] şeklinde dizi olarak dönülür.
     * Eğer setTable kullanılmışsa tablodaki satır nesnesi dönülür.
     */
    var value = this.getValue();
    
    if(this.config.tableBFName && value && value !== ""){
    	return this.config.tableBF.getRowByRowId(value);
    }
    
    if(this.options){
        for(var i=0; i<this.options.length ;i++){
            var item = this.options[i];
            if (Array.isArray(item)) {
                if(value === "" && item[0] === 0){
                    continue;
                }
                if(item[0] == value){
                    return item;
                }
            } else if (typeof item != "object") {
                if(value === "" && item === 0){
                    continue;
                }
                if(value == item){
                    return item;
                }
            } else {
                if (this.optionsConfig && this.optionsConfig.value) {
                    var beanValue = BEANUtils.getValue(item, this.optionsConfig.value);
                    if(value === "" && beanValue === 0){
                        continue;
                    }
                    if(beanValue == value){
                        return item;
                    }
                } else {
                    if(value === "" && item.value === 0){
                        continue;
                    }
                    if(item.value == value){
                        return item;
                    }
                }
            }
        }
    } else {//options yok
    	var selectedRefDataName = (this.config.refDataNames && this.config.refDataNames != "none") ? this.config.refDataNames : this.config.appRefData;
    	var data = this.config.relativeRefData ? CSRefDataManager.getData(selectedRefDataName, this.bf) : CSRefDataManager.getData(selectedRefDataName);
    	if(data){
    		var valueField = this.config.valueField || "value";
    		for ( var i = 0; i < data.length; i++) {
    			if(data[i][valueField] == value){
    				return data[i];
    			}
    		}
    	}
    }
}

BC.prototype.clearOptions = function(){
	/**
	 * @function clearOptions
     * @description Options'ı boş dizi yapar.
     */
	this.setOptions([]);
};

BC.prototype.setEmptyOption = function(flag){
	/**
	 * @function setEmptyOption
     * @description Combobox'ta hiçbir şey seçili olmadığında bir değer ayarlanıp ayarlanmayacağına karar verir.
     * @param [flag] true olursa combobox'ta hiçbir şey seçili değilken varsayılan değeri olacaktır.
     */
	if(flag === undefined){
		flag = true;
	}
	this.config.emptyOption = flag;
	this.reRender();
};

BC.prototype.setEmptyText = function(text, value){
	/**
	 * @function setEmptyText
     * @description Combobox'ta hiçbir şey seçili olmadığında ayarlanacak varsayılan değeri belirler.
     * @param [text] Ayarlanacak varsayılan değerin metni
     * @param [value] Ayarlanacak varsayılan değer
     */
	this.config.emptyText = text;
	if(value !== undefined){
		this.config.emptyValue = value;	
	}
	this.reRender();
};

/**
 * @function filter
 * @description Combo'daki seçenekleri filtreler. Örnek:
 * @example combo.filter("ilKodu", "06");//Sadece ilkodu değeri "06" olan seçenekler görüntülenir.
 *  combo.filter("ilKodu", ["06","07","08"]);//Sadece ilkodu değeri "06", "07" yada "08" olan seçenekler görüntülenir.
 *  combo.filter(["06"]);//Sadece ilkodu değeri "06" olan seçenekler görüntülenir. (İl Kodu alanı "Filter Field" özelliğinde verildiği varsayılmıştır)
 * @param [filterProp] filtrelemenin hangi alana göre yapılacağını belirler. Bu alan verilmediğinde "Filter Field" özelliğinde verilmiş olan kullanılır.<br/>
 * @param [filterValue] filtreleme kullanılacak değerleri belirleyen parametredir
 * @param [config] setNull true verildiğinde filtreleme işleminden sonra combonun değerini temizlemiyi sağlar.
 */
BC.prototype.filter = function(filterProp, filterValue, config) {
	var disableFilterInverseFilter = BCDefaults.get("CSC-COMBOBOX", "allowMultipleFilter", false);
	
	if(disableFilterInverseFilter){
		this.iprop = null;
		this.ivalue = null;
	}
	
	if((typeof config === "boolean" && config == true) || (config && config.setNull === true)){
		this.setValue(null);
	}
	if(filterValue === undefined){
		this.fprop = this.config.filterProp;
		filterValue = filterProp;
	} else {
		this.fprop = filterProp;
	}
	this.fvalue = filterValue;
	
	if(config && config.forcePrepareOptions){
		this.prepareOptions();
	}
	
	this.reRender();
};

BC.prototype.inverseFilter = function(filterProp, filterValue, setNull) {
	/**
	 * @function inverseFilter
	 * @description Combo'daki seçenekleri ters filtreler, yani paramtre ile verilen değerler dışındaki seçenekler gösterilir.
	 * @example combo.filter("ilKodu", "06");//ilkodu değeri "06" olmayan seçenekler görüntülenir.<br/>
	 *  combo.filter("ilKodu", ["06","07","08"]);//ilkodu değeri "06", "07" yada "08" olmayan seçenekler görüntülenir.<br/>
	 *  combo.filter(["06"]);//ilkodu değeri "06" olmayan seçenekler görüntülenir. ("ilkodu" alanı "Filter Field" özelliğinde verildiği varsayılmıştır)
	 * @param [filterProp] def="deneme" filtrelemenin hangi alana göre yapılacağını belirler. Bu alan verilmediğinde "Filter Field" özelliğinde verilmiş olan kullanılır.
	 * @param [filterValue] filtreleme kullanılacak değerleri belirleyen parametredir
	 * @param [setNull] true verildiğinde filtreleme işleminden sonra combonun değerini temizlemiyi sağlar. 
	 */
	
	var disableFilterInverseFilter = BCDefaults.get("CSC-COMBOBOX", "allowMultipleFilter", false);
	
	if(disableFilterInverseFilter){
		this.fprop = null;
		this.fvalue = null;
	}
	
	if(setNull === true){
		this.setValue(null);
	}
	if(filterValue === undefined){
		this.iprop = this.config.filterProp;
		filterValue = filterProp;
	} else {
		this.iprop = filterProp;
	}
	this.ivalue = filterValue;
	this.reRender();
};

BC.prototype.renderRequired = function(){
	if(!this.config.validation){
		return;
	}
	var $$dom = null;
	if(this.config.editable){
		$$dom = $$.byid(this.config.id+"-i");
	} else {
		$$dom = $$.byid(this.config.id);
	}
	if(!$$dom){
		return;
	}
	if(this.config.validation.req){
		$$.addClass($$dom, "csc-required");
	} else {
		$$.rmClass($$dom, "csc-required");
	}
};

BC.prototype.destroybc = function(onlybc){
	if(!onlybc){
		CSRefDataManager.unbindUpdate(this);
	}
}

BC.prototype.bindEvent = function(eventName, callback) {
	if (eventName == "selected") {
		if(this.config.editable){
			var domInput = byid(this.config.id+"-i");
			if (domInput) {
				return;//input onclik'te fire var
			}
			//readonly state
			var domSpan = byid(this.config.id+"-s");
			if (domSpan) {
				domSpan.onclick = callback;
				if(!inDesigner(this.bf) && domSpan.tagName == "SPAN" && !this.bf.isDisabled()){
					$$.addClass(domSpan, "csc-textbox-linked");
				}
			}
		} else {
			if(this.isParentReadonly() || this.bf.isReadonly()){
				var $$span = $$.byid(this.config.id+"-s");
				if($$span){
					$$span.onclick = callback;
					if(!inDesigner(this.bf) && !this.bf.isDisabled()){
						$$.addClass($$span, "csc-textbox-linked");
					}
				}
			} else {
				var $$dom = byid(this.config.id);
				if($$dom){
					$$dom.onclick = callback;
				}
			}
		}
	} else if (eventName == "keyup") {
		if(!this.config.editable){
			return;
		}
		this.onkeyup = callback;
	}
};
})(window);
/////=csc-range-slider.js=/////
(function(window, undefined) {
/**
 * 	@class CSC-RANGE-SLIDER
 * 	@author ADogan
 */
function Definition() {
	this.DEFAULTS = {};

	this.BaseBF = "BASIC";
	this.LABEL = "Range Slider";

	this.METHODS = ["getValue()", "setValue(value)", "setStart(value)", "setRange(min, max)", "setLimit(min, max)"];
	this.EVENTS = ["onchange", "onslide"];
	this.DEPENDENCIES = [ {
		name : "JQuery",
		version : "2.0.3"
	},{
		name : "nouislider",
		version : "7.0.10"
	} ];

	this.Type = function() {};
};

var def = new Definition();
def.Type.prototype = new BaseBC();
BCEngine.registerType("CSC-RANGE-SLIDER", def);

var BC = def.Type;

BC.prototype.setValue = function(value){
	this.config.value = value;
	if( !this.config.rangeType && ( (typeof value === "object") && (value.length === 2 || value.length === 1) ) || (typeof value === "number") ){
		$("#"+this.config.id).val(value);
	}else if(this.config.rangeType && ( ((typeof value === "object") && (value.length === 2 || value.length === 1)) || (typeof value === "string") ) ){
		if(typeof value === "string" && SIDEDateUtil.isValidDate(value, this.config.dateFormat)){
			value = SIDEDateUtil.getDateObjFromString(value, this.config.dateFormat).getTime();
			$("#"+this.config.id).val(value);
		}else if(SIDEDateUtil.isValidDate(value[0], this.config.dateFormat) && SIDEDateUtil.isValidDate(value[1], this.config.dateFormat)){
			value[0] = SIDEDateUtil.getDateObjFromString(value[0], this.config.dateFormat).getTime();
			value[1] = SIDEDateUtil.getDateObjFromString(value[1], this.config.dateFormat).getTime();
			$("#"+this.config.id).val(value);
		}
	}
}

BC.prototype.getValue = function(){
	// date olunca kayıyor.
	if(this.config.rangeType){
		if(typeof $("#"+this.config.id).val() !== "object"){
			var val = Math.ceil($("#"+this.config.id).val());
			var a = val % 100000;
			var val = val - a + 100000;
			
			return SIDEDateUtil.getFormattedDateByDate(new Date(val), this.config.dateFormat);
		}else{
			var values = $("#"+this.config.id).val();
			var val = Math.ceil( ($("#"+this.config.id).val())[0] );
			var a = val % 100000;
			values[0] = SIDEDateUtil.getFormattedDateByDate(new Date(val - a + 100000), this.config.dateFormat);
			
			val = Math.ceil( ($("#"+this.config.id).val())[1] );
			var a = val % 100000;
			values[1] = SIDEDateUtil.getFormattedDateByDate(new Date(val - a + 100000), this.config.dateFormat);
			
			return values;
		}
	}else{
		return $("#"+this.config.id).val();
	}
}

BC.prototype.setToLimit = function(){
	if(this.config.maxLimit || this.config.minLimit){
		var max = this.config.maxLimit;
		var min = this.config.minLimit;
		
		if(this.config.rangeType){
			if(!SIDEDateUtil.isValidDate(max, this.config.dateFormat) && !SIDEDateUtil.isValidDate(min, this.config.dateFormat)){ return; }
			if(max){ max = SIDEDateUtil.getDateObjFromString(max, this.config.dateFormat).getTime(); }
			if(min){ min = SIDEDateUtil.getDateObjFromString(min, this.config.dateFormat).getTime(); }
		}
		
		var value = $("#"+this.config.id).val();
		if(typeof value === "object"){
			if(parseInt(value[0]) > max){
				value[0] = max;
			}else if(parseInt(value[0]) < min){
				value[0] = min;
			}
			if(parseInt(value[1]) > max){
				value[1] = max;
			}else if(parseInt(value[1]) < min){
				value[1] = min;
			}
		}else{
			if(parseInt(value) > max){
				value = max;
			}else if(parseInt(value) < min){
				value = min;
			}
		}
		$("#"+this.config.id).val(value);
	}
}

BC.prototype.setLimit = function(min, max){
	
	/**
	 * @function setLimit
	  *	@description Range-Slider için limit değerlerini set eder. 
	  * @param [min] Minimum limit değerini tanımlar.
	  * @param [max] Maximum limit değerini tanımlar.
	  */
	
	this.config.maxLimit = max;
	this.config.minLimit = min;
}

BC.prototype.setStart = function(value){
	
	/**
	 * @function setStart
	  *	@description Range-Slider için başlangıç değeri set eder. 
	  * @param [value] value parametresi dizidir. Handle Number değeri Two ise iki, One ise bir elemana sahip olmalıdır.
	  */
	
	var newStart;
	if(this.config.handleNum && value.length === 2){
		if(this.config.rangeType && SIDEDateUtil.isValidDate(value[0], this.config.dateFormat) && SIDEDateUtil.isValidDate(value[1], this.config.dateFormat)){
			newStart = [ SIDEDateUtil.getDateObjFromString(value[0], this.config.dateFormat).getTime() , SIDEDateUtil.getDateObjFromString(value[1], this.config.dateFormat).getTime() ];
		}else {
			newStart = [ value[0] , value[1] ];
		}
	}else if(!this.config.handleNum && value.length === 1){
		if(this.config.rangeType){
			if( typeof value === "object" && SIDEDateUtil.isValidDate(value[0], this.config.dateFormat) ){
				newStart = [ SIDEDateUtil.getDateObjFromString(value[0], this.config.dateFormat).getTime() ];
			}else if(typeof value !== "object"){
				newStart = [ SIDEDateUtil.getDateObjFromString(value, this.config.dateFormat).getTime() ];
			}
		}else{
			if( typeof value === "object" ){
				newStart = value[0];
			}else if(typeof value !== "object"){
				newStart = value;
			}
		}
	}
	
	if(this.config.sliderParams){
		$("#"+this.config.id).noUiSlider({ start: newStart }, true);
	}else{
		this.config.sliderParams = {};
		this.config.sliderParams.start = newStart;
	}
}

BC.prototype.setRange = function(min, max){
	
	/**
	 * @function setRange
	  *	@description Range-Slider için genel aralık değerlerini set eder. 
	  * @param [min] Minimum range değerini tanımlar.
	  * @param [max] Maximum range değerini tanımlar.
	  */
	
	var newRanges;
	
	if(min != undefined && max != undefined){
		if(this.config.rangeType && SIDEDateUtil.isValidDate(min, this.config.dateFormat) && SIDEDateUtil.isValidDate(max, this.config.dateFormat)){
			newRanges = {
				'min' : SIDEDateUtil.getDateObjFromString(min, this.config.dateFormat).getTime(),
				'max' : SIDEDateUtil.getDateObjFromString(max, this.config.dateFormat).getTime()
			};
		}else{
			newRanges = {
				'min': parseInt(min),
				'max': parseInt(max)
			};
		}
	}
	
	if(this.config.sliderParams){
		$("#"+this.config.id).noUiSlider({ range: newRanges }, true);
	}else{
		this.config.sliderParams = {};
		this.config.sliderParams.range = newRanges;
	}
}

BC.prototype.render = function($container){
	var bc = this;
	
	var $$rangeSlider = $$.create("DIV", {id: this.config.id}, undefined, (this.config.visible ? undefined : {display: "none"}), $container);
	if(this.config.style && this.config.style.width){
		$$.css($$rangeSlider, "width", this.config.style.width);
	}
	
	if(this.config.cssClass){
		$$.addClass($$rangeSlider, this.config.cssClass);
	}
	
	if(this.config.disabled){
		$$.attr($$rangeSlider, "disabled", "disabled");
	}else if($$rangeSlider.hasAttribute("disabled")){
		$$rangeSlider.removeAttribute("disabled");
	}
	
	if(!this.config.sliderParams){ this.config.sliderParams = {}; }
	
	if(!this.config.sliderParams.start){
		if(this.config.rangeType){
			this.config.sliderParams.start = this.config.handleNum ? [ (new Date().getTime())+172800000 , (new Date().getTime())+403200000 ] : [ (new Date().getTime())+172800000 ];
		}else{
			this.config.sliderParams.start = this.config.handleNum ? [ 20 , 80 ] : [ 20 ];
		}
	}
	
	if(!this.config.sliderParams.range){
		if(this.config.rangeType){
			if(this.config.minRange && this.config.maxRange && SIDEDateUtil.isValidDate(this.config.minRange, this.config.dateFormat) && SIDEDateUtil.isValidDate(this.config.maxRange, this.config.dateFormat)){
				this.config.sliderParams.range = {
					'min' : SIDEDateUtil.getDateObjFromString(this.config.minRange, this.config.dateFormat).getTime(),
					'max' : SIDEDateUtil.getDateObjFromString(this.config.maxRange, this.config.dateFormat).getTime()
				};
			}else{
				this.config.sliderParams.range = {
					'min' : new Date().getTime(),
					'max' : (new Date().getTime())+864000000
				};
			}
		}else{
			this.config.sliderParams.range = {
				'min': this.config.minRange ? parseInt(this.config.minRange) : 0,
				'max': this.config.maxRange ? parseInt(this.config.maxRange) : 100
			};
		}
	}
	
	this.config.sliderParams.connect = this.config.handleNum ? this.config.connectHandles : 'lower';
	this.config.sliderParams.format = {
		to: function ( value ) {
			return value;
		},
		from: function ( value ) {
			return value;
		}
	};
	
	if(this.config.rangeType && !this.config.sliderParams.step){
		var step = 24*60*60*1000;
		this.config.sliderParams.step = step;
	}else if(!this.config.sliderParams.step){
		this.config.sliderParams.step = this.config.step ? parseInt(this.config.step) : 1;
	}
	
	$("#"+this.config.id).noUiSlider(this.config.sliderParams);
	
	this.setToLimit();
	
	$("#"+this.config.id).on({
		slide: function(){
			bc.bf.fire("onslide");
		},
		change: function(){
			bc.setToLimit();
			bc.bf.fire("onchange");
		}
	});
	
	if(this.config.value !== $("#"+this.config.id).val()){
		this.setValue(this.config.value);
	}
};

BC.prototype.bindEvent = function(eventName, callback) {};
})(window);
/////=csc-dt.js=/////
(function(window, undefined) {
/**
 * @class CSC-DT
 */
function Definition(CS) {
	this.DEFAULTS = {
		saveMeta: true,
		hovercell: true,
		multiselect: true,
		woverflow: null,//width overflow null, ellapsis yada hidden olabilir. null auto gibi davranır taşmalarda width'in genişlemesinis sağlar
//		fixHeight: true,//fixHeight tüm satırların sabir yükseklikte olmasını sağlar. Dikey taşmalarda davranış taşan kısmın gizlenmesidir
		style:{
			minHeight: 100
		}
	};

	this.BaseBF = "DYN-TABULAR";
	this.LABEL = "Dt"; 

	this.METHODS = [ "mask", "unmask", "selectAll(select)", "setOnContextMenuCallback(callback)", "showContextMenu", "setPageRowCount(rowCount)", "getPageRowCount", "setNoDataText(text)", "setExcelFileName(filename)", 
	                 "group(fieldName, collapse)", "getSortInfo()", "getColModelMeta()", "setColModelMeta(colModelMeta)", "showButton(buttonName, flag)", "cancelAdd", "cancelDelete", "hideActionBar(flag)","getColModelMeta",
	                 "getSearchInfo", "excelExport()", "reCalculateTotalRow", "addEmptyRow", "removeLastRow", "removeSelectedRows", "onExcelImport(callback)", "getTotal(sumProp)", "setExtraSearchParams(params)",
									 "setExcelExportPath(path)", "setExcelModule(moduleName)", "setExcelConfig(config)"];
	this.EVENTS = [ "selected", "onload","oninit", "rowClicked(row, isSelectedEvent, memberName)", "rowRightClicked(row, memberName)", "rowDoubleClicked(row, memberName)", "rowselected(row, select)", "onselectall(select)",
	                "onpaging(page)", "onsort()", "onnodeexpanded(rowid)", "onaddrow(addedRowId)", "ondeleterow(deletedRowId)", "ondeleterow-complated(deletedRowId)","ondeleteselectedrow(deletedRowIds)",
	                "ondeleteselectedrow-complated(deletedRowIds)", "oncolmodelmetachanged", "onDoRelayout", "pageRowCountChanged(rowCount)", "ondrop", "rowChanged(member, row)", "onbeforeexcelexport", "onbeforeexcelimport",
	                "onbefore-search", "onExcelImport-complated()"];
	this.DEPENDENCIES = [];

	this.Type = function() {};
};

var def = new Definition();
def.Type.prototype = new BaseBC();
var excelExportButtonClicked = false;

if( SideDefaults[SideModuleManager.getLocalModuleName()]["support-dt-for-grid"] == "true" ){
	BCEngine.registerType("CSC-GRID", def);
}
BCEngine.registerType("CSC-DT", def);

var BC = def.Type;
var DT_HOVER_WIDTH = 5;
var DT_EMPTY_CHAR = "&nbsp;";
var DT_RN_WIDTH = 25;
var DT_SEL_WIDTH = 35;
var DT_DEFAULT_MIN_WIDTH = 25;
var DT_DEFAULT_PAGE_ROW_COUNT = 10;
var DT_NO_DATA_TEXT;

BC.prototype.init = function(){
	var bc=this,bf=bc.bf;
	DT_NO_DATA_TEXT = SideMLManager.get("common.noRecord");
	bc.selecteds = [];
	bc.rowStyles = {};
	bc.pnumber = 1;
	
	bc.nrows = [];//new added rows
	bc.mrows = [];//modified (dirty) rows
	bc.rrows = [];//removed rows
	
	bc.filters = {};
	
	//--------
	var config = bc.config;
	config.style = config.style || {};
	
	if(config.saveMeta){
		var userMetaPath = this.getSavePath();
		var userMeta = localStorage.getItem(userMetaPath);
		if(userMeta){
			bc.userMeta = JSON.parse(userMeta);
		}
	}

	for(var mname in bf.members){
		var mconf = bf.members[mname].getConfig();
		if(bf.members[mname].getTypeName() == "CSC-TABLE-HEADER"){
			bc.hasTableHeader = true;
		}
		if(bf.members[mname].getTypeName() == "CSC-TABLE-ROW" && !mconf.isActionBar){
			bc.hasTableRow = true;
		}
	}
	
	var rowIndex = 0;
	for(var mname in bf.members){
		var member = bf.members[mname];
		var mconf = member.getConfig();
		
		if(member.getTypeName() == "CSC-TABLE-ROW"){
			if(mconf.isActionBar){//TODO mahmuty actionbar içinde member olduğu durum ele alınmalı mı? 
				this.tableRowAsActionBar = member;
			} else {
				if(rowIndex > 0){
					bc.rowsMetaData.push({});
				} else {
					bc.rowsMetaData = [{}];
				}
				var mcounter = 0;
				for(var innerMname in member.members){
					var innerMember = member.members[innerMname], mconf = innerMember.getConfig(), mconfLayout = mconf.layoutConfig || {};
					if(mcounter == 0 || mconfLayout.rowIdentifier){
						bc.rowsMetaData[rowIndex].identifier = innerMname;
						bc.rowsMetaData[rowIndex].member = member;
					}
					mcounter++;
				}
				rowIndex++;
			}
		}
	}
	
	bc.configChanged();
};

BC.prototype.configChanged = function(key){
	var bc=this, config = bc.config, style=config.style;
	config.selectall = config.selectall && config.multiselect;//multiselect yoksa seleck all olmamalı
	
	if(style.height || style.maxHeight || style.heightByRows){
		if(style.heightByRows){
			bc.rowHeight = parseInt(style.rowHeight) || bc.calcDefaultRowHeight();
			bc.bodyHeight = parseInt(style.heightByRows) * bc.rowHeight;
			config.fixHeight = true;
		}
		config.vscroll = true;
	}
	if(style.rowHeight){
		bc.rowHeight = parseInt(style.rowHeight);
		config.fixHeight = true;
	}
	if(style.minHeight){
		style.minHeight = parseInt(style.minHeight);
	}
	if((config.srchBtn || config.useColModelMeta) && !style.minHeight){
		style.minHeight = 100;
	}
	
	if(!style.heightByRows){
		bc.mheight = parseInt(style.height) || parseInt(style.maxHeight);
	}
	
	if(bc.hasTableRow){//table row varsa tree table olamaz
		config.treeColumn = null;
	}
	
	if(config.treeColumn){
		config.fixHeight = true;
		config.page = false;
		config.nodeStatus = config.nodeStatus || "expanded";
		bc.t_rendereds = [];//çizilen tree satırları
		bc.t_not_rendereds = [];//çizilmemiş (ağaç yapısına (atası-cocugu bozuk) uygun olmadığı ) tree satırları
	}
	config.pageNum = parseInt(config.pageNum) || 10;
	
	var leftCellCount = 0;
	if(config.hovercell){
		leftCellCount++;
	}
	if(config.rownumbers){
		leftCellCount++;
	}
	if(config.selectable){
		leftCellCount++;
	}
	if(config.treeColumn){
		leftCellCount++;
	}
	bc.leftCellCount = leftCellCount;
};

BC.prototype.getMemberMeta = function(mname){
	var bc=this,userMeta,rowMembers,i;
	for(i=0; i<bc.userMeta.length; i++){
		if(bc.userMeta[i].name == mname){
			userMeta = bc.userMeta[i];
			break;
		}
	}
	for(var i=0; i<this.metadata.rows.length ;i++){
		rowMembers = this.metadata.rows[i];
		for(var k=0; k<rowMembers.length ;k++){
			if(rowMembers[k].mname == mname){
				return {
					visible: rowMembers[k].visible,
					excel: userMeta.excel
				};
			}
		}
	}
};

BC.prototype.addMember = function(mname){
	var bc=this;
	bc.fullRerender = true;
	BFEngine.renderRequest(bc.bf);
};

BC.prototype.setOnContextMenuCallback = function(callback, options){
	this.contextMenuCallback = callback;
	this.contextMenuOptions = options;
};

BC.prototype.rightClickCallback = function(rowid, event) {
	var bc = this;
	if(bc.contextMenuCallback){
		var row = bc.bf.getRowByRowId(rowid);
		window.currentRow = row;
		bc.showContextMenu2(event, row, rowid);
	}
};

BC.prototype.showContextMenu2 = function(event, row, rowid) {
	event = event || window.event;
	var bc = this;
	//console.log("table context menu. rowid:", rowid);
	event.preventDefault();
	var menuItemsObj = this.contextMenuCallback(row, rowid);

	csdu.contextMenu({
		moduleName: bc.bf.getModuleName(),
		left: event.pageX, 
		top: event.pageY, 
		items:menuItemsObj,
		leftSide: (bc.contextMenuOptions && bc.contextMenuOptions.leftSide) ? true : false 
		
	}, rowid, event);
};

BC.prototype.showContextMenu = function() {
	var bc = this;
	var event = window.event;
	var rowid = currentRow.getRowId();
	var row = currentRow;
	//console.log("table context menu2. rowid:", rowid);
	event.preventDefault();
	var menuItemsObj = this.contextMenuCallback(row, rowid);
	csdu.contextMenu({
		moduleName: bc.bf.getModuleName(),
		left: event.pageX, 
		top: event.pageY, 
		items:menuItemsObj,
		leftSide: (bc.contextMenuOptions && bc.contextMenuOptions.leftSide) ? true : false
	}, rowid, event);
};

//row numbers ve zebra görünümü güncellenir (render ve delete'den sonra)
BC.prototype.updateRows = function($$lbody, $$rbody, start, end){
	var bc=this, bf=bc.bf, config = bc.config, meta = bc.metadata;
	if(!meta.rowNumbers && config.rowApp != "zebra"){
		return;
	}
	var odd=true;
	for(var i=start; i<end ;i++){
		var row = bf.tmembers[i];
		if(!row){
			continue;
		}
		row.i = i;
		var $$ltr = $$.getChildHasAttr($$lbody, "rowid", row.rowid);
		if($$ltr){
			if(meta.rowNumbers){
				var $$td = $$.getChildHasClass($$ltr, "dt-rn");
				var $$incell = $$.child("DIV");
				if($$incell){
					$$incell.innerHTML = (i+1);
				}
			}
			if(config.rowApp == "zebra"){
				var $$rtr = $$.getChildHasAttr($$rbody, "rowid", row.rowid);
				if(odd){
					$$.rmClass($$ltr, "dt-even-row");
					$$.rmClass($$rtr, "dt-even-row");
					$$.addClass($$ltr, "dt-odd-row");
					$$.addClass($$rtr, "dt-odd-row");
				} else {
					$$.rmClass($$ltr, "dt-odd-row");
					$$.rmClass($$rtr, "dt-odd-row");
					$$.addClass($$ltr, "dt-even-row");
					$$.addClass($$rtr, "dt-even-row");
				}
				odd = !odd;
			}
		}
	}
};


BC.prototype.renderRow = function(row, mname){
	var bc=this, bf=bc.bf, config=bc.config,rowid=row.rowid;
//Aşağıdaki kısım sort sırasında saçmaladığı için kapatıldı
//	if(config.page){//paging var mı?
//		var start = (this.pnumber-1)*(config.pageNum || DT_DEFAULT_PAGE_ROW_COUNT);
//		var end = (this.pnumber)*(config.pageNum || DT_DEFAULT_PAGE_ROW_COUNT);
//		if(row.i < start || row.i > end){//sayfanın dışında kalıyor çizme
//			return;
//		}
//	}
	var refRowIndex = 0;
	if(bc.hasTableRow){
		for(var i=0; i<bc.rowsMetaData.length ;i++){
			if(row.get(bc.rowsMetaData[i].identifier)){
				refRowIndex = i;
				break;
			}
		}
	}
	
	var $$lbody = this.$$lbody, $$rbody = this.$$rbody, meta = this.metadata, colCounter=0, index=row.i, $$tr, $$td, selected = this.isSelected(row.rowid), $$divInTd;
	if($$lbody){
		$$tr = $$.getChildHasAttr($$lbody, "rowid", rowid);
		if(!$$tr || !mname){//tr'yi yeniden çiz
			if(!$$tr){
				$$tr = $$.create("DIV", {rowid: rowid, tabindex:"850"}, ["brow", "r"+rowid], null, $$lbody);
				if(config.rowApp == "zebra"){
					$$.addClass($$tr, (index%2 == 0) ? "dt-odd-row":"dt-even-row");
				}
				if(config.fixHeight){
					$$.addClass($$tr, "rs");
				}
				if(row.clazz){
					$$.addClass($$tr, row.clazz);
				}
				$$tr.onmouseover = function(){
					bc.hover(this.getAttribute("rowid"), true);
				};
				$$tr.onmouseout = function(){
					bc.hover(this.getAttribute("rowid"), false);
				};
				$$tr.onkeyup = function(e){
					if(e.target == this &&(e.keyCode == 38 || e.keyCode == 40 || e.keyCode == 32)){//Aşağı yukarı ve space önemli bizim için
						var rowid = this.getAttribute("rowid");
						if(e.keyCode == 32 && bc.hrowid){//space
							bc.select(bc.hrowid, !bc.isSelected(bc.hrowid), false);
						} else if(e.keyCode == 40){//down
							bc.hover(null, true, "down");
						} else if(e.keyCode == 38){//up
							bc.hover(null, true, "up");
						}
					}
					return;
				};
			} else {
				$$tr.innerHTML = "";
			}
			if(meta.hover){
				$$td = $$.create("DIV", null, ["cell","c"+(colCounter++), "dt-hover"], null, $$tr);
				$$divInTd = $$.create("DIV", null, ["in-cell"], null, $$td);
			}
			if(meta.rowNumbers){
				$$td = $$.create("DIV", null, ["cell","c"+(colCounter++), "dt-rn"], null, $$tr);
				$$divInTd = $$.create("DIV", null, ["in-cell"], null, $$td);
				$$divInTd.innerHTML = (index+1);
			}
			if(meta.selectable){
				$$td = $$.create("DIV", null, ["cell","c"+(colCounter++),"dt-select-td"], null, $$tr);
				$$divInTd = $$.create("DIV", null, ["in-cell"], null, $$td);
				var $$checkbox = $$.create("INPUT", {type: "checkbox", checked: bc.isSelected(rowid)}, null, null, $$divInTd);
				if(config.disabled/* || config.readonly*/){
					$$checkbox.setAttribute("disabled", "true");
				}
				$$checkbox.onclick = function(e){
					var $$tr = this.parentNode.parentNode.parentNode;
					e.csselectFlag = true;
					bc.select($$tr.getAttribute("rowid"), $$checkbox.checked, false);
				};
			}
			if(meta.treeIndex >= 0){
				var colMeta = meta.rows[refRowIndex][meta.treeIndex];;
				$$td = $$.create("DIV", {mn: colMeta.mname}, ["cell","c"+(colCounter++),"tree-cell"], null, $$tr);
				$$divInTd = $$.create("DIV", null, ["in-cell"], null, $$td);
				if(colMeta.align){
					$$divInTd.style.textAlign = colMeta.align;
				}
				if(colMeta.valign){
					$$divInTd.style.verticalAlign = colMeta.valign;
				}
				var member = row.get(colMeta.mname);
				if(member){
					BFEngine.render(row.get(colMeta.mname), $$divInTd);
				}
			}
		} else {
			$$td = $$.getChildHasAttr($$tr, "mn", mname);
			if($$td){
				$$td.innerHTML = "";
				$$divInTd = $$.create("DIV", null, ["in-cell"], null, $$td);
				var member = row.get(colMeta.mname);
				if(member){
					BFEngine.render(row.get(colMeta.mname), $$divInTd);
				}
			}
		}
		var css = bc.rowStyles[rowid];
		if(css){
			var $$tds = $$.childs($$tr, "DIV"),c;
			for(c=0; c<$$tds.length ;c++){
				$$.css($$tds[c], css);
			}
		}
		if(selected){
			$$.addClass($$tr, "dt-selected");
		}
	}
	if(row.readonly === false){
		$$.addClass($$tr, "csc-dt-editable");
	} else {
		$$.rmClass($$tr, "csc-dt-editable");
	}
	$$tr = $$.getChildHasAttr($$rbody, "rowid", rowid);
	if(!$$tr || !mname){//tr'yi yeniden çiz
		if(!$$tr){
			$$tr = $$.create("DIV", {rowid: row.rowid, tabindex:"850"}, ["brow", "r"+rowid], null, $$rbody);
			if(config.rowApp == "zebra"){
				$$.addClass($$tr, (index%2 == 0) ? "dt-odd-row":"dt-even-row");
			}
			if(config.fixHeight){
				$$.addClass($$tr, "rs");
			}
			if(row.clazz){
				$$.addClass($$tr, row.clazz);
			}
			$$tr.onmouseover = function(){
				bc.hover(this.getAttribute("rowid"), true);
			};
			$$tr.onmouseout = function(){
				bc.hover(this.getAttribute("rowid"), false);
			};
			$$tr.onkeyup = function(e){
				if(e.target == this &&(e.keyCode == 38 || e.keyCode == 40 || e.keyCode == 32)){//Aşağı yukarı ve space önemli bizim için
					var rowid = this.getAttribute("rowid");
					if(e.keyCode == 32 && bc.hrowid){//space
						bc.select(bc.hrowid, !bc.isSelected(bc.hrowid), false);
					} else if(e.keyCode == 40){//down
						bc.hover(null, true, "down");
					} else if(e.keyCode == 38){//up
						bc.hover(null, true, "up");
					}
				}
				return;
			};
		} else {
			$$tr.innerHTML = "";
		}
		for(var k=0; k<meta.rows[refRowIndex].length ;k++){
			if(k==meta.treeIndex){
				continue;
			}
			var colMeta = meta.rows[refRowIndex][k];
			if(colMeta.visible === false){
				continue;
			}
			var member = row.get(colMeta.mname);
			if(member){//hidden, popup gibi bir alan olabilir
				// rowChanged aktif ise changeler bağlanacak.
				if(bf.events && bf.events.rowChanged){
					member.on("changed", bc, function(){
						bf.fire("rowChanged", member, row);
					});
				}
				
				var mconf = member.getConfig();
				$$td = $$.create("DIV", {mn: colMeta.mname}, ["cell","c"+(colCounter++)], null, $$tr);
				$$divInTd = $$.create("DIV", null, ["in-cell"], null, $$td);
				if(mconf.layoutConfig && mconf.layoutConfig.colSpan){
					$$.addClass($$td, "cs");
				}
				if(colMeta.align){
					$$divInTd.style.textAlign = colMeta.align;
				}
				if(colMeta.valign){
					$$divInTd.style.verticalAlign = colMeta.valign;
				}
				if(colMeta.overflow){
					$$td.style.overflow = colMeta.overflow;
				}
				BFEngine.render(row.get(colMeta.mname), $$divInTd);
//				console.log(row.i+"#"+mname+"#"+$$td.offsetHeight);
			}
		}
	} else {
		$$td = $$.getChildHasAttr($$tr, "mn", mname);
		if($$td){
			$$td.innerHTML = "";
			var member = row.get(colMeta.mname);
			if(member){//hidden, popup gibi bir alan olabilir
				$$divInTd = $$.create("DIV", null, ["in-cell"], null, $$td);
				BFEngine.render(row.get(colMeta.mname), $$divInTd);
			}
		}
	}
	if(row.readonly === false){
		$$.addClass($$tr, "csc-dt-editable");
	} else {
		$$.rmClass($$tr, "csc-dt-editable");
	}
	var css = bc.rowStyles[rowid];
	if(css){
		var $$tds = $$.childs($$tr, "DIV"),c;
		for(c=0; c<$$tds.length ;c++){
			$$.css($$tds[c], css);
		}
	}
	if(selected){
		$$.addClass($$tr, "dt-selected");
	}
//	console.log("row rendered: " + row.i);
};
BC.prototype.organizeTmembersForTree = function(){
//function x(){
	this.bf ={
		tmembers : [
		   {rowid:1,parentid:0,text:"1"},
		   {rowid:11,parentid:1,text:"1.1"},
		   {rowid:111,parentid:11,text:"1.1.1"},
		   {rowid:12,parentid:1,text:"1.2"},
		   {rowid:121,parentid:12,text:"1.2.1"},
		   {rowid:2,parentid:5,text:"2"},
		   {rowid:21,parentid:2,text:"2.1"},
		   {rowid:122,parentid:12,text:"1.2.2"},
		   {rowid:13,parentid:1,text:"1.3"},
		   {rowid:112,parentid:11,text:"1.1.2"},
		]
	};
	var bc=this,bf=bc.bf,tree = {}, parentIds=[0],tmembers=bf.tmembers.slice(0),i,j,rid,pid,found,notfounds=[],result=[];
	for(i=0; i<tmembers.length;i++){
		pid = tmembers[i].parentid;
		found=false;
		for(j=0; j<parentIds.length;j++){
			if(pid == parentIds[j]){
				rid = tmembers[i].rowid;
				tree[rid] = tmembers[i];
				if(tree[pid]){
					if(!tree[pid].children){
						tree[pid].children = [];
					}
					tree[pid].children.push(tmembers[i]);
				}
				parentIds.push(rid);
				found=true;
				break;
			}
		}
		if(!found){
			notfounds.push(tmembers[i]);
		}
		tmembers.splice(i,1);
		i--;
	}
	function getResult(childs, result){
		for(var i=0; childs && i<childs.length ;i++){
			result.push(childs[i]);
			getResult(childs[i].children, result);
		}
	}
	console.dir(tree);
	for(var item in tree){
		if(!tree[item].parentid || tree[item].parentid == -1){
			result.push(tree[item]);
			getResult(tree[item].children, result);
		}
	}
	getResult(tree,result);
	result = result.concat(notfounds);
	console.dir(result);
};
BC.prototype.rerenderTree = function(){
	//console.log("rrender tree");
	var bc=this, bf=bc.bf, config=bc.config, $$lbody = bc.$$lbody, $$rbody = bc.$$rbody, meta = bc.metadata;
	var defaultNodeStatus = config.nodeStatus == "collapsed" ? "c" :"e"; 
	for(var i=0; i<bc.rrows.length ;i++){
		//Silme işlemi yapılırken ağacın yapısı bozuluyor mu kontrol edilmez. Bu iş ekran geliştiriciye bırakılmıştır
		var row = bc.rrows[i];
		var removed=false;
		for(var k=0; k<bc.t_rendereds.length ;k++){
			if(row.rowid == bc.t_rendereds[k].rowid){
				 bc.t_rendereds.splice(k, 1);
				 $$.remove($$.getChildHasAttr($$lbody, "rowid", row.rowid));
				 $$.remove($$.getChildHasAttr($$rbody, "rowid", row.rowid));
				 removed = true;
				 break;
			}
		}
		for(k=0; !removed && k<bc.t_not_rendereds.length ;k++){
			if(bc.rrows[i].rowid == bc.t_not_rendereds[k].rowid){
				bc.t_not_rendereds.splice(k, 1);
				removed = true;
			}
		}
	}
	//Ekleme yapılırken ağacın yapısına uygun gelmeyen satırlar t_not_rendereds içinde tutulur.
	for(i=0; i<bc.t_not_rendereds.length ;i++){
		bc.nrows.unshift(bc.t_not_rendereds[i]);
	}
	
	for(var i=bc.nrows.length-1; i>=0 ;i--){
		var row = bc.nrows[i];
		if(!row.parentid){
			continue;
		}
		row.isleaf = true;
		found = false;
		for(var k=0; !found && i<bc.t_rendereds.length ;k++){
			var otherRow = bc.t_rendereds[k];
			if(row.parentid == otherRow.rowid){
				otherRow.isleaf = false;
				found = true;
			}
		}
		for(var k=0; !found && k<bc.nrows.length ;k++){
			var otherRow = bc.nrows[k];
			if(row.parentid == otherRow.rowid){
				if(i < k){
					bc.nrows.splice(k,1);
					bc.nrows.splice(i, 0, otherRow);
				}
				found = true;
			}
		}
		if(!found){
			bc.t_not_rendereds.push(row);//atası render edilmiş ve edileceklerde bulunamadı
		}
	}
	
	var $$ltr, $$rtr;
	for(var i=0; i<bc.nrows.length ;i++){
		var row = bc.nrows[i];
		var after = null, lastBrother=null,brotherIndex=0, parent=null, parentIndex;
		for(var k=0; row.parentid && k<bc.t_rendereds.length ;k++){
			var otherRow = bc.t_rendereds[k];
			if(row.parentid == otherRow.rowid){
				row.treeLevel = otherRow.treeLevel + 1;
				parent = otherRow;
				parentIndex = k;
			}
			if(!row.treeLevel || !otherRow.treeLevel){
				continue;
			}
			if(parentIndex && parentIndex != k && row.treeLevel > otherRow.treeLevel){
				break;
			}
			lastBrother = otherRow;
			brotherIndex = k;
		}
		if(!row.parentid){
			$$.create("DIV", {rowid: row.rowid, treelevel: "1", isleaf: row.isleaf?"l":defaultNodeStatus}, ["brow", "rs"], null, $$lbody);
			$$.create("DIV", {rowid: row.rowid, treelevel: "1", isleaf: row.isleaf?"l":defaultNodeStatus}, ["brow", "rs"], null, $$rbody);
			row.treeLevel = 1;
			bc.t_rendereds.push(row);
		} else {
			$$ltr = $$.create("DIV", {rowid: row.rowid, treelevel: row.treeLevel, isleaf: row.isleaf?"l":defaultNodeStatus}, ["brow", "rs"]);
			$$rtr = $$.create("DIV", {rowid: row.rowid, treelevel: row.treeLevel, isleaf: row.isleaf?"l":defaultNodeStatus}, ["brow", "rs"]);
			var $$lastBrother = $$.getChildHasAttr($$lbody, "rowid", lastBrother.rowid);
			if($$lastBrother.nextSibling){
				$$lastBrother.parentNode.insertBefore($$ltr, $$lastBrother.nextSibling);
				$$lastBrother = $$.getChildHasAttr($$rbody, "rowid", lastBrother.rowid);
				$$lastBrother.parentNode.insertBefore($$rtr, $$lastBrother.nextSibling);
			} else {
				$$lastBrother.parentNode.appendChild($$ltr);
				$$lastBrother = $$.getChildHasAttr($$rbody, "rowid", lastBrother.rowid);
				$$lastBrother.parentNode.appendChild($$rtr);
			}
			bc.t_rendereds.splice(brotherIndex+1, 0, row);
			var $$parent = $$.getChildHasAttr($$lbody, "rowid", row.parentid);
			$$parent.setAttribute("isleaf","e");
		}
		bc.renderRow(row);
	}
	
	if(bc.rrows.length){
		bc.updateRows($$lbody, $$rbody, start, end);
	}
	bc.nrows = [];
	bc.rrows = [];
	bc.renderFooter();
	bc.fixTable();
};


BC.prototype.rerenderTree_old = function(){
	//console.log("rrender tree");
	var bc=this, bf=bc.bf, config=bc.config, $$lbody = bc.$$lbody, $$rbody = bc.$$rbody, meta = bc.metadata;
	var defaultNodeStatus = config.nodeStatus == "collapsed" ? "c" :"e"; 
	for(var i=0; i<bc.rrows.length ;i++){
		//Silme işlemi yapılırken ağacın yapısı bozuluyor mu kontrol edilmez. Bu iş ekran geliştiriciye bırakılmıştır
		var row = bc.rrows[i];
		var removed=false;
		for(var k=0; k<bc.t_rendereds.length ;k++){
			if(row.rowid == bc.t_rendereds[k].rowid){
				 bc.t_rendereds.splice(k, 1);
				 $$.remove($$.getChildHasAttr($$lbody, "rowid", row.rowid));
				 $$.remove($$.getChildHasAttr($$rbody, "rowid", row.rowid));
				 removed = true;
				 break;
			}
		}
		for(k=0; !removed && k<bc.t_not_rendereds.length ;k++){
			if(bc.rrows[i].rowid == bc.t_not_rendereds[k].rowid){
				bc.t_not_rendereds.splice(k, 1);
				removed = true;
			}
		}
	}
	//Ekleme yapılırken ağacın yapısına uygun gelmeyen satırlar t_not_rendereds içinde tutulur.
	for(i=0; i<bc.t_not_rendereds.length ;i++){
		bc.nrows.unshift(bc.t_not_rendereds[i]);
	}
	
	for(var i=bc.nrows.length-1; i>=0 ;i--){
		var row = bc.nrows[i];
		if(!row.parentid){
			continue;
		}
		row.isleaf = true;
		found = false;
		for(var k=0; !found && i<bc.t_rendereds.length ;k++){
			var otherRow = bc.t_rendereds[k];
			if(row.parentid == otherRow.rowid){
				otherRow.isleaf = false;
				found = true;
			}
		}
		for(var k=0; !found && k<bc.nrows.length ;k++){
			var otherRow = bc.nrows[k];
			if(row.parentid == otherRow.rowid){
				if(i < k){
					bc.nrows.splice(k,1);
					bc.nrows.splice(i, 0, otherRow);
				}
				found = true;
			}
		}
		if(!found){
			bc.t_not_rendereds.push(row);//atası render edilmiş ve edileceklerde bulunamadı
		}
	}
	
	var $$ltr, $$rtr;
	for(var i=0; i<bc.nrows.length ;i++){
		var row = bc.nrows[i];
		var after = null, lastBrother=null,brotherIndex=0, parent=null, parentIndex;
		for(var k=0; row.parentid && k<bc.t_rendereds.length ;k++){
			var otherRow = bc.t_rendereds[k];
			if(row.parentid == otherRow.rowid){
				row.treeLevel = otherRow.treeLevel + 1;
				parent = otherRow;
				parentIndex = k;
			}
			if(!row.treeLevel || !otherRow.treeLevel){
				continue;
			}
			if(parentIndex && parentIndex != k && row.treeLevel > otherRow.treeLevel){
				break;
			}
			lastBrother = otherRow;
			brotherIndex = k;
		}
		if(!row.parentid){
			$$.create("DIV", {rowid: row.rowid, treelevel: "1", isleaf: row.isleaf?"l":defaultNodeStatus}, ["brow", "rs"], null, $$lbody);
			$$.create("DIV", {rowid: row.rowid, treelevel: "1", isleaf: row.isleaf?"l":defaultNodeStatus}, ["brow", "rs"], null, $$rbody);
			row.treeLevel = 1;
			bc.t_rendereds.push(row);
		} else {
			$$ltr = $$.create("DIV", {rowid: row.rowid, treelevel: row.treeLevel, isleaf: row.isleaf?"l":defaultNodeStatus}, ["brow", "rs"]);
			$$rtr = $$.create("DIV", {rowid: row.rowid, treelevel: row.treeLevel, isleaf: row.isleaf?"l":defaultNodeStatus}, ["brow", "rs"]);
			var $$lastBrother = $$.getChildHasAttr($$lbody, "rowid", lastBrother.rowid);
			if($$lastBrother.nextSibling){
				$$lastBrother.parentNode.insertBefore($$ltr, $$lastBrother.nextSibling);
				$$lastBrother = $$.getChildHasAttr($$rbody, "rowid", lastBrother.rowid);
				$$lastBrother.parentNode.insertBefore($$rtr, $$lastBrother.nextSibling);
			} else {
				$$lastBrother.parentNode.appendChild($$ltr);
				$$lastBrother = $$.getChildHasAttr($$rbody, "rowid", lastBrother.rowid);
				$$lastBrother.parentNode.appendChild($$rtr);
			}
			bc.t_rendereds.splice(brotherIndex+1, 0, row);
			var $$parent = $$.getChildHasAttr($$lbody, "rowid", row.parentid);
			$$parent.setAttribute("isleaf","e");
		}
		bc.renderRow(row);
	}
	
	if(bc.rrows.length){
		bc.updateRows($$lbody, $$rbody, start, end);
	}
	bc.nrows = [];
	bc.rrows = [];
	bc.renderFooter();
	bc.fixTable();
};

BC.prototype.rerenderTable = function(start, end){
	//console.log("rerenderTable");
	var bc=this, bf=bc.bf, config=bc.config, $$lbody = bc.$$lbody, $$rbody = bc.$$rbody, meta = bc.metadata, members = bf.fmembers || bf.tmembers,i,k;
	if(!$$rbody){
		bc.nrows = [];
		bc.rrows = [];
		bc.mrows = [];
		return;//hiç render edilmemiş zaten
	}
	if(bc.fullRerender){
		bc.fullRerender = null;
		bc.metadata = bc.prepareMetadata();
		bc.reRender();
		return;
	}
	if(!bc.hasTableRow && config.treeColumn){
		bc.rerenderTree();
		return;
	}
	var $$nodata = $$.byid(config.id+"-nodata");
	if(!$$nodata){
		return;
	}
	$$nodata.style.display = (members.length && bc.nodatatext) ? "": "block";
	if(!members.length && bc.nodatatext){
		if($$rbody){
			$$rbody.style.minHeight = "40px";
		}
		$$nodata.style.top = (bc.$$title ? bc.$$title.offsetHeight:0)+(bc.$$action ? bc.$$action.offsetHeight :0)+(bc.$$rhead ? bc.$$rhead.offsetHeight :0);
	}
	var $$tr, $$td;
	if(config.page && bc.pnumber > 1 && ((bc.pnumber-1) > Math.floor((members.length-1)/((config.pageNum || DT_DEFAULT_PAGE_ROW_COUNT))))){
		this.gotoPage(Math.floor((members.length-1)/((config.pageNum || DT_DEFAULT_PAGE_ROW_COUNT))) + 1);
		return;
	}
	if(end){//paging geçişi (full rerender)
		$$lbody && ($$lbody.innerHTML = "");
		$$rbody && ($$rbody.innerHTML = "");
		for(var i=start; i<end ;i++){
			var row = members[i];
			if(row){
				bc.renderRow(row);
			}
		}
	} else {
		if(!bc.end){
			start = config.page ? (bc.pnumber-1)*(config.pageNum || DT_DEFAULT_PAGE_ROW_COUNT) : 0;
			end = config.page ? (bc.pnumber)*(config.pageNum || DT_DEFAULT_PAGE_ROW_COUNT) : members.length;
		}
		//delete removed rows
		if(bc.rrows.length){
			for(i=0; i<bc.rrows.length ;i++){
				var row = bc.rrows[i];
				$$.remove($$.getChildHasAttr($$lbody, "rowid", row.rowid));
				$$.remove($$.getChildHasAttr($$rbody, "rowid", row.rowid));
				for(k=0; k<bc.nrows.length ;k++){
					if(bc.nrows[k].rowid == row.rowid){
						bc.nrows.splice(k, 1);
					}
				}
				for(k=0; k<bc.mrows.length ;k++){
					if(bc.mrows[k].rowid == row.rowid){
						bc.mrows.splice(k, 1);
					}
				}
			}
			for(var i=start; i<end ;i++){
				var row = members[i];
				if(!row){
					break;
				}
				$$tr = $$.getChildHasAttr($$rbody, "rowid", row.rowid);
				if(!$$tr){
					bc.renderRow(row);
					for(var k=0; k<bc.nrows.length ;k++){
						if(bc.nrows[k].rowid == row.rowid){
							bc.nrows.splice(k, 1);
							break;
						}
					}
				}
			}
			
		}
		//add new rows
		for(i=0; i<bc.nrows.length ;i++){
			var row = bc.nrows[i];
			if(row.i >= start && row.i<end){
				bc.renderRow(row);
			}
		}
		//reredner modified rows
		for(i=0; i<bc.mrows.length ;i++){
			var row = bc.mrows[i];
			if(row.i >= start && row.i<end){
				bc.renderRow(row);
			}
		}
	}
	if(bc.rrows.length){
		bc.updateRows($$lbody, $$rbody, start, end);
	}
	bc.nrows = [];
	bc.mrows = [];
	bc.rrows = [];
	bc.renderFooter();
	bc.fixTable();
};

BC.prototype.gotoPage = function(pnumber){
	var bc=this, bf=bc.bf, config=bc.config, start, end;
	if(!bf.$CS$.ds){//Editable ise save state işlemi
		start = config.page ? (bc.pnumber-1)*(config.pageNum || DT_DEFAULT_PAGE_ROW_COUNT) : 0;
		end = config.page ? (bc.pnumber)*(config.pageNum || DT_DEFAULT_PAGE_ROW_COUNT) : bf.tmembers.length;
		for(var i=0; i<bf.tmembers.length ;i++){
			var row = bf.tmembers[i];
			if(row && row.isEditable()){
				row.saveState();
			}
		}
	}
	
	this.saveScrollPosition();
	start = config.page ? (pnumber-1)*(config.pageNum || DT_DEFAULT_PAGE_ROW_COUNT) : 0;
	end = config.page ? (pnumber)*(config.pageNum || DT_DEFAULT_PAGE_ROW_COUNT) : bf.tmembers.length;
	bc.pnumber = pnumber;
	bc.rerenderTable(start, end);
	this.loadScrollPosition();
	// bc.bf.fire("onpaging", pnumber);
};

BC.prototype.beforeDRL = function(){
	var bc=this, config=this.config, $$table = $$.byid(config.id);
	if(config.style.width){
		return;
	}
	if(!$$table){
		return;
	}
	var childs = $$.childs($$table, "DIV");
	bc.oldWidth = $$table.offsetWidth;
	for(var i=0; i<childs.length ;i++){
		if(childs[i].className && childs[i].className.indexOf("hor-sc") >= 0 ){
			bc.scDisplay = childs[i].style.display;
		}
		childs[i].style.display = "none";
	}
	$$table.style.width = "";
};

BC.prototype.DRL = function(){
	var bc=this, bf=bc.bf, config=this.config, $$table = this.$$table, $$lbody = this.$$lbody, $$rbody = this.$$rbody, meta = this.metadata;
	var pwidth = bc.getParentWidth();
	if(config.style.width || !pwidth){
//		return; //atası dispaly none ise width verilse bile yanlış çiziyor (collapse-expand form içinde örneğin)
	}
	bc.pwidth = pwidth;
	//console.log("csc-dt dorelayout");
	if(!$$table){
		return;
	}
	
	if(!$$rbody){//tablo hiç çizilmemiş (render sırasında width belli olmadığı için) 
		if($$table){
//			$$.remove($$table);
//			BFEngine.renderRequest(this.bf);
//			this.render($$table.parentNode);
		}
//		return;
	}
	var childs = $$.childs($$table, "DIV");
	for(var i=0; i<childs.length ;i++){
		if(childs[i].className && childs[i].className.indexOf("hor-sc") >= 0 ){
			childs[i].style.display = bc.scDisplay;
		} else {
			childs[i].style.display = "";
		}
	}
	
	var newWidth = pwidth;
	if(bc.oldWidth != newWidth){
		//console.log("table w: " +bc.oldWidth + " parent inner w: " + newWidth);
		if($$table){
			$$table.style.width = newWidth+"px";
		}
//		this.prepareCSS($$table, newWidth);
//		this.fixTable();
	} else {
		if($$table){
			$$table.style.width = bc.oldWidth +"px";
		}
	}
	this.fixTable();
};

BC.prototype.calcDefaultRowHeight = function(){
	var bc=this, config = bc.config, result;
	var $$cont = $$.create("DIV", {id: config.id+"-temp-cont"}, [CSSession.get("SIDE-THEME")], {visibility: "hidden", position: "absolute", left: "0px", top:"-10000px"}, $$.body());
	var $$table = $$.create("DIV", {id: config.id+"-temp"}, ["csc-dt", config.cssClass], null, $$cont);
	var $$rbody = $$.create("DIV", {id: config.id+"-rbody"}, ["csc-dt-rbody"],null,$$table);
	var $$tr = $$.create("DIV", {rowid: "0", tabindex:"850"}, ["brow", "r0"], null, $$rbody);
	var $$td = $$.create("DIV", null, ["cell","c0"], {width: "500px"}, $$tr);
	var $$cell = $$.create("DIV", null, ["in-cell","c0"], {width: "400px"}, $$td);
	$$cell.innerHTML = "<span class='csc-rospan'>TestData</span>";
	result = $$cell.offsetHeight;
	$$.remove($$cont);
	return result;
};

BC.prototype.bindBodyEvents = function($$body){
	var bc=this, bf=bc.bf, config=bc.config;
	function findRow(e, that){
		var target = e.target, cell;
		while(target && target != that){
			if(target.className.indexOf("cell") >= 0){
				cell = target.getAttribute("mn");
			}
			if(target.className && target.className.indexOf("brow") >= 0){
				return {r: target.getAttribute("rowid"), c: cell};
			}
			target = target.parentNode;
		}
	}
	$$body.onclick = function(e){
		var row = findRow(e, this);
		if(row){
			SIDENavigator.setEvent(e);
			if(config.selectOnClick && !e.csselectFlag && !config.disabled && !bc.bf.isDisabled()){
				bc.select(row.r, !bc.isSelected(row.r), false);
			}
			bf.fire("rowClicked", bf.getRowByRowId(row.r), e.csselectFlag || false, row.c);
		}
	};
	$$body.oncontextmenu = function(e){
		var row = findRow(e, this);
		if(row){
			SIDENavigator.setEvent(e);
			bf.fire("rowRightClicked", bf.getRowByRowId(row.r), row.c);
			bc.rightClickCallback(row.r, e);
		}
	};
	
	$$body.ondblclick = function(e){
		var row = findRow(e, this);
		if(row){
			e.preventDefault();
			SIDENavigator.setEvent(e);
			bf.fire("rowDoubleClicked", bf.getRowByRowId(row.r), row.c);
		}
	};
};

BC.prototype.clearFilter = function(){
	var bc=this;
	bc.filters = [];
	var $$div = $$.byid(bc.config.id+ "-filter-div");
	if($$div){
		$$div.parentNode.style.width = "";
		$$.remove($$div);
	}
};

BC.prototype.clear = function(clearDataSource) {
	var bc=this, bf=bc.bf;
	bc.rowStyles = {};
	this.clearSelectAll();
//    this.clearFilter();
	bc.selecteds = [];
	bc.pnumber = 1;
	bc.$$lbody && (bc.$$lbody.innerHTML = "");
	bc.$$rbody && (bc.$$rbody.innerHTML = "");
	
	if(clearDataSource !== false){
		bf.$CS$.ds = null;
	}
//	if(bc.totalRow && ((SIDEUtil.isEmpty(bc.totalRow.members) && bc.totalRow.isVisible()) || (!SIDEUtil.isEmpty(bc.totalRow.members) && bc.totalRow.hasVisibleItem() && bc.totalRow.isVisible()))){
//		bc.addTotalRow();
//	}
	bc.renderFooter();
};

BC.prototype.getParentWidth = function($$container){
	var pwidth = 0, bc=this, bf=bc.bf, config=bc.config, parent = bf.getParent();
	if(config.style && config.style.width && config.style.width != "auto" && config.style.width.indexOf("%") < 0){
		return config.style.width;
	}
	if(parent && parent.bcRef.typeName == "CSC-HORIZONTAL"){
		pwidth = $$.innerWidth(parent.getConfig().id);
	} else if(parent && parent.bcRef.typeName == "CSC-VERTICAL"){
		pwidth = $$.innerWidth(parent.bcRef.getChildContainer(bf.$CS$.name));
	} else if(!pwidth) {
		if(!$$container && bc.$$table){
			$$container = bc.$$table.parentNode;
		}
		if($$container){
			pwidth = $$.innerWidth($$container);
		}
		if(!pwidth && parent){
			pwidth = $$.innerWidth(parent.getConfig().id);
		}
	}
	return pwidth;
};

BC.prototype.addRowOnEnter = function($$table){
	var bc=this, bf=bc.bf;
	if(bc.config.newRowOnEnter){
		$$table.setAttribute("tabindex", 100);
		$$table.onkeypress = function(e){
			if (e.which == 13){
				var target = e.target;
				while(target && !$$.hasClass(target, "brow")){
					target = target.parentNode;
				}
				if(target){
					var rowid = target.getAttribute("rowid");
					if(rowid){
						var index = bf.getIndexFromRowId(rowid)+1;
						BFEngine.a();
						try {
							bf.add({}, {readonly:false, position: index});
							var row = bf.getRow(index);
							for(var mname in row.members){
								if(!row.members[mname].isReadonly()){
									row.members[mname].focus();
									break;
								}
							}
						} finally {
							BFEngine.r();
						}
						bc.cadd = false;
						bc.addedRowid = row.rowid;
						bf.fire("onaddrow", row.rowid);
						if(bc.cadd){
							bc.cadd = undefined;
							return;
						}
						var page = Math.ceil(bf.length() / bf.getPageRowCount());
						if(page != bf.getCurrentPage()){
							bf.gotoPage(page||1);
						}
					}
				};
			}
		}
	}
};

BC.prototype.render = function($$container){
	//console.log("dt render");
	var bc=this, bf=bc.bf,meta = bc.metadata;
	var config = bc.config, parent = bf.getParent();
	
//	if(!meta){  //elemanlardan birinin visibility'si değişti ise güncellenmiyordu o yüzden commente aldım mahmuty
		meta = bc.prepareMetadata();
//	}
	
	bc.initCInfo();
	
	var $$table, $$title, $$action, $$lhead, $$rhead, $$lbody, $$rbody, $$hscroll, $$vscroll, $$footer, $$totalRow, $$totalRowInner, $$totalRowContainer, $$nodata, $$nodataSpan; 
	bc.$$table = $$table = $$.create("DIV", {id: config.id}, ["csc-dt", config.cssClass], null, $$container);
	bc.$$table.setAttribute("rel",this.bf.$CS$.name);
	var pwidth = bc.getParentWidth();
//	if(!pwidth || !$($$container).is(":visible")){
//		bc.$$rbody = null;//diğerleri için de yapılması gerekebilir ilginç bir durum
//		return;//yer yok boşuna çizme, gerekirse dorelayout'ta tekrar çizilir TODO mahmuty bir işaret koyulmalı
//	}

	bc.addRowOnEnter($$table);

	if(config.style.height && !config.style.heightByRows){
		$$table.style.height = config.style.height +"px";
	}
	this.pwidth = pwidth;
	if(pwidth != parseInt(pwidth)){//pwidth %, px, em, yada auto verilmiş olabilir
		$$table.style.width = pwidth;
	} else {
		$$table.style.width = pwidth+"px";
	}
	//scroll width bir kez hesaplanıyor ve ver ve hor scroll width'lerinin aynı olduğu varsayılıyor
	if(!bc.scwidth || bc.scwidth < 5){//display none iken scwidth 1,2 gibi birşey hesaplanıyor ie9'dan dolayı
		bc.scwidth = $$.getScrollBarWidth($$table);
	}
	if(config.vscroll){
		$$.create("DIV", {id: config.id+"-ver-sc-ground"}, ["ver-sc-ground"], {width: this.scwidth}, $$table);//vertical scroll ground
	}
	
	if(config.noTitle !== true && config.title){
		bc.$$title = $$title = $$.create("DIV", {id: config.id+"-title"}, ["csc-dt-title"], null, $$table);
		$$title.innerHTML = config.title;
	}
	if((!config.utilButtonsBottom && (config.showActionButtons || this.config.useColModelMeta || this.tableRowAsActionBar)) || (config.addBtn || config.delBtn || config.rmBtn)){
		bc.$$action = $$action = $$.create("DIV", {id: config.id+"-action"}, ["csc-dt-action-bar"], null, $$table);
		bc.renderActionBar($$action);
	}
	
	if(config.noHeader !== true){
		if(meta.hover || meta.rowNumbers || meta.selectable || meta.treeColumn){
			bc.$$lhead = $$lhead = $$.create("DIV", {id: config.id+"-lhead"}, ["csc-dt-lhead"], null, $$table);
		}
		bc.$$rhead = $$rhead = $$.create("DIV", {id: config.id+"-rhead"}, ["csc-dt-rhead"], null, $$table);
		bc.renderHeaders($$table, $$lhead, $$rhead);
	}
	
	if(!bc.bf.members.length){
		bc.setNodata();
	}
	
	//Nodata div
	bc.$$nodata = $$nodata = $$.create("DIV", {id: config.id+"-nodata"}, "csc-dt-nodata", null, $$table);
	$$nodataSpan = $$.create("SPAN", null, null, null, $$nodata);
	$$nodataSpan.innerHTML = bc.nodatatext;
	$$nodata.appendChild($$nodataSpan);
	
	if(bc.leftCellCount){
		$$.create("DIV", null, ["csc-dt-clear"], null, $$table);
		bc.$$lbody = $$lbody = $$.create("DIV", {id: config.id+"-lbody"}, ["csc-dt-lbody"], null, $$table);
		bc.bindBodyEvents($$lbody);
	}
	//render headers
	bc.$$rbody = $$rbody = $$.create("DIV", {id: config.id+"-rbody"}, ["csc-dt-rbody"]);
	bc.bindBodyEvents($$rbody);
	if(config.vscroll){
		bc.$$vscroll = $$vscroll = $$.create("DIV", {id: config.id+"-ver-sc"}, ["ver-sc"], null, $$table);
	}
	$$table.appendChild($$rbody);
	
	if(this.totalRow && ((SIDEUtil.isEmpty(this.totalRow.members) && this.totalRow.isVisible()) || (!SIDEUtil.isEmpty(this.totalRow.members) && this.totalRow.hasVisibleItem() && this.totalRow.isVisible()))){
		var totalRowConfig = this.totalRow.getConfig();
		this.$$totalRowContainer = $$totalRowContainer = $$.create("DIV", {id:totalRowConfig.id+"totalRow-contianer"}, [this.totalRow.getConfig().cssClass], {borderTop:"1px solid #ddd", borderBottom:"1px solid #ddd", position: "relative", top: "-1px"}, $$table);
		this.$$totalRow = $$totalRow = $$.create("DIV", {id:totalRowConfig.id+"totalRow"}, [], {overflow:"hidden", borderLeft:"1px solid #ddd"}, $$totalRowContainer);
		this.$$totalRowInner = $$totalRowInner = $$.create("DIV", {id:totalRowConfig.id+"-totalRow-inner"}, ["brow"], {display: "block"}, $$totalRow);
	}
	
	$$.create("DIV", null, ["csc-dt-clear"], null, $$table);
	
	bc.$$hscroll = $$hscroll = $$.create("DIV", {id: config.id+"-hor-sc"}, ["hor-sc"], {height: bc.scwidth}, $$table);
	bc.$$hscrollInner = $$.create("DIV", {id: config.id+"-hor-sc-inner"}, ["hor-sc-inner"], null, $$hscroll);
	
	if(config.noFooter !== true){
		this.$$footer = $$footer = $$.create("DIV", {id: config.id+"-footer"}, ["csc-dt-footer"], null, $$table);
		$$footer.innerHTML = SideMLManager.get(bc, "bottomPart");
		this.renderFooter();
	}
	
	if(config.vscroll){
		var top = ($$title ? $$title.offsetHeight : 0) +  ($$action ? $$action.offsetHeight : 0);
		var $$vscrollInner = $$.create("DIV", {id: config.id+"-ver-sc-inner"}, ["ver-sc-inner"], {height: $$rbody.scrollHeight}, $$vscroll);
		$$vscroll.style.top = top+"px";
		$$vscroll.onscroll = function(){
			if($$lbody){
				$$lbody.scrollTop = $$vscroll.scrollTop;
			}
			if($$rbody){
				$$rbody.scrollTop = $$vscroll.scrollTop;
			}
		};
	}
	
	if (inDesigner(bf) && !bf.tmembers.length) {
//		bf.clear();
		if(bc.rowsMetaData){
			for(var i=0; i<bc.rowsMetaData.length ;i++){
				var obj = {};
				obj[bc.rowsMetaData[i].identifier] = "";
				bf.add(obj);
			}
		} else {
			bf.add({});
		}
	}
	
//	this.fixTable();
	bc.gotoPage(bc.pnumber);
};

BC.prototype.reCalculateTotalRow = function(){
	this.renderTotalRow();
};

BC.prototype.getTotal = function(sumProp){
	var sum = new BigDecimal("0");
	if(sumProp){
		for(var i=0; i<this.bf.length(); i++){
			var value = this.bf.getValue(i, sumProp) || "0";
			if(typeof value != "string"){
				value = value + "";
			}
			value = value.replace(/,/g,"");
			value = new BigDecimal(value);
			sum = sum.add(value);
		}
	}
	
	return sum;
};

BC.prototype.renderTotalRow = function(){
	if(this.$$totalRowContainer){
		if(!this.bf.tmembers.length){
			this.$$totalRowContainer.style.display = "none";
		} else {
			this.$$totalRowContainer.style.display = "";
		}
	}
	if(this.$$totalRowInner){
		var meta = this.metadata;
		var k=0;
		var colCounter = this.config.hovercell ? 1 : 0;
		var cellLeft = 0;
		var maxHeight = 0;
		var totalRowConfig = this.totalRow.getConfig();
		var label = totalRowConfig.label;
		if(label === undefined){
			label = "Toplam: ";
		}
		
		var hasCell = false;
		for(var memberName in this.totalRow.members){
			hasCell = true;
			break;
		}
		
		if(this.config.selectable && this.config.rownumbers){
			colCounter += 2;
		}else if(this.config.selectable || this.config.rownumbers){
			colCounter++;
		}
		
		this.$$totalRowInner.innerHTML = "";
		if(!hasCell){
			var sum = new BigDecimal("0"), sumProp = totalRowConfig.sumProp;
			if(!totalRowConfig.sumFromDS && sumProp){
				for(var i=0; i<this.bf.length(); i++){
					var value = this.bf.getValue(i, sumProp) || "0";
					if(typeof value != "string"){
						value = value + "";
					}
					value = value.replace(/,/g,"");
					value = new BigDecimal(value);
					sum = sum.add(value);
				}
			}else if(totalRowConfig.sumFromDS){
				if(this.bf.$CS$ && this.bf.$CS$.ds && this.bf.$CS$.ds.sum){
					sum = new BigDecimal(this.bf.$CS$.ds.sum.toString());
				}
			}
			var $$td = $$.create("DIV", {}, "cell", {borderTop:"none", width: "100%"}, this.$$totalRowInner);
			var $$incell = $$.create("DIV", {}, "in-cell", {borderTop:"none", borderLeft:"none", width: "100%"}, $$td);
			var $$span = $$.create("span", undefined, "csc-rospan", undefined, $$incell);
			$$span.innerHTML = label + this.formatTotal(sum);
		}else{
			for(row in this.totalRow.members){
				var memConfig = this.totalRow.members[row].getConfig();
				if(!memConfig.visible){
					continue;
				}
				var align = (memConfig.layoutConfig && memConfig.layoutConfig.cellAlign) ? memConfig.layoutConfig.cellAlign : undefined;
				if(k<meta.rows[meta.refRowIndex].length){
					var colMeta = meta.rows[meta.refRowIndex][k];
					if(colMeta.visible === false || k==meta.treeIndex){
						k++;
						continue;
					}
					var member = this.totalRow.members[row];
					if(member){//hidden, popup gibi bir alan olabilir
						var colspan = 0;
						if(member.bcRef.config && member.bcRef.config.layoutConfig && member.bcRef.config.layoutConfig.colSpan){
							colspan = parseInt(member.bcRef.config.layoutConfig.colSpan);
						}
						
						if(colspan > 1){
							var colspanWidth = 0;
							for(var i=0; i<colspan; i++){
								colspanWidth += $$.outerWidth(document.querySelector("#"+this.config.id+" .c"+(colCounter++)));
							}
							$$td = $$.create("DIV", {mn: colMeta.mname}, ["cell", "c"+(colCounter-colspan+1)], {borderTop:"none", left: cellLeft+"px", minWidth: colspanWidth+"px", maxWidth: colspanWidth+"px"}, this.$$totalRowInner);
						}else{
							$$td = $$.create("DIV", {mn: colMeta.mname}, ["cell", "c"+(colCounter++)], {borderTop:"none", left: cellLeft+"px"}, this.$$totalRowInner);
						}
						cellLeft += $$.outerWidth($$td);
						
						if(align){
							$$td.style.textAlign = align;
						}
						if(colMeta.overflow){
							$$td.style.overflow = colMeta.overflow;
						}
						var $$incell = $$.create("DIV", null, ["in-cell"],null, $$td);
						BFEngine.render(member, $$incell);
						if(member.bcRef && member.bcRef.typeName == "CSC-TABLE-TOTAL-CELL"){
							var sum = new BigDecimal("0"), sumProp = (memConfig || totalRowConfig).sumProp;
							if(!memConfig.sumFromDS && sumProp){
								for(var i=0; i<this.bf.length(); i++){
									var value = this.bf.getValue(i, sumProp) || "0";
									if(typeof value != "string"){
										value = value + "";
									}
									value = value.replace(/,/g,"");
									value = new BigDecimal(value);
									sum = sum.add(value);
								}
							}else if(memConfig.sumFromDS && memConfig.sumPropInDS){
								if(this.bf.$CS$ && this.bf.$CS$.ds && this.bf.$CS$.ds[memConfig.sumPropInDS]){
									sum = new BigDecimal(this.bf.$CS$.ds[memConfig.sumPropInDS].toString());
								}
							}
							if(sumProp || (memConfig.sumFromDS && memConfig.sumPropInDS) || !memConfig.value){
								member.setValue(sum);
							}
						}
						
						var height = $$.height(this.$$rbody.childNodes[0]);
						if(height > maxHeight){
							maxHeight = height;
						}
					}
				}
				k++;
			}
		}
		
		if(maxHeight === 0){
			var h = ($$.height(this.$$rbody.childNodes[0]) <5 ? $$.height(this.$$rhead) : $$.height(this.$$rbody.childNodes[0]) )-1;
			$$.css(this.$$totalRowInner, "height", h+"px" );
		}else{
			$$.css(this.$$totalRowInner, "height", maxHeight);
			for(var i=0; i<this.$$totalRowInner.childNodes.length; i++){
				$$.css(this.$$totalRowInner.childNodes[i], "height", maxHeight);
			}
		}
	}
};

BC.prototype.getSearchInfo = function(){
	var bc=this;
	return {
		service: bc.config.searchService,
		params: bc.searchParams
	};
};

BC.prototype.getCellMeta = function(mname){
	var bc=this,meta=bc.metadata,i,k,row;
	for(i=0; i<meta.rows.length ;i++){
		row = meta.rows[i];
		for(k=0; k<row.length; k++){
			if(row[k].mname == mname){
				return row[k];
			}
		}
	}
};

BC.prototype.addEmptyRow = function(){
	if(inDesigner(this.bf)){ return; }
	
	var lastRow = this.bf.getRow(this.bf.length()-1);
	if(lastRow && lastRow.isEmpty(true)){
		return;//zaten boş bir satır varsa ekleme
	}
	BFEngine.a();
	try{
		this.bf.add({}, {readonly: false});
		this.cadd = false;
		this.bf.fire("onaddrow", this.bf.getRow(this.bf.length()-1).rowid);
		if(this.cadd){
			this.cadd = undefined;
			return;
		}
		var page = Math.ceil(this.bf.length() / this.bf.getPageRowCount());
		if(page != this.bf.getCurrentPage()){
			this.bf.gotoPage(page||1);
		}
	}finally{
		BFEngine.r();
		this.reRender();
	}
};

BC.prototype.removeSelectedRows = function(){
	if(inDesigner(this.bf)){ return; }
	
	var rows = this.bf.getSelectedRows();
	if(!rows.length){
		CSPopupUTILS.MessageBox(SideMLManager.get("common.selectRowsToDelete"));
		return
	}
	
	var deletedRows = this.bf.getSelectedRows();
	var deletedRowIds = [];
	for(var i=0;i<deletedRows.length; i++){
		deletedRowIds.push(deletedRows[i].rowid);
	}

	this.cdel = null;
	this.bf.fire("ondeleteselectedrow", deletedRowIds);
	if(this.cdel){//cancel delete?
		this.cdel=null;
		return;
	}
	try{
		this.bf.deleteSelectedRows();
		var lastPage = Math.ceil(this.bf.length() / this.bf.getPageRowCount());
		if(lastPage != this.bf.getCurrentPage()){
			this.bf.gotoPage(lastPage||1);
		}
		this.bf.fire("ondeleteselectedrow-complated", deletedRowIds);
	}finally{
		this.reRender();
	}
};

BC.prototype.removeLastRow = function(){
	if(inDesigner(this.bf)){ return; }
	
	var tableSize = this.bf.length();
	
	if(tableSize>0 /*&& !tablebf.getRow(tableSize-1).readonly*/){
		var deletedRowId = this.bf.getRow(tableSize-1).rowid;
		this.cdel = null;
		this.bf.fire("ondeleterow", deletedRowId);
		if(this.cdel){//cancel delete?
			this.cdel=null;
			return;
		}
		try{
			this.bf.deleteRow(deletedRowId);
			
			var lastPage = Math.ceil(this.bf.length() / this.bf.getPageRowCount());
			if(lastPage != this.bf.getCurrentPage()){
				this.bf.gotoPage(lastPage || 1);
			}
			this.bf.fire("ondeleterow-complated", deletedRowId);
		}finally{
			this.reRender();
		}
	}
};

BC.prototype.renderMetaWindow = function($$btn){
	var bc=this,bf=bc.bf,config=bc.config;
	$$.remove(config.id+"-metaContainer");
	var opened = $$btn.getAttribute("opened");
	if(opened){
		$$.rmAttr($$btn,"opened");
		return;
	} else {
		$$btn.setAttribute("opened","yes");
		$$.rmAttr(config.id+"-search","opened");
	}
	$$.css($$.byid(config.id+"-searchContainer"), "display", "none");
	if(!inDesigner(bc.bf)){
		var top = (bc.$$title ? bc.$$title.offsetHeight:0)+(bc.$$action ? bc.$$action.offsetHeight :0)/* + 10*/;
		var $$metaDiv = $$.create("DIV", {id: bc.config.id+"-metaContainer"}, "csc-dt-meta-cont", {top: top+"px"/*, height: (bc.$$table.offsetHeight - ((bc.$$footer ? bc.$$footer.offsetHeight:0)+top))+"px"*/}, bc.$$table);
		var $$htable = $$.create("TABLE", null, null, {width: "100%"}, $$metaDiv);
		var $$contentDiv = $$.create("DIV", null, "csc-dt-meta-content", null, $$metaDiv);
		var $$ctable = $$.create("TABLE", null, null, {width: "100%"}, $$contentDiv);
		var $$buttonsDiv = $$.create("DIV", null, "csc-dt-meta-btns", {width: "100%"}, $$metaDiv);
		
		var oldTitles = [], $$tr, $$td, $$tumunuCheck;
		
		$$tr = $$.create("TR", undefined, undefined, {textAlign: "center", fontWeight: "bold"});
		$$htable.appendChild($$tr);
		
		$$td = $$.create("TD");
		$$td.innerHTML = "<span>" + SideMLManager.get("common.colHeader") + "</span>";
		$$tr.appendChild($$td);
		
		if(config.editColVisibility){
			$$td = $$.create("TD");
			$$td.innerHTML = "<span>" + SideMLManager.get(bc, "show") +"</span>";
			$$tumunuCheck = $$.create("INPUT", {type:"checkbox"},null,null,$$td);
			$$tumunuCheck.onclick = function(){
				var $$tr, $$td,i,k,$$check;
				for(i=0; i<$$ctable.children.length; i++){
					$$tr = $$ctable.children[i];
					for(k=0; k<$$tr.children.length; k++){
						$$td = $$tr.children[k];
						if($$td.getAttribute("rel") == "vis"){
							$$check = $$.child($$td, "INPUT");
							if($$check){
								$$check.checked = this.checked;
								break;
							}
						}
					}
				}
			};
			$$tr.appendChild($$td);
		}
		if(config.editExcel){
			$$td = $$.create("TD");
			$$td.innerHTML = "<span>" + SideMLManager.get(bc, "existInExcel") + "</span>";
			$$tumunuCheck = $$.create("INPUT", {type:"checkbox"},null,null,$$td);
			$$tumunuCheck.onclick = function(){
				var $$tr, $$td,i,k,$$check;
				for(i=0; i<$$ctable.children.length; i++){
					$$tr = $$ctable.children[i];
					for(k=0; k<$$tr.children.length; k++){
						$$td = $$tr.children[k];
						if($$td.getAttribute("rel") == "excel"){
							$$check = $$.child($$td, "INPUT");
							if($$check){
								$$check.checked = this.checked;
								break;
							}
						}
					}
				}
			};
			$$tr.appendChild($$td);
		}
		
		function drawMetaTable(parent){
			if(parent.bcRef.typeName && (parent.bcRef.typeName === "CSC-BUTTON" || parent.bcRef.typeName === "CSC-HIDDEN")){
				return;
			}
			var memberConfig = parent.getConfig();
			if(memberConfig.layoutConfig && (memberConfig.layoutConfig.editExcel === false || !config.editExcel) && (memberConfig.layoutConfig.editVis === false || !config.editColVisibility)){
				return;
			}
			var cellMeta = bc.getCellMeta(parent.getMemberName()), userCellMeta;
			for(var i=0; i<bc.userMeta.length; i++){
				if(parent.getMemberName() === bc.userMeta[i].name){
					userCellMeta = bc.userMeta[i];
					break;
				}
			}
			
			$$tr = $$.create("TR", {rel:parent.getMemberName()});
			
			var $$td = $$.create("TD", {rel: "title"});
			var title = userCellMeta && userCellMeta.title ? userCellMeta.title : memberConfig.title || memberConfig.label;
			if(bc.config.editColName){
				$$.create("INPUT", {type:"text", value: title }, "csc-textbox", null, $$td);
			} else {
				var $$span = $$.create("SPAN", null, null, null, $$td);
				$$span.innerHTML = title;
			}
			oldTitles.push(title);
			$$tr.appendChild($$td);
			if(bc.config.editColVisibility){
				var $$td = $$.create("TD",{rel: "vis"}, undefined, {textAlign: "center"});
				if(!memberConfig.layoutConfig || memberConfig.layoutConfig.editVis !== false){
					var $$visibility = $$.create("INPUT", {type:"checkbox"}, "csc-checkbox");
					if(cellMeta && cellMeta.visible){
						$$.attr($$visibility, "checked", true) ;
					}
					$$td.appendChild($$visibility);
				}
				$$tr.appendChild($$td);
			}
			if(bc.config.editExcel){
				var $$td = $$.create("TD",{rel: "excel"}, undefined, {textAlign: "center"});
				if(!memberConfig.layoutConfig || memberConfig.layoutConfig.editExcel !== false){
					var $$input = $$.create("INPUT", {type:"checkbox"});
					if((userCellMeta.excel === true) || (cellMeta && cellMeta.visible && userCellMeta.excel !== false)){
						$$.attr($$input, "checked", true);
					}
					$$td.appendChild($$input);
				}
				$$tr.appendChild($$td);
			}
			$$ctable.appendChild($$tr);
		}
		
		for(var member in bf.members){
			if(!bf.members[member].isContainer()){
				drawMetaTable(bf.members[member]);
			}else if(bf.members[member].isContainer() && (!bf.members[member].getConfig().isActionBar && bf.members[member].getConfig().layout === "CSC-TABLE-ROW") ){
				var tableRow = bf.members[member].members;
				for(var member in tableRow){
					drawMetaTable(tableRow[member]);
				}
			}
		}
		var $$saveButon = $$.create("INPUT", {type:"button", value:SideMLManager.get("common.save")}, null, null, $$buttonsDiv);
		
		$$contentDiv.style.maxHeight = /*((bc.$$table.offsetHeight - ((bc.$$footer ? bc.$$footer.offsetHeight:0)+top))-($$htable.offsetHeight + $$buttonsDiv.offsetHeight +5))*/300+"px";
		
		$$saveButon.onclick = function(){
			// tablodakilerle colmodelmetayı düzenle
			for(var i=0; i<$$ctable.children.length && ( config.editColVisibility || config.editColName || config.editExcel) ; i++){
				var rel = $$ctable.children[i] ? $$ctable.children[i].getAttribute("rel") : undefined;
				if(rel){
					var member = bf.members[rel];
					var memConfig = member.getConfig();
					for(var j=0; j<bc.userMeta.length; j++){
						var $$tr = $$ctable.children[i], $$visTD, $$titleTD, $$excelTD;
						if(bc.userMeta[j].name === rel){
							var $$visTD = $$tr.children[1];
							if($$visTD.children.length){
								if($$visTD.children[0].checked){
									if(memConfig.visible){
										delete bc.userMeta[j].visibility;
									} else {
										bc.userMeta[j].visibility = true;
										bc.setVisible(true);
									}
								} else {
									if(!memConfig.visible){
										delete bc.userMeta[j].visibility;
									} else {
										bc.userMeta[j].visibility = false;
									}
								}
							}
							if(config.editColName){
								var $$titleTD = $$tr.children[0];
								var newTitle = $$titleTD.children[0].value; 
								if(!newTitle || memConfig.title == newTitle){
									delete bc.userMeta[j].title;
								} else {
									bc.userMeta[j].title= newTitle;
								}
							}
							if(bc.config.editExcel){
								var $$excelTD = $$tr.children[2];
								if($$excelTD.children[0].checked){
									if($$visTD.children.length && $$visTD.children[0].checked){
										delete bc.userMeta[j].excel;
									} else {
										bc.userMeta[j].excel = true;
									}
								} else {
									if($$visTD.children.length && $$visTD.children[0].checked){
										bc.userMeta[j].excel = false;
									} else {
										delete bc.userMeta[j].excel;
									}
								}
							}
							break;
						}
					}
				}
			}
			
			if(config.saveMeta){
				bc.saveUserMeta();
			}
			
			bc.bf.fire("oncolmodelmetachanged");
			$$.remove($$metaDiv);
			bf.rerender();
		};
	}
};

BC.prototype.setExtraSearchParams = function(params){
	/**
	 * @function setExtraSearchParams
	 * @description Search servisine ekstra parametreler eklenmesi sağlar.
	 * @param [params] search servisine eklenecek parametre
	 */
	this.esparams = params;
}

BC.prototype.renderActionBar = function($$actionDiv){
	var bc = this, config=bc.config, bf=bc.bf;
	
	var $$ldiv = $$.create("DIV", null, "csc-dt-action-left", null, $$actionDiv);
	var $$rdiv = $$.create("DIV", null, "csc-dt-action-right", null, $$actionDiv);
	
	if(config.showActionButtons && config.addBtn){
		var $$inputAdd = $$.create("SPAN", {id: config.id+"-add"}, ["csc-dt-action-btn", "csc-dt-action-add"], null, $$ldiv);
		$$inputAdd.innerHTML = SideMLManager.get("common.add");
		if(bc.config.disabled || bc.bf.isDisabled()){
			$$.css($$inputAdd, {"opacity": "0.5", "cursor": "default"});
		}else{
			$$inputAdd.onclick = function(){
				bc.addEmptyRow();
			};
		}
	}
	if(config.showActionButtons && this.config.delBtn){
		var $$inputRemove = $$.create("SPAN", {id: this.config.id+"-del"}, ["csc-dt-action-btn", "csc-dt-action-del"], null, $$ldiv);
		$$inputRemove.innerHTML = SideMLManager.get("common.deleteLastRow");
		if(bc.config.disabled || bc.bf.isDisabled()){
			$$.css($$inputRemove, {"opacity": "0.5", "cursor": "default"});
		}else{
			$$inputRemove.onclick = function(){
				bc.removeLastRow();
			};
		}
	}
	if(config.showActionButtons && this.config.rmBtn){
		var $$inputRemove = $$.create("SPAN", {id: this.config.id+"-rm"}, ["csc-dt-action-btn", "csc-dt-action-del-sel"],null,$$ldiv);
		$$inputRemove.innerHTML = SideMLManager.get("common.delete");
		if(bc.config.disabled || bc.bf.isDisabled()){
			$$.css($$inputRemove, {"opacity": "0.5", "cursor": "default"});
		}else{
			$$inputRemove.onclick = function(){
				bc.removeSelectedRows();
			};
		}
	}
	if(config.showActionButtons && this.config.rfrshBtn){
		var $$inputRefresh = $$.create("SPAN", {id: this.config.id+"-rfrsh"}, ["csc-dt-action-btn", "csc-dt-action-rfrsh"],null,$$ldiv);
		$$inputRefresh.innerHTML = SideMLManager.get("common.refresh");
		if(bc.config.disabled || bc.bf.isDisabled()){
			$$.css($$inputRefresh, {"opacity": "0.5", "cursor": "default"});
		}else{
			$$inputRefresh.onclick = function(){
				if(bf.$CS$ && bf.$CS$.ds){
					bf.setDataSource(bf.$CS$.ds.sn, bf.$CS$.ds.params, bf.$CS$.ds.options, bf.$CS$.ds.callback);
				}else{
					if(bc.rerender){
						bc.rerender();
					}else{
						bc.reRender();
					}
				}
			};
		}
	}
	
	if(config.showActionButtons && this.config.srchBtn){
		var $$inputSearch = $$.create("SPAN", {id: this.config.id+"-search"}, ["csc-dt-action-btn", "csc-dt-action-search"],null,$$rdiv);
		var popupOpened = false;
		
		$$inputSearch.onclick = function(){
			$$.remove(config.id+"-searchContainer");
			var opened = this.getAttribute("opened");
			if(opened){
				$$.rmAttr(this,"opened");
				return;
			} else {
				this.setAttribute("opened","yes");
				$$.rmAttr(config.id+"-modify","opened");
			}
			$$.remove(config.id+"-metaContainer");
			
			var top = (bc.$$title ? bc.$$title.offsetHeight:0)+(bc.$$action.offsetHeight);
			var $$searchContainer = $$.create("DIV", {id: bc.config.id+"-searchContainer"}, "csc-dt-search-cont", {top: top+"px"/*, height: (bc.$$rhead.offsetHeight+bc.$$rbody.offsetHeight+"px")*/}, bc.$$table);
			var $$htable = $$.create("TABLE", null, null, {width: "100%"}, $$searchContainer);
			var $$contentDiv = $$.create("DIV", null, "csc-dt-meta-content", null, $$searchContainer);
			var $$ctable = $$.create("TABLE", null, null, {width: "100%"}, $$contentDiv);
			var $$tbody = $$.create("TBODY", null, null, null, $$ctable);
			var $$buttonsDiv = $$.create("DIV", null, "csc-dt-search-btns", {width: "100%"}, $$searchContainer);
			
			var components = [];
			
			var $$tr = $$.create("TR", undefined, "csc-table-searchpanel-header", undefined, $$htable);
			
			var $$th = $$.create("TH");
			$$th.innerHTML = SideMLManager.get("common.title");
			$$tr.appendChild($$th);
			
			$$th = $$.create("TH");
			$$th.innerHTML = SideMLManager.get("common.start");
			$$tr.appendChild($$th);
			
			$$th = $$.create("TH");
			$$th.innerHTML = SideMLManager.get("common.finish");
			$$tr.appendChild($$th);
			
			$$th = $$.create("TH");
			$$th.innerHTML = SideMLManager.get(bc, "searchCriteria");
			$$tr.appendChild($$th);
			
			var options = [SideMLManager.get(bc, "searchNoCriteria"), 
			               SideMLManager.get("common.searchEquals"), 
			               SideMLManager.get("common.searchNotEquals"), 
			               SideMLManager.get("common.searchLessThan"),
			               SideMLManager.get("common.searchGreaterThan"), 
			               SideMLManager.get("common.searchLessThanOrEquals"),
			               SideMLManager.get("common.searchGreaterThanOrEquals"),
			               SideMLManager.get("common.searchIncludes"), 
			               SideMLManager.get("common.searchExcludes")];
			var c=0;
			function drawSearchTable(parent, force){
				if(parent.bcRef.typeName && (parent.bcRef.typeName === "CSC-BUTTON" || parent.bcRef.typeName === "CSC-HIDDEN" || !parent.bcRef.config.visible)){
					return;
				}
				// colmodelmeta'da invisible'sa geç.
				if(bc.config.useColModelMeta && bc.userMeta){
					for(var i=0; i<bc.userMeta.length; i++){
						if( (parent.getMemberName() === bc.userMeta[i].name) && (bc.userMeta[i].visibility === false) ){
							return;
						}
					}
				}
				
				var memberConfig = parent.getConfig();
				if( !memberConfig.layoutConfig || ( memberConfig.layoutConfig && ( (memberConfig.layoutConfig.searchable === undefined || memberConfig.layoutConfig.searchable === true) || force ) ) ){
					var $$tr = $$.create("TR");
					$$tbody.appendChild($$tr);
					
					var $$th = $$.create("TD");
					$$th.innerHTML = memberConfig.label+" : ";
					$$tr.appendChild($$th);
					
					$$th = $$.create("TD");
					
					var startMemberConfig = csCloneObject(memberConfig, true);
					delete startMemberConfig.value;
					BFEngine.newDefinition(parent.$CS$.definition.BF_NAME+"_SEARCH_START", parent.$CS$.definition.BC_REF, parent.members, startMemberConfig, parent.bcRef.events);
					var clonedParentStart = BFEngine.create({name: parent.$CS$.name+"SearchStart", BF: parent.$CS$.definition.BF_NAME+"_SEARCH_START"});
					
					// Relative Ref Data'da parent üzerinden getCloudInfo'nun çalışabilmesi için
					clonedParentStart.$CS$.parent = parent.getParent();
					
					SIDENavigator.renderToDiv($$th, clonedParentStart);
					
					// End Kısmı
					var endMemberConfig = csCloneObject(startMemberConfig, true);
					var clonedParentEnd;
					var newId = BCEngine.newId();
					
					$$tr.appendChild($$th);
					$$th = $$.create("TD");
					
					endMemberConfig.id = newId;
					
					if(parent.bcRef.typeName && (parent.bcRef.typeName === "CSC-CHECKBOX")){	// Bazı bileşenleri tek çizmek için.
						newId = null;
					} else {
						BFEngine.newDefinition(parent.$CS$.definition.BF_NAME+"_SEARCH_END", parent.$CS$.definition.BC_REF, parent.members, endMemberConfig, parent.bcRef.events);
						clonedParentEnd = BFEngine.create({name: parent.$CS$.name+"SearchEnd", BF: parent.$CS$.definition.BF_NAME+"_SEARCH_END"});
						
						// Relative Ref Data'da parent üzerinden getCloudInfo'nun çalışabilmesi için
						clonedParentEnd.$CS$.parent = parent.getParent();
						
						SIDENavigator.renderToDiv($$th, clonedParentEnd);
					}
					
					$$tr.appendChild($$th);
					
					// Kriter Kısmı
					$$th = $$.create("TD");
					var comboId = "combo-"+c; c++;
					var $$combo = $$.create("SELECT", {id: comboId}, "csc-combobox", undefined, $$th);
					for(var i=0; i<options.length; i++){
						var $$option = $$.create("OPTION", i===0 ? undefined : {value:i}, undefined, undefined, $$combo);
						$$option.innerHTML = options[i];
					}
					$$tr.appendChild($$th);
					
					var obj = {};
					obj.start = clonedParentStart;
					obj.end = clonedParentEnd;
					obj.name = parent.getMemberName();
					obj.combo = comboId;
					obj.type = parent.bcRef.typeName;
					components.push(obj);
					
					// Bir önceki arama değerleri set ediliyor.
					if(bc.config.holdOldSearchValues && bc.datasForSearch && bc.datasForSearch[obj.name]){
						obj.start.setValue(bc.datasForSearch[obj.name][0]);
						obj.end.setValue(bc.datasForSearch[obj.name][1]);
						$$.byid(obj.combo).selectedIndex = options.indexOf(bc.datasForSearch[obj.name][2]);
					}
				}
			}
			
			for(var member in bf.members){
				if(!bf.members[member].isContainer()){
					drawSearchTable(bf.members[member]);
				}else if(bf.members[member].isContainer() && (!bf.members[member].getConfig().isActionBar && bf.members[member].getConfig().layout === "CSC-TABLE-ROW") ){
					var tableRow = bf.members[member].members;
					for(var member in tableRow){
						drawSearchTable(tableRow[member]);
					}
					break;
				}
			}
			
			// sonradan eklenenleri çizmek için.
			if(bc.addedToSearchPanel){
				for(var member in bf.members){
					if(!bf.members[member].isContainer()){
						if(bc.addedToSearchPanel.indexOf(member) !== -1){
							drawSearchTable(bf.members[member], true);
						}
					}else if(bf.members[member].isContainer() && (!bf.members[member].getConfig().isActionBar && bf.members[member].getConfig().layout === "CSC-TABLE-ROW") ){
						var tableRow = bf.members[member].members;
						for(var member in tableRow){
							if(bc.addedToSearchPanel.indexOf(member) !== -1){
								drawSearchTable(tableRow[member], true);
								break;
							}
						}
					}
				}
			}
			
			var $$searchButton = $$.create("INPUT", {type:"button", value: SideMLManager.get("common.search")});
			$$searchButton.onclick = function(){
				if(bc.config.searchService){
					bc.datasForSearch = {}
					for(var i=0; i<components.length; i++){
						var start = components[i].start ? (components[i].start).getValue() : "";
						var end = components[i].end ? (components[i].end).getValue() : "";
						var combo = options[$$.byid(components[i].combo).selectedIndex];
						var type = components[i].type;
						
						if(start == "" || combo == "-----"){
							continue;
						}
						bc.datasForSearch[components[i].name] = [start, end, combo, type];
					}
					
					bc.searchParams = bc.datasForSearch;
					
					bf.fire("onbefore-search");
					
					bf.setDataSource(config.searchService, {request: bc.datasForSearch, extraParams: bc.esparams}, function() {
						$$.css(bc.$$table, "position", "");
						if($$searchContainer.parentNode){
							$$searchContainer.parentNode.removeChild($$searchContainer);
						}
					});
				}
			};
			$$buttonsDiv.appendChild($$searchButton);
			
			var $$clearButton = $$.create("INPUT", {type:"button", value: SideMLManager.get("common.clear")});
			$$clearButton.onclick = function(){
				for(var i=0; i<components.length; i++){
					if(components[i].start){
						components[i].start.clear();
					}
					
					if(components[i].end){
						components[i].end.clear();
					}
				}
				
				for(var i=0; i<$$tbody.childNodes.length; i++){
					var tr = $$tbody.childNodes[i].childNodes[3];
					if(tr){
						var combo = $$.getChildHasClass(tr, "csc-combobox");
						if(combo){
							combo.value = "-----";
						}
					}
				}
			};
			$$buttonsDiv.appendChild($$clearButton);
			
			var $$cancelButton = $$.create("INPUT", {type:"button", value: SideMLManager.get("common.cancel")});
			$$cancelButton.onclick = function(){
				$$.css($$searchContainer, "display", "none");
				$$.css(bc.$$table, "position", "");
				$$.rmAttr($$.byid(bc.config.id+"-search"),"opened");
				$$inputSearch.onclick = function(){
					$$.css($$searchContainer, "display", $$searchContainer.style.display == "" ? "none" : "");
					$$.css(bc.$$table, "position", "relative");
					$$.attr($$.byid(bc.config.id+"-search"),"opened", $$searchContainer.style.display == "" ? "yes" : "");
					$$.remove(config.id+"-metaContainer");
					$$.rmAttr(config.id+"-modify","opened");
				};
			};
			$$buttonsDiv.appendChild($$cancelButton);
			
			$$contentDiv.style.maxHeight = 300+"px";
		};
	}
	
	if(config.useColModelMeta && !config.utilButtonsBottom){
		var $$inputModify = $$.create("SPAN", {id: config.id+"-modify"}, ["csc-dt-action-btn", "csc-dt-action-modify"],null,$$rdiv);
		$$inputModify.onclick = function(){
			bc.renderMetaWindow(this);
		};
	}
	
	if(this.tableRowAsActionBar){
		for(var mname in this.tableRowAsActionBar.members){
			BFEngine.render(this.tableRowAsActionBar.members[mname], $$ldiv);
		}
	}
};

BC.prototype.saveUserMeta = function(){
	var bc=this;
	localStorage.setItem(bc.getSavePath(), JSON.stringify(bc.userMeta));
};

BC.prototype.getSavePath = function(rows){
	var bf=this.bf, parent = bf.$CS$.parent,path="";
	while(parent){
		if(parent.bcRef.config.mainTab || parent.bcRef.typeName == "CSC-POPUP"){
			break;
		}
		if(!parent.isBusinessField()){
			parent = parent.$CS$.parent;
			continue;
		}
		path += "#" +parent.getBusinessName();
		parent = parent.$CS$.parent;
	}
	if(!path){
		path = bf.getBusinessName();
	}
	return path;
};

BC.prototype.add = function(rows){
//	console.log("add row");
	for(var i=0; i<rows.length ;i++){
		this.nrows.push(rows[i]);
	}
	BFEngine.renderRequest(this.bf);
};


BC.prototype.dirty = function(rows){
	/**
	 * @function dirty
	 * @description Satırı tekrar çizilecek şekilde işaretler 
	 * @param [rows]
	 */
	for(var i=0; i<rows.length ;i++){
		this.mrows.push(rows[i]);
	}
	BFEngine.renderRequest(this.bf);
};

BC.prototype.remove = function(rows){
	var bc=this,bf=bc.bf,config=bc.config;
	for(var i=0; i<rows.length ;i++){
		bc.rrows.push(rows[i]);
		
		for(var k=0; k<bc.selecteds.length ;k++){
			if(bc.selecteds[i].rowid == rows[i].rowid){
				bc.selecteds.splice(i, 1);
				break;
			}
		}
	}
	
	bc.clearSelectAll();
	
	var pnumber = bf.getCurrentPage();
	var start = config.page ? (pnumber-1)*(config.pageNum || DT_DEFAULT_PAGE_ROW_COUNT) : 0;
	var end = config.page ? (pnumber)*(config.pageNum || DT_DEFAULT_PAGE_ROW_COUNT) : bf.tmembers.length;
	this.bf.saveState();
	this.rerenderTable(start, end);
};

BC.prototype.isSelected = function(rowid){
	var found = false;
	for(var i=0; i<this.selecteds.length ;i++){
		if(this.selecteds[i].rowid == rowid){
			return true;
		}
	}
    return false;
};

BC.prototype.hover = function(rowid, hover, direction){
	//TODO mahmuty soonraki/önceki sayfaya geçiş yapılmalı
	var $$lbody=this.$$lbody, $$rbody=this.$$rbody, $$tr, bc=this, tmembers=bc.bf.tmembers;
	if(!tmembers.length){
		return;
	}
	if(direction){
		rowid = bc.hrowid || tmembers[0].rowid;
		for(var i=0; i<tmembers.length ;i++){
			if(tmembers[i].rowid == rowid){
				if(direction == "up"){
					if(i==0){
						return;
					}
					rowid = tmembers[i-1].rowid;
					break;
				} else {//direction down
					if(i==tmembers.length-1){
						return;
					}
					rowid = tmembers[i+1].rowid;
					break;
				}
			}
		}
	}
	if(hover){
		if(bc.hrowid){
			$$.rmClass($$.getChildHasAttr($$lbody,"rowid",bc.hrowid),"row-over");
			$$.rmClass($$.getChildHasAttr($$rbody,"rowid",bc.hrowid),"row-over");
		}
		$$.addClass($$.getChildHasAttr($$lbody,"rowid",rowid),"row-over");
		$$.addClass($$.getChildHasAttr($$rbody,"rowid",rowid),"row-over");
		bc.hrowid = rowid;
	} else {
		$$.rmClass($$.getChildHasAttr($$lbody,"rowid",rowid),"row-over");
		$$.rmClass($$.getChildHasAttr($$rbody,"rowid",rowid),"row-over");
		if(bc.hrowid && bc.hrowid != rowid){
			$$.rmClass($$.getChildHasAttr($$lbody,"rowid",bc.hrowid),"row-over");
			$$.rmClass($$.getChildHasAttr($$rbody,"rowid",bc.hrowid),"row-over");
		}
		bc.hrowid = null;
	}
};

BC.prototype.selectAll = function(select){
	var bc=this,bf=bc.bf,config=bc.config, $$lbody=bc.$$lbody, $$rbody=bc.$$rbody, $$trs;
	if(select === undefined){
		select = true;
	}
	this.config.isSelectAllChecked = select;
	var $$sall = $$.byid(config.id+"-sall");
	if($$sall){
		$$sall.checked = select;
	}else if(select){
		this.selectAllOnRender = select;
	}
	bc.selecteds = [];
	if(select){
		for(var i=0; i<bf.tmembers.length ;i++){
			bc.selecteds.push(bf.tmembers[i]);
		}
	}
	
	if($$lbody){
		$$trs = $$.childs($$lbody, "DIV");
		for(var i=0; i<$$trs.length ;i++){
			if(select){
				$$.addClass($$trs[i], "dt-selected");
			} else {
				$$.rmClass($$trs[i], "dt-selected");
			}
			var $$td = $$.getChildHasClass($$trs[i], "dt-select-td");
			if($$td){
				var $$incell = $$.child($$td, "DIV");
				var $$input = $$.child($$incell, "INPUT");
				if($$input){
					$$input.checked = (select !== false);
				}
			}
		}
	}
	if($$rbody){
		$$trs = $$.childs($$rbody, "DIV");
		for(var i=0; i<$$trs.length ;i++){
			if(select){
				$$.addClass($$trs[i], "dt-selected");
			} else {
				$$.rmClass($$trs[i], "dt-selected");
			}
			var $$td = $$.getChildHasClass($$trs[i], "dt-select-td");
			if($$td){
				var $$incell = $$.child($$td, "DIV");
				var $$input = $$.child($$incell, "INPUT");
				if($$input){
					$$input.checked = (select !== false);
				}
			}
		}
	}
	
	bf.fire("onselectall", select);
};

BC.prototype.clearSelectAll = function(){
	var $$input = $$.byid(this.config.id+"-sall");
	if($$input){
		$$input.checked = false;
	}
};

BC.prototype.select = function(row, select, inner){
	var bc=this, bf=bc.bf;
	var $$lbody=bc.$$lbody, $$rbody=bc.$$rbody, $$tr, $$td;
	if(typeof row == "string"){
		for(var i=0; i<bf.tmembers.length ;i++){
			if(bf.tmembers[i].rowid == row){
				row = bf.tmembers[i];
				break;
			}
		}
	}
	
	var rowid=row.rowid, found = false;
	for(var i=0; i<this.selecteds.length ;i++){
		if(this.selecteds[i].rowid == rowid){
			found = true;
			if(!select){
				this.selecteds.splice(i, 1);
			}
			break;
		}
	}
	if((select && found) || (!select && !found)){
		return;
	}
	
	//left body
	if($$lbody){
		$$tr = $$.getChildHasAttr($$lbody, "rowid", rowid);
		if(select){
			$$.addClass($$tr, "dt-selected");
		} else {
			$$.rmClass($$tr, "dt-selected");
		}
		if(!inner){
			var $$td = $$.getChildHasClass($$tr, "dt-select-td");
			if($$td){
				var $$incell = $$.child($$td, "DIV");
				var $$input = $$.child($$incell, "INPUT");
				if($$input){
					$$input.checked = (select !== false);
				}
			}
		}
	}
	//right body
	$$tr = $$.getChildHasAttr($$rbody, "rowid", rowid);
	if(select){
		$$.addClass($$tr, "dt-selected");
	} else {
		$$.rmClass($$tr, "dt-selected");
	}
	
	if(this.config.multiselect === false){
		if(select){
			this.selecteds = [row];
		} else {
			this.selecteds = [];
		}
		var $$trs = $$.childs($$lbody, "DIV");
		for(var i=0; i<$$trs.length ;i++){
			var trRowid = $$trs[i].getAttribute("rowid");
			if(trRowid == rowid){
				continue;
			}
			if($$.hasClass($$trs[i], "dt-selected")){
				$$.rmClass($$trs[i], "dt-selected");
				var $$td = $$.getChildHasClass($$trs[i], "dt-select-td");
				if($$td){
					var $$incell = $$.child($$td, "DIV");
					var $$input = $$.child($$incell, "INPUT");
					if($$input && $$input.checked){
						$$input.checked = false;
					}
				}
			}
		}
		$$trs = $$.childs($$rbody, "DIV");
		for(var i=0; i<$$trs.length ;i++){
			var trRowid = $$trs[i].getAttribute("rowid");
			if(trRowid == rowid){
				continue;
			}
			if($$.hasClass($$trs[i], "dt-selected")){
				$$.rmClass($$trs[i], "dt-selected");
			}
		}
	} else {
		if(select){
			this.selecteds.push(row);
		}
	}
	
	if(!inner){
		var row = this.bf.getRow(this.bf.getIndexFromRowId(rowid));
		this.bf.fire("rowselected", row, select);
	}
	
	bc.clearSelectAll();
};

BC.prototype.getSelectedRows = function(){
	var copy = [];
	for(var i=0; i<this.selecteds.length ;i++){
		copy.push(this.selecteds[i]);
	}
	return copy;
};

/**
 * @function prepareMetadata
 * @description CellInfo cinfo örneği:
 * @example 
 * Row 1: [adi, soyadi#colspan(2)]
 * Row 2: [okulu, notu, sonuc]
 * [
 *  { ctype: "hover"},
 *  { ctype: "rn"},
 *  { ctype: "sel"},
 *  { ctype: "data", i: 0, width: 40, rows: [{mname: "adi"}, {mname: "okulu"}]},
 *  { ctype: "data", i: 1, width: 120, rows: [{mname: "soyadi", col: 1}, {mname: "notu"}]},
 *  { ctype: "data", i: 2, width: 30, rows: [{mname: "soyadi", col: 2}, {mname: "sonuc"}]},
 *  @param [$$table]
 *  @param [pwidth]
 */

BC.prototype.prepareMetadata = function($$table, pwidth){
	var config = this.config, bc = this, bf = bc.bf, userMeta = bc.userMeta || [];
	if(!bc.userMeta){
		bc.userMeta = userMeta;
	}
	this.metadata = {
	   rowNumbers: config.rownumbers,
	   selectable: config.selectable,
	   selectall: config.selectall,
	   hover: config.hovercell,
	   treeColumn: config.treeColumn,
	   treeIndex: -1,
	   
	   refRowIndex: 0,//width hesaplmalarında referans alınacak row'un index'i
	   rows: []
	};
	this.cinfo = [];//renderred cell info
	var meta = this.metadata;
	
	function prepareMemberMeta(mname, member, mconf, mconfLayout, userMeta){
		var mmeta = {
			mname: mname,
			label: mconf.title || mconf.label,
			width: mconfLayout.columnWidth || 10,
			minw: mconfLayout.minw,
			sort: mconfLayout.sortable === undefined ? config.sortable : mconfLayout.sortable,
			filter: mconfLayout.filter,
			ftype: mconfLayout.ftype || "like",
			visible: member.isVisible(),
			align: mconfLayout.cellAlign
		};
		if(member.getTypeName() == "CSC-POPUP"){
			mmeta.visible = false;
		}
		if(mconfLayout.overflow){
			mmeta.overflow = mconfLayout.overflow;
		}
		if(mconfLayout.vertAlign){
			mmeta.valign = mconfLayout.vertAlign;
		}
		if(mconfLayout.colSpan){
			mmeta.cs= mconfLayout.colSpan;
		}
		var modelFound = false;
		for(var k=0; k<userMeta.length; k++){
			if(mname == userMeta[k].name ){
				if(userMeta[k].visibility === false){
					mmeta.visible = false;
				} else if(userMeta[k].visibility === true){
					mmeta.visible = true;
				}
				if(userMeta[k].title){
					mmeta.label = userMeta[k].title;
				}
				if(userMeta[k].width){
					mmeta.width = userMeta[k].width;
				}
				modelFound = true;
				break;
			}
		}
		if(!modelFound){
			userMeta.push({
				name: mname,
				defTitle: mmeta.label
			});
		}
		return mmeta;
	}
	
	meta.rows.push([]);
	var i=0, rowIndex=0;
	//TODO mahmuty aşağısı çok satır için düzenlenecek, şuan tek satır olarak yapıldı
	for(var mname in bf.members){
		if(mname == config.treeColumn){
			meta.treeIndex = i;
		}
		var member = bf.members[mname], mconf = member.getConfig(), mconfLayout = mconf.layoutConfig || {};
		
		if(member.getTypeName() == "CSC-TABLE-TOTAL-ROW"){
			this.totalRow = member;
			continue;
		}
		
		if(member.getTypeName() == "CSC-TABLE-ROW"){
			if(mconf.isActionBar){//TODO mahmuty actionbar içinde member olduğu durum ele alınmalı mı? 
				this.tableRowAsActionBar = member;
			} else {
				if(rowIndex > 0){
					meta.rows.push([]);
				}
				var mcounter = 0;
				for(var innerMname in member.members){
					var innerMember = member.members[innerMname], mconf = innerMember.getConfig(), mconfLayout = mconf.layoutConfig || {};
					meta.rows[rowIndex].push(prepareMemberMeta(innerMname, innerMember, mconf, mconfLayout, userMeta));
					mcounter++;
				}
				rowIndex++;
			}
			continue;
		}
		
		meta.rows[rowIndex].push(prepareMemberMeta(mname, member, mconf, mconfLayout, userMeta));
		i++;
		//bc.userMeta.push({name: mname});
	}
	return meta;
};

BC.prototype.initCInfo = function($$table, pwidth){
	var bc=this, meta=bc.metadata, cinfo = bc.cinfo = [];
	if(meta.hover){
		cinfo.push({ctype: "hover"});
	}
	if(meta.rowNumbers){
		cinfo.push({ctype: "rn"});
	}
	if(meta.selectable){
		cinfo.push({ctype: "sel"});
	}
	
	var i=0, n=0;
	//TODO mahmuty aşağısı çok satır için düzenlenecek, şuan tek satır olarak yapıldı
	for(var i=0; i<meta.rows[0].length ;i++){
		rowMeta = meta.rows[0][i];
		if(rowMeta.visible){
			cinfo.push({ctype: "data", i:n++, rmeta: rowMeta, rows:[{mname: rowMeta.mname}]});
		}
	}
};

BC.prototype.bindHeaderEvents = function($$table, $$rhead){
	if(!$$rhead){
		return;
	}
	var bc = this, cinfo = bc.cinfo, config=bc.config;
	var $$hrow = $$.child($$rhead, "DIV");
	var tableLeft = $$.offset($$rhead).left;//  csdu.findPositionX($$table);
	function findColumnInfo(cinfo, eventX){
		var total=tableLeft;
		eventX += $$rhead.scrollLeft;
		for(var i=0; i<cinfo.length ;i++){
			total += cinfo[i].width;
			if(total >= eventX){
				return {l: total-cinfo[i].width, r: total, rmeta: cinfo[i].rmeta};
			}
		}
	}
	var hoverMname = null;
	$$rhead.onmousemove = function(e){
		if($$rhead.cs_ds){
			return;
		}
		var info = findColumnInfo(bc.cinfo, e.pageX);
		if(!info || !info.rmeta){
			$$rhead.cs_mv=false;
			$$rhead.style.cursor="";
			var $$td = $$.getChildHasAttr($$hrow, "rel", hoverMname);
			$$.rmClass($$td, "csc-dt-th-hover");
			hoverMname = null;
			return;
		}
		if(hoverMname != info.rmeta.mname){
			var $$td = $$.getChildHasAttr($$hrow, "rel", hoverMname);
			$$.rmClass($$td, "csc-dt-th-hover");
			hoverMname = info.rmeta.mname;
			$$td = $$.getChildHasAttr($$hrow, "rel", hoverMname);
			$$.addClass($$td, "csc-dt-th-hover");
		}
		if((info.r-8) < (e.pageX+$$rhead.scrollLeft)){
			if($$rhead.cs_mv){
				return;
			}
			$$rhead.cs_mv=info;
			$$rhead.style.cursor="e-resize";
		} else {
			if(!$$rhead.cs_mv){
				return;
			}
			$$rhead.cs_mv=false;
			$$rhead.style.cursor="";
		}
	};
	$$rhead.onmouseout = function(e){
		if(e.target == $$rhead || e.target == $$hrow || e.target.className.indexOf("cell") >= 0){
			$$rhead.cs_mv=false;
			$$rhead.style.cursor="";
			var $$td = $$.getChildHasAttr($$hrow, "rel", hoverMname);
			$$.rmClass($$td, "csc-dt-th-hover");
			hoverMname = null;
		}
	};
	$$rhead.onmousedown = function(e){
		var info = $$rhead.cs_mv;
		if(info && info.rmeta){
			e.preventDefault();
			var firstMousePosition = e.pageX;
			
			var meta=info.rmeta, mname= meta.mname;
			$$.body().style.cursor="col-resize";
			var $$div = $$.create("DIV",null,null,{position: "absolute", left: e.pageX+"px", top:(e.pageY-e.offsetY)+"px",height: this.offsetHeight+"px", backgroundColor: "#444", width: "1px" });
			$$.body().appendChild($$div);
			window.onmousemove = function(ev){
				var dist = info.r - (firstMousePosition - ev.pageX);
				if( dist < info.l || ev.pageX- (tableLeft + $$table.offsetWidth) > 50 ){	//ADogan - Son kolonun genişletilebilmesi için sağdaki sınırı genişlettim.
					$$.remove($$div);
					$$.body().style.cursor="";
					window.onmouseup = null;
					window.onmousemove = null;
					return;
				}
				$$div.style.left = dist-$$rhead.scrollLeft +"px";
			};
			window.onmouseup = function(ev){
				meta.width = (ev.pageX-info.l+$$rhead.scrollLeft) +"px";
				var userMeta = bc.userMeta;
				if(config.saveMeta && userMeta){
					for(var k=0; k<userMeta.length; k++){
						if(mname == userMeta[k].name){
							userMeta[k].width = meta.width;
							bc.saveUserMeta();
							break;
						}
					}
				}
				$$.remove($$div);
				$$.body().style.cursor="";
				window.onmouseup = null;
				window.onmousemove = null;
//				bc.prepareCSS();
				bc.fixTable();
			};
		}
	};
	$$rhead.ondragstart = function(e){
		var info = findColumnInfo(bc.cinfo, e.pageX);
		if(info && info.rmeta){
			this.cs_ds=true;//set drag start true
			bc.dragMember = info.rmeta.mname;
			e.dataTransfer.setData("mname", bc.dragMember);
		}
	};
	$$rhead.ondragover = function(e){
		var info = findColumnInfo(bc.cinfo, e.pageX);
		if(info && info.rmeta){
			//console.log(bc.dragOverMember +"#"+info.rmeta.mname);
			if(bc.dragMember == info.rmeta.mname || bc.dragOverMember != info.rmeta.mname){
				$$.rmClass($$.getChildHasAttr($$hrow, "rel", bc.dragOverMember), "dt-col-gragover");
			}
			if(bc.dragMember != info.rmeta.mname){
				$$.addClass($$.getChildHasAttr($$hrow, "rel", info.rmeta.mname), "dt-col-gragover");
				bc.dragOverMember = info.rmeta.mname;
				e.preventDefault();
				return;
			}
		}
		return false;
	};
	
	$$rhead.ondragleave = function(e){
		this.cs_ds=null;//set drag start null
		$$.rmClass($$.getChildHasAttr($$hrow, "rel", bc.dragOverMember), "dt-col-gragover");
	};
	$$rhead.ondrop = function(e){
		this.cs_dt=null;//set drag start null
		var mname = bc.dragOverMember;
		bc.dragOverMember = null;
		if(bc.dragMember == mname || !mname){
			$$.rmClass($$.getChildHasAttr($$hrow, "rel", bc.dragOverMember), "dt-col-gragover");
			return;
		}
		var meta = bc.metadata, dragMeta, reverse = false;
		for(var i=0; i<meta.rows[0].length ;i++){
			if(meta.rows[0][i].mname == mname){
				reverse = true;
			}
			if(meta.rows[0][i].mname == bc.dragMember){
				dragMeta = meta.rows[0][i];
				meta.rows[0].splice(i,1);
				break;
			}
		}
		for(var i=0; i<meta.rows[0].length ;i++){
			if(meta.rows[0][i].mname == mname){
				meta.rows[0].splice(reverse ? i:i+1,0,dragMeta);
				break;
			}
		}
		bc.bf.rerender();
	};
};

BC.prototype.renderHeaders = function($$table, $$lhead, $$rhead){
	//TODO column header olduğunda ne yapmalı?
	var bc=this, bf= bc.bf, meta = bc.metadata, colCounter = 0, $$td, config=bc.config;
	if($$lhead){
		var $$tr = $$.create("DIV", null, ["hrow"], null, $$lhead);
		if(meta.hover){
			$$td = $$.create("DIV", null, ["cell", "c"+(colCounter++), "dt-hover"], null, $$tr);
			$$.create("DIV", null, ["in-cell"], null, $$td);//in-cell
		}
		if(meta.rowNumbers){
			$$td = $$.create("DIV", null, ["cell", "c"+(colCounter++), "dt-rn"], null, $$tr);
			$$.create("DIV", null, ["in-cell"], null, $$td);//in-cell
		}
		if(meta.selectable){
			$$td = $$.create("DIV", null, ["cell", "c"+(colCounter++),"dt-select-td"], null, $$tr);
			$$td = $$.create("DIV", null, ["in-cell"], null, $$td);//in-cell
			if(meta.selectall){
				var $$check = $$.create("INPUT", {type: "checkbox",id:config.id+"-sall", checked: this.config.isSelectAllChecked || false}, "csc-dt-selectall", null, $$td);
				if(config.disabled/* || config.readonly*/){
					$$check.setAttribute("disabled", "true");
				}
				
				if(this.selectAllOnRender){
					$$check.checked = this.selectAllOnRender;
					delete this.selectAllOnRender;
				}
				
				$$check.onclick = function(){
					bc.selectAll(this.checked);
				};
				if(bc.config.disabled || bc.bf.isDisabled()){
					$$check.disabled = true;
				}
			}
		}
		if(meta.treeIndex >= 0){
			$$td = $$.create("DIV", null, ["cell", "c"+(colCounter++)], null, $$tr);
			$$td = $$.create("DIV", null, ["in-cell"], null, $$td);//in-cell
			$$td.innerHTML = meta.rows[meta.refRowIndex][meta.treeIndex].label || "";
		}
		//TODO tree column ele alınmalı
	}
	var $$tr = $$.create("DIV", null, ["hrow"], null, $$rhead), $$cell;
	for(var i=0; i<meta.rows[meta.refRowIndex].length ;i++){
		var colMeta = meta.rows[meta.refRowIndex][i], mname=colMeta.mname;
		if(mname == meta.treeColumn || colMeta.visible === false){
			continue;//tree column left head'de yer alır
		}
		$$td = $$.create("DIV", {draggable: true, rel:mname}, ["cell", "c"+(colCounter++)], null, $$tr);
		$$td = $$.create("DIV", null, ["in-cell"], null, $$td);//in-cell
		$$td.innerHTML = colMeta.label || "";
		if(bc.filters[mname] && bc.filters[mname].rendered){
			bc.renderFilterInput($$td, mname, colMeta.ftype);
		}
		if(colMeta.sort || colMeta.filter){
			var $$utilDiv = $$.create("DIV", {mname: colMeta.mname}, "csc-dt-th-util", null, $$td.parentNode);
			$$utilDiv.colMeta = colMeta;
			$$utilDiv.onclick = function(e){
				e.stopPropagation();
				var $$utilDiv = this;
				var mname = this.getAttribute("mname"), colMeta = this.colMeta;
				var items = [];
				if(colMeta.sort){
					items.push({
						label:SideMLManager.get("common.ascendingOrder"), icon: "css/bc-style/img/order-asc.png",
						action: function(){
							bc.bf.sort(mname, "asc");
						}
					});
					items.push({
						label:SideMLManager.get("common.descendingOrder"), icon: "css/bc-style/img/order-desc.png",
						action: function(){
							bc.bf.sort(mname, "desc");
						}
					});
				}
				if(colMeta.filter){
					var rendered = bc.filters[mname] && bc.filters[mname].rendered;
					items.push({
						label: rendered ? SideMLManager.get("common.removeFilter") : SideMLManager.get("common.filter"), icon: "css/bc-style/img/filter.png",
							action: function(){
								if(rendered !== true){
									var $$incell = $$.child($$utilDiv.parentNode, "DIV")
									bc.renderFilterInput($$utilDiv.parentNode,mname, "like");
								} else {
									var $$incell = $$.child($$utilDiv.parentNode, "DIV")
									bc.unrenderFilterInput($$utilDiv.parentNode, mname, "like");
								}
							}
					});
				}
				csdu.contextMenu({
					left: csdu.findPositionX(this)-124-$$rhead.scrollLeft, 
					top: e.pageY,
					clazz: "csc-dt-th-util-popup",
					items: items
				});
			};
		}
	}
	
	// başlıkları arama paneline eklemek için.
	if(bc.config.srchBtn){
		var $$headerTr = $$rhead.children[0];
		for(var memberName in bf.members){
			var member = bf.members[memberName];
			var memberConfig = member.getConfig();
			if(memberConfig){
				var memberLayoutConfig = memberConfig.layoutConfig;
				if(memberLayoutConfig && memberLayoutConfig.searchable === false){
					var $$header = $$.getChildHasAttr($$headerTr, "rel", memberName);
					if($$header){
						$$header.addEventListener("contextmenu", function(e){
							e.preventDefault();
							if(!$$.byid(bc.config.id+"-addSearchPanel")){
								var targetMemberName = e.target.getAttribute("rel");
								var $$addSearchPanelSection = $$.create("DIV", {id: bc.config.id+"-addSearchPanel", rel: targetMemberName}, "csc-dt-searchPanel-add", {"top": e.y+"px", "left": e.x+"px"});
								
								if(!bc.addedToSearchPanel){
									bc.addedToSearchPanel = [];
								}
								
								var indice = bc.addedToSearchPanel.indexOf(targetMemberName);
								
								if(indice == -1){
									$$addSearchPanelSection.innerHTML = SideMLManager.get("common.addToSearchPanel")
									
									$$addSearchPanelSection.onclick = function(){
										bc.addedToSearchPanel.push(this.getAttribute("rel"));
										$$addSearchPanelSection.parentNode.removeChild($$addSearchPanelSection);
									};
								}else {
									$$addSearchPanelSection.innerHTML = SideMLManager.get(bc, "removeFromSearchPanel")
									
									$$addSearchPanelSection.onclick = function(){
										bc.addedToSearchPanel.splice(indice, 1);
										$$addSearchPanelSection.parentNode.removeChild($$addSearchPanelSection);
									};
								}
								
								document.getElementsByTagName("body")[0].appendChild($$addSearchPanelSection);
								
								window.addEventListener("click", function(e){
									if(e.target.className !== "csc-dt-searchPanel-add" && $$addSearchPanelSection.parentNode){
										$$addSearchPanelSection.parentNode.removeChild($$addSearchPanelSection);
									}
								});
								return false;
							}
						});
					}
				}
			}
		}
	}
};

BC.prototype.renderFilterInput = function($$th, mname, ftype){
	var value = "", bc = this, bf=bc.bf, config=bc.config; 
	if(bc.filters[mname]){
		value = bc.filters[mname].fvalue;
	}
	if(!bc.filters[mname]){
		bc.filters[mname] = {};
	}
	bc.filters[mname].rendered = true;
	var $$div = $$.create("DIV",{id: config.id+ "-filter-div"},"csc-dt-filter-div");
	$$th.appendChild($$div);
	var $$br = $$.create("BR", {id: this.config.id+"-f-br-"+mname});
	if(ftype == "eq" || ftype == "like"){
		var $$input = $$.create("INPUT", {type:"text", rel: mname, value: value, id: this.config.id+"-f-input-"+mname}, "csc-dt-filter-input");
		$$div.appendChild($$input);
		$$input.onkeyup = function(event){
			if(event.keyCode == 13){
				var mname = this.getAttribute("rel");
				var value = this.value ? this.value : undefined;
				
				var fpath = "";
				var member = bf.members[mname];
				if(member){
					var memberConfig = member.getConfig();
					fpath = memberConfig.layoutConfig.fpath;
				}
				
				bc.makeFilter(mname, ftype, value, fpath);
			}
		};
		$$input.focus();
	} else if(ftype == "cmb"){
        var fpath;
        var member = bc.bf.members[mname];
        if(member){
            var memberConfig = member.getConfig();
            fpath = memberConfig.layoutConfig.fpath;
        }
        
		var valueMap = {};
		var options = "<option>------</option>";
		for(var i=0; i<this.bf.tmembers.length ;i++){
			var row = this.bf.tmembers[i];
			var val = row.get(fpath || mname).getText();
			if(val){
				valueMap[val] = true;
			}
		}
		for(var val in valueMap){
			options += "<option value='"+val+"'>"+val+"</option>";
		}
		var $$select = $$.create("SELECT", {rel: mname, id: this.config.id+"-f-input-"+mname}, "csc-table-filter-select");
		$$select.innerHTML = options;
		$$select.value = value;
		$$th.appendChild($$br);
		$$th.appendChild($$select);
//		$$th.style.width = $$th.offsetWidth+"px";
		$$select.onchange = function(event){
			var value = this.value ? this.value : undefined;
            
            var fpath;
            var mname = this.getAttribute("rel");
            var member = bc.bf.members[mname];
            if(member){
                var memberConfig = member.getConfig();
                fpath = memberConfig.layoutConfig.fpath;
            }
            
			bc.makeFilter(mname, "eq", value, fpath);
		};
	} else if(ftype == "btw"){
		if(!value){
			value = [];
		}
		var $th = $($$th);
		var $tarihStart = $("<input>").attr({rel: mname, rel2: "start", value: SIDEDateUtil.getFormattedDate(value[0] || "", "yyyymmdd", "dd/mm/yyyy") , id: this.config.id+"-f-input-"+mname}).addClass("csc-table-filter-date");
		var $tarihEnd = $("<input>").attr({rel: mname, rel2: "end", value: SIDEDateUtil.getFormattedDate(value[1] || "", "yyyymmdd", "dd/mm/yyyy"), id: this.config.id+"-f-input2-"+mname}).addClass("csc-table-filter-date");
		$th.append($$.create("BR", {id:this.config.id+"-f-br-"+mname}));
		$th.append($tarihStart);
		$tarihStart.datepicker({
			showButtonPanel: false,
			onSelect: function(date){
				$tarihStart.val(date);
				var start = SIDEDateUtil.getFormattedDate(date, "dd/mm/yyyy", "yyyymmdd");
				var end = SIDEDateUtil.getFormattedDate($tarihEnd.val(), "dd/mm/yyyy", "yyyymmdd");
				bc.makeFilter(this.getAttribute("rel"), "btw", [start, end]);
			}
		});
		$tarihStart[0].onchange = function(){
			var start = SIDEDateUtil.getFormattedDate(this.value, "dd/mm/yyyy", "yyyymmdd");
			var end = SIDEDateUtil.getFormattedDate($tarihEnd.val(), "dd/mm/yyyy", "yyyymmdd");
			bc.makeFilter(this.getAttribute("rel"), "btw", [start, end]);
		};
		$th.append($$.create("BR", {id:this.config.id+"-f-br2-"+mname}));
		$th.append($tarihEnd);
		$tarihEnd.datepicker({
			showButtonPanel: false,
			onSelect: function(date){
				$tarihEnd.val(date);
				var end = SIDEDateUtil.getFormattedDate(date, "dd/mm/yyyy", "yyyymmdd");
				var start = SIDEDateUtil.getFormattedDate($tarihStart[0].value, "dd/mm/yyyy", "yyyymmdd");
				bc.makeFilter(this.getAttribute("rel"), "btw", [start, end]);
			}
		});
		$tarihEnd[0].onchange = function(){
			var end = SIDEDateUtil.getFormattedDate(this.value, "dd/mm/yyyy", "yyyymmdd");
			var start = SIDEDateUtil.getFormattedDate($tarihStart.val(), "dd/mm/yyyy", "yyyymmdd");
			bc.makeFilter(this.getAttribute("rel"), "btw", [start, end]);
		};
	}
	
};


BC.prototype.unrenderFilterInput = function($$th, mname, ftype){
	var bc=this;
	$$th.style.width = "";
	var $$div = $$.byid(bc.config.id+ "-filter-div");
	$$.remove($$div);
	
	bc.filters[mname].rendered = null;
	bc.makeFilter(mname, ftype, undefined);
};


BC.prototype.makeFilter = function(mname, ftype, fvalue, fpath){
	var bc=this;
	if(mname){
		bc.filters[mname].ftype = ftype;
		bc.filters[mname].fvalue = fvalue;
		bc.filters[mname].fpath = fpath;
	}
	
	var filters = [];
	for(var mname in bc.filters){
		if(!bc.filters[mname].rendered){
			continue;
		}
		filters.push({
			name: mname,
			type: bc.filters[mname].ftype,
			value: bc.filters[mname].fvalue,
			path: bc.filters[mname].fpath
		});
	}
	bc.bf.filter(filters);
};

BC.prototype.getPageRowCount = function(){
	return this.config.pageNum;
};

BC.prototype.excelExport = function(){
	var data,cmd,bc=this,bf=bc.bf;
	var exportInvisibleColumns = bc.config.exportInvisibleColumns ;
	var excelFileFormat = bc.config.gridFileType, exportExcelFromDs =false;
	if(excelExportButtonClicked){
		CSPopupUTILS.MessageBox("You cannot export excel for the duration of this timeout: " + (getSideDefaults("excelExport-button-timeout") / 1000) % 60 + "sec.", {error: true});
		return;
	}
	excelExportButtonClicked = true;
	setTimeout(function(){ 
    	excelExportButtonClicked = false;	
    }, getSideDefaults("excelExport-button-timeout"));
	
	bf.fire("onbeforeexcelexport");	
	if (bf.$CS$.ds) {// datasource exist?
		cmd = "EXPORT_EXCEL_FROM_DS";
		data = csCloneObject(bf.$CS$.ds, true);
		exportExcelFromDs = true;
		if(data.params && data.params.pv){
			data.params.pv.limit = 100000;
		}
	} else {
		cmd = "EXPORT_EXCEL";
		bf.$CS$.fromExcelExport = true; // ADogan - useValueInExcel özelliğini kullanabilmek için getText içerisine girdiğinde excel exporttan geldiğini bilsin diye.
		bf.$CS$.exportInvisibleColumns = exportInvisibleColumns; 
		bf.$CS$.excelFileFormat = excelFileFormat;
		data = bf.getText();
		delete bf.$CS$.fromExcelExport;
		delete bf.$CS$.exportInvisibleColumns;
		delete bf.$CS$.excelFileFormat;
	}
	
	if(getSideDefaults("support-service-call-extra-params", bf.getModuleName()) && window.callParams && data){
		if(!data.params){
			data.params = {};
		}
		for(var pname in window.callParams){
			data.params[pname] = window.callParams[pname];
		}
	}
	
	var bfname = bf.$CS$.definition.BF_NAME;
	var module = this.excelModule || bf.getModuleName();
	var cp = bf.$CS$.name, parent = bf.getParent();
	do{
		if(parent && parent.isBusinessField()){
			cp = parent.$CS$.name + "." +cp;
		}
		if(parent){
			parent = parent.getParent();	
		}
	}while(parent && parent.$CS$.CTX !== "root");
	if(parent){
		cp =  parent.$CS$.name+ "." + cp;
	}
	
	SIDEUtil.downloadFileWithPost({
		cmd: cmd,
		s: "ş",//türkçe karakter problemi için
		jp: {
			metadata : bf.getMetaData(undefined, {exportInvisibleColumns: exportInvisibleColumns} , exportExcelFromDs),
			ds: data,
			filename: bc.efl,
			excelFileFormat:excelFileFormat,
			checkSpecialChars : bc.config.checkSpecialChars || false,
			config: this.excelConfig || undefined,
			sideLang: window.sideLang,
			cp: cp,
			page: cp.split(".")[0]
		}
	}, {
		url: SideModuleManager.getAppUrl(module, this.config.excelExportPath||"side-support-gridexport"),
		module: module,
		onload : function(err){
			CSPopupUTILS.MessageBox(err, {error: true});
		},
		onerror : function(err){
			if(getSideDefaults("show-excel-export-errors")){
				CSPopupUTILS.MessageBox(err, {error: true});	
			}
			
		}
	});
};

BC.prototype.setExcelExportPath = function(path){
	this.config.excelExportPath = path;
};

BC.prototype.renderFooter = function(){
	var bc = this, bf = this.bf, config=bc.config, $$spanPagingInfo;
	if(!bc.$$rbody || !bc.$$footer){
		return;
	}
	var members = this.bf.fmembers || this.bf.tmembers;
	var page = this.pnumber, total = members.length;
	if (this.bf.$CS$.ds) {
		page = this.bf.$CS$.ds.page;
		total = this.bf.$CS$.ds.rowcount;
	}
	
	var $$footer = this.$$footer;
	$$footer.innerHTML = "";
	var $$footertable = $$.create("TABLE", null, null, null, $$footer);
	var $$tr = $$.create("TR", null, null, null, $$footertable);
	var $$leftTD = $$.create("TD", {rel: "l"}, null, null, $$tr);
	var $$centerTD = $$.create("TD", {rel: "c"}, null, null, $$tr);
	var $$rightTD = $$.create("TD", {rel: "r"}, null, null, $$tr);
	
	if(config.useColModelMeta && config.utilButtonsBottom){
		var $btnsDiv = $$.create("DIV", null, "csc-dt-actions-div",null,$$leftTD);
		var $$inputModify = $$.create("SPAN", {id: config.id+"-modify"}, ["csc-dt-action-btn", "csc-dt-action-modify"],null,$btnsDiv);
		$$inputModify.onclick = function(){
			bc.renderMetaWindow(this);
			var $$metaWindow = $$.byid(bc.config.id+"-metaContainer");
			$$.css($$metaWindow, "bottom", $$.height(bc.$$hscroll)+$$.height(bc.$$footer)+"px" );
			$$.css($$metaWindow, "top", "" );
//			$$.css($$metaWindow, "left", "0px" );
			$$.css($$metaWindow, "right", "inherit" );
		};
	}
	
	if (this.config.page && this.config.showAllBtn){
		var $$btnShowAll = $$.create("INPUT", {type: "button", value: bc.showAll ?  SideMLManager.get("common.showPaging") : SideMLManager.get("common.showAll")}, "csc-dt-showallbtn");
		$$leftTD.appendChild($$btnShowAll);
		$$btnShowAll.onclick = function(){
			bc.showAll = !bc.showAll;
			var pageNum = bc.config.pageNum;
			if(bc.showAll){
				bc.oldPageNum = pageNum;
				pageNum = 100000;
			} else {
				pageNum = bc.oldPageNum;
			}
			bc.config.pageNum = pageNum;
			bc.pnumber = 1;
			bc.bf.gotoPage(1);
		};
	}
	if (this.config.gridExport) {
		var $$btnExport = $$.create("INPUT", {type: "button", value: SideMLManager.get("common.exportExcel")}, "csc-dt-exportbtn");
		$$leftTD.appendChild($$btnExport);
		$$btnExport.onclick = function(){ bc.excelExport(); };
	}
	
	if (this.config.gridImport) {
		var $$btnImport = $$.create("INPUT", {type: "button", value: SideMLManager.get("common.importExcel")}, "csc-dt-importbtn");
		$$leftTD.appendChild($$btnImport);
		
		$$btnImport.onclick = function() {
			
			var $$div = $$.create("DIV", {"id":"excel_import_popup"});
			var $$tbl = $$.create("TABLE", {}, undefined, {width: "300px"}, $$div);
			var $$tr1 = $$.create("TR", {}, undefined, undefined, $$tbl);
			var $$td1_1 = $$.create("TD", {}, undefined, undefined, $$tr1);
			var $$td1_2 = $$.create("TD", {}, undefined, undefined, $$tr1);
			var $$tr2 = $$.create("TR", {}, undefined, undefined, $$tbl);
			var $$td2_1 = $$.create("TD", {colspan: "2"}, undefined, undefined, $$tr2);
			
			if(bc.config.gridImportCheckbox){
				$$td1_1.innerHTML = SideMLManager.get("common.clearTable");
				var $$appendCheckbox = $$.create("INPUT", {type: "checkbox", id: "excel_import_clear_checkbox"}, undefined, undefined, $$td1_2);
			}
			var $$buton = $$.create("INPUT", {type: "button",id: "excel_import_doneButton", value:SideMLManager.get("common.done")}, "csc-button", undefined, $$td2_1);
			var $$description = $$.create("SPAN", undefined, "csc-rospan", undefined, $$div);
			$$description.innerHTML = SideMLManager.get("common.importExcelWarning");
			
			var $$textarea = $$.create("TEXTAREA", {"id":"excel_import_contentTextarea"}, ["excel-import-textarea"], {"width":"100%", "height":"405px"}, $$div);
			$$buton.onclick = function() {
				var tableClearCheckbox = $$.byid("excel_import_clear_checkbox");
				var tableClearChecked = false;
				if(tableClearCheckbox){
					tableClearChecked = tableClearCheckbox.checked;
				}
				excelImportPopup.close();
				bc.bf.fire("onbeforeexcelimport");
				var rows = $$textarea.value.split("\n");
				if(rows[rows.length-1] == "")
					rows.pop();
				
				var memberNames = [];
				var typeNames = [];
				var currencyConfigs;
				for(var mname in bc.bf.members){
					var mem = bc.bf.members[mname];
					if(mem.bcRef.typeName !== "CSC-HIDDEN" && mem.isVisible()){
						memberNames.push(mname);
						typeNames.push(mem.bcRef.typeName);
					}
					if(mem.bcRef.typeName == "CSC-CURRENCY" && mem.isVisible() && !currencyConfigs){
						var memid = bc.bf.members[mname].getConfig().id;
						if(memid){
							var dom = $$.byid(memid);
							for(var i=0; dom && i<dom.attributes.length; i++){
								if(dom.attributes[i].nodeName.indexOf("data")!= -1){
									if(!currencyConfigs){
										currencyConfigs = {};
									}
									currencyConfigs[dom.attributes[i].nodeName] = dom.attributes[i].nodeValue;
								}
							}
						}
					}
				}
				
				var newRows = [];
				for(var i=0; i<rows.length;i++){
					var newRow = {};
					var cols = rows[i].split("\t");
					if(bc.onexcelimport){
						cols = bc.onexcelimport(cols, rows[i]);
						if(!cols){
							continue;
						}
					}
					for(var j=0; j<memberNames.length; j++){
						if(cols[j]){
							if(typeNames[j] == "CSC-CURRENCY"){
								$$body = document.getElementsByTagName("BODY")[0];
								var $$tempAutonumeric = $$.create("SPAN", currencyConfigs, undefined, undefined, $$body);
								var $tempAutonumeric = $($$tempAutonumeric);
								$tempAutonumeric.autoNumeric("init", {aForm: false})
								$tempAutonumeric.html(cols[j]);
								var unformattedValue = $tempAutonumeric.autoNumeric("get");
								$tempAutonumeric.remove();
								newRow[memberNames[j]] = unformattedValue;
							} else if(typeNames[j] == "CSC-DYN-COMBOBOX" || typeNames[j] == "CSC-COMBOBOX"){
								var bcRef = bc.bf.members[memberNames[j]];
								var options = bcRef.getOptions();
								for(var k=0; k<options.length; k++){
									if(cols[j] == options[k].text){
										newRow[memberNames[j]] = options[k].value;
										break;
									}
								}
							} else {
								newRow[memberNames[j]] = cols[j];
							}
						}
					}
					newRows.push(newRow);
				}
				if(tableClearChecked){
					bc.bf.clear();	
				}
				bc.bf.add(newRows, {readonly: bc.config.readonly});
				bc.bf.fire("onExcelImport-complated");
				bc.reRender();
			};
			
			var excelImportPopup = new CSSimplePopup($$div, {dontRemove: false, title: SideMLManager.get("common.importExcel"), width: 750, height: 550, closeOnEscape:true});

			excelImportPopup.open();
		};
	}

	if(config.page && !bc.showAll){
		var $$div = $$.create("div", {id: this.config.id+"-div"}, "csc-dt-paging-div");
		$$centerTD.appendChild($$div);
		
		var lastPage = Math.ceil(total / this.config.pageNum);
		var $$spanToplamSayfa = $$.create("span");
		if (this.bf.$CS$.ds) {
			$$spanToplamSayfa.innerHTML = " /" + (Math.ceil(total / this.config.pageNum) || 1) + " ";
		} else {
			$$spanToplamSayfa.innerHTML = " /" + (Math.ceil(this.bf.tmembers.length / this.config.pageNum) || 1) + " ";
		}
		var bc = this;
		
		
		var $$spanFirst = $$.create("span", undefined, "csc-dt-paging-btn csc-dt-seek-first");
		var $$spanPrev = $$.create("span", undefined, "csc-dt-paging-btn csc-dt-seek-prev");
		if(page == 1){
			$$.addClass($$spanFirst, "csc-dt-paging-btn-disabled");
			$$.addClass($$spanPrev, "csc-dt-paging-btn-disabled");
		} else {
			$$spanPrev.onclick = function(){
				if (bc.bf.$CS$.ds) {
					if(bc.onpaging){
						bc.bf.fire("onpaging", page-1);
						return;
					}
				}
				bc.bf.gotoPage(page-1);
			};
			$$spanFirst.onclick = function(){
				if (bc.bf.$CS$.ds) {
					if(bc.onpaging){
						bc.bf.fire("onpaging", 1);
						return;
					}
				}
				bc.bf.gotoPage(1);
			};
		}
		var $$spanSayfa = $$.create("span");
		$$spanSayfa.innerHTML = SideMLManager.get("common.page");
		var $$input = $$.create("span", {type: "text", contenteditable:true}, "csc-dt-paging-text");
		$$input.innerHTML = page;
		$$input.onkeydown = function(event){
			if(event.keyCode == 13){
				var value = parseInt(this.innerHTML);
				if(value >= 1 && value <= lastPage){
					if (bc.bf.$CS$.ds) {
						if(bc.onpaging){
							bc.bf.fire("onpaging", value);
							return;
						}
					}
					bc.bf.gotoPage(value);
				} else {
					this.innerHTML = page;
				}
				return false;
			}
			//37 ->Right, 39 ->Left, 46-> Del, 8-> Backspace  
			if(event.keyCode != 37 && event.keyCode != 39 && event.keyCode != 46 && event.keyCode != 8 && (event.keyCode < 48 || event.keyCode > 58) && (event.keyCode < 96 || event.keyCode > 106)){
				return false;
			}
			return true;
		};
		$$input.onpaste = function(){
			return false;
		};
		
		$$div.appendChild($$spanFirst);
		
		
		var $$spanNext = $$.create("span", undefined, "csc-dt-paging-btn csc-dt-seek-next");
		var $$spanEnd = $$.create("span", undefined, "csc-dt-paging-btn csc-dt-seek-last ");
		$$div.appendChild($$spanFirst);
		$$div.appendChild($$spanPrev);
		$$div.appendChild($$spanSayfa);
		$$div.appendChild($$input);
		$$div.appendChild($$spanToplamSayfa);
		$$div.appendChild($$spanNext);
		$$div.appendChild($$spanEnd);
		
		if(page >= lastPage){
			$$.addClass($$spanNext, "csc-dt-paging-btn-disabled");
			$$.addClass($$spanEnd, "csc-dt-paging-btn-disabled");
		} else {
			$$spanNext.onclick = function(){
				if (bc.bf.$CS$.ds) {
					if(bc.onpaging){
						bc.bf.fire("onpaging", page+1);
						return;
					}
				}
				bc.bf.gotoPage(page+1);
			};
			$$spanEnd.onclick = function(){
				if (bc.bf.$CS$.ds) {
					if(bc.onpaging){
						bc.bf.fire("onpaging", lastPage);
						return;
					}
				}
				bc.bf.gotoPage(lastPage);
			};
		}
		
		$$spanPagingInfo = $$.create("DIV", undefined, "csc-dt-paging-info");
		//&nbsp; karakteri wrap eden yeri özellikle belirlemek kullanıldı
		$$spanPagingInfo.innerHTML = (((page-1)*this.config.pageNum)+1)+ "&nbsp;-&nbsp;" +(total<((page)*this.config.pageNum) ? total: ((page)*this.config.pageNum))+SideMLManager.get("common.pagingFooter")+ total;
		$$rightTD.appendChild($$spanPagingInfo);
		
		if(bc.config.editPageNum && !bc.showAll){
			var $$editPageRowCountText = $$.create("SPAN", undefined, undefined, {marginLeft: "6px"});
			var $$editPageRowCountBox = $$.create("SPAN", {contenteditable:"true", type:"text"}, "csc-table-paging-text");
			
			$$editPageRowCountBox.onkeydown = function(event){
				if(event.keyCode == 13){
					var value = parseInt(this.innerHTML);
					if(value >= 0){	
						bc.setPageRowCount(value);
					} else {
						this.innerHTML = bc.getPageRowCount();
					}
					bc.bf.fire("pageRowCountChanged", value);
					return false;
				}
			};
			
			$$editPageRowCountBox.innerHTML = this.getPageRowCount();
			$$editPageRowCountText.innerHTML = SideMLManager.get(this, "onEachPage");
			$$spanPagingInfo.appendChild($$editPageRowCountText);
			$$spanPagingInfo.appendChild($$editPageRowCountBox);
		}
	}
	
	if(!config.page && total != 0 && this.config.noRowSum !== true){
		if(!$$spanPagingInfo){
			$$spanPagingInfo = $$.create("DIV", undefined, "csc-dt-paging-info");
		}
		if(this.config.page){
			//&nbsp; karakteri wrap eden yeri özellikle belirlemek kullanıldı
			$$spanPagingInfo.innerHTML = (((page-1)*this.config.pageNum)+1)+ "&nbsp;-&nbsp;" +(total<((page)*this.config.pageNum) ? total: ((page)*this.config.pageNum))+SideMLManager.get("common.pagingFooter")+ total;
		} else {
			$$spanPagingInfo.innerHTML = SideMLManager.get("common.total") + "&nbsp" + total +"&nbsp" + SideMLManager.get("common.records");
		}
		$$rightTD.appendChild($$spanPagingInfo);
	} 
	
};

BC.prototype.prepareCSS = function($$table, pwidth){
	var config = this.config, $$css, meta = this.metadata, cinfo = this.cinfo;
	$$.remove("dt-css-"+config.id);
	$$css = document.createElement('style');
	$$css.type = 'text/css';
	$$css.rel = 'stylesheet';
	$$css.id = 'dt-css-'+config.id;
	$$.head().appendChild($$css);
	var css = "",left=0,bwidths = [0,0], bwidth = $$.getComputedBorders($$table);
	
	var absTotal = 0, relTotal = 0, relatives = [];
	
	for(var c=0; c<meta.rows[meta.refRowIndex].length ;c++){
		var model = meta.rows[meta.refRowIndex][c];
		if(model.visible === false){
			continue;
		}
		if(typeof model.width == "string" && model.width.indexOf("px") > 0){
			model.absoluteWidth = parseInt(model.width, 10);
			absTotal += model.absoluteWidth;
		} else {
			model.relativeWidth = parseInt(model.width, 10);
			relTotal += model.relativeWidth;
			relatives.push(model);
		}
	}
	
	var diff = pwidth - absTotal - bwidth;
	if(config.vscroll){
		diff -= this.scwidth;
	}
	if(meta.hover){
		diff -= DT_HOVER_WIDTH;
	}
	if(meta.rowNumbers){
		diff -= DT_RN_WIDTH;
	}
	if(meta.selectable){
		diff -= DT_SEL_WIDTH;
	}
	var relativeRates = [], mins=[];
	for(var i=0; i<relatives.length ;i++){
		relativeRates.push(parseInt(relatives[i].relativeWidth, 10));
		mins.push(parseInt(relatives[i].minw, 10));
	}
	var absoluteWidths = SIDEMath.proportionalShare2(diff, relativeRates, mins);
	for(var i=0; i<relatives.length ;i++){
		var min = parseInt(relatives[i].minw,10) || DT_DEFAULT_MIN_WIDTH;
		if(absoluteWidths[i] < min){
			relatives[i].relativeWidth = min;
		} else {
			relatives[i].relativeWidth = absoluteWidths[i];
		}
	}
	absTotal = 0;
	for(c=0; c<meta.rows[meta.refRowIndex].length ;c++){
		var model = meta.rows[meta.refRowIndex][c];
		if(model.visible === false){
			continue;
		}
		absTotal += (model.absoluteWidth || model.relativeWidth);
	}
	
	var columnCounter = 0, leftWidth=0, rightWidth=0, n=0;
	if(meta.hover){
		css += "#"+config.id +" .c"+(columnCounter)+".cell {width:"+(DT_HOVER_WIDTH)+"px;left:"+leftWidth+"px;}\n";
		css += "#"+config.id +" .c"+(columnCounter++)+".cell > .in-cell{width:"+(DT_HOVER_WIDTH)+"px;}\n";
		leftWidth += DT_HOVER_WIDTH;
		cinfo[n++].width = DT_HOVER_WIDTH;
	}
	if(meta.rowNumbers){
		css += "#"+config.id +" .c"+(columnCounter)+".cell {width:"+(DT_RN_WIDTH)+"px;left:"+leftWidth+"px;}\n";
		css += "#"+config.id +" .c"+(columnCounter++)+".cell > .in-cell{width:"+(DT_RN_WIDTH)+"px;}\n";
		leftWidth += DT_RN_WIDTH;
		cinfo[n++].width = DT_RN_WIDTH;
	}
	if(meta.selectable){
		css += "#"+config.id +" .c"+(columnCounter)+".cell {width:"+(DT_SEL_WIDTH)+"px;left:"+leftWidth+"px;}\n";
		css += "#"+config.id +" .c"+(columnCounter++)+".cell > .in-cell{width:"+(DT_SEL_WIDTH)+"px;}\n";
		leftWidth += DT_SEL_WIDTH;
		cinfo[n++].width = DT_SEL_WIDTH;
	}
	
	for(var i=0; i<meta.rows[meta.refRowIndex].length ;i++){
		var colMeta = meta.rows[meta.refRowIndex][i];
		if(colMeta.visible === false){
			continue;
		}
		var cw = (colMeta.absoluteWidth || colMeta.relativeWidth);
		//if(colMeta.absoluteWidth){
		css += "#"+config.id +" .c"+columnCounter+".cell{width:"+cw+"px;left:"+rightWidth+"px;}\n";
		css += "#"+config.id +" .c"+columnCounter+".cell > .in-cell{width:"+cw+"px;}\n";
		//}
		cinfo[n++].width = cw;
		if(colMeta.mname == meta.treeColumn){
			leftWidth += cw;
		} else {
			rightWidth += cw;
		}
		columnCounter++;
	}
	this.rwidth = rightWidth;
	this.bwidth = bwidth;
	//set left right head/body widths
	css += "#"+config.id +" .csc-dt-lhead{width:"+(leftWidth)+"px;}\n";
	css += "#"+config.id +" .csc-dt-lbody{width:"+(leftWidth)+"px;}\n";
	css += "#"+config.id +" .csc-dt-rhead{width:"+(pwidth-(leftWidth+bwidth+(config.vscroll ? this.scwidth : 0)))+"px;}\n";
	css += "#"+config.id +" .csc-dt-rbody{width:"+(pwidth-(leftWidth+bwidth+(config.vscroll ? this.scwidth : 0)))+"px;}\n";
	$$css.innerHTML = css;
	
};


BC.prototype.postCSS = function($$table, pwidth, widths, $$lh_tds, $$rh_tds, $$rb_trs){
	var bc=this, 
    config=bc.config, 
    $$css, 
    meta = bc.metadata, 
    cinfo = bc.cinfo;
	var $$css = $$.byid("dt-css-"+config.id), css = $$css.innerHTML;
	var left=0,bwidths = [0,0], bwidth = bc.bwidth, headerHeight=0, $$td, $$tds, $$incell;
	
	var absTotal = 0, relTotal = 0, relatives = [];
	
	for(var c=0; c<meta.rows[meta.refRowIndex].length ;c++){
		var model = meta.rows[meta.refRowIndex][c];
		if(model.visible === false){
			continue;
		}
		if(typeof model.width == "string" && model.width.indexOf("px") > 0){
			model.absoluteWidth = parseInt(model.width, 10);
			absTotal += model.absoluteWidth;
		} else {
			model.relativeWidth = parseInt(model.width, 10);
			relTotal += model.relativeWidth;
			relatives.push(model);
		}
	}
	
	var diff = pwidth - absTotal - bwidth, tdCounter=0;
	if(config.vscroll){
		diff -= this.scwidth;
	}
	if(meta.hover){
		diff -= widths[tdCounter++];
	}
	if(meta.rowNumbers){
		diff -= widths[tdCounter++];
	}
	if(meta.selectable){
		diff -= widths[tdCounter++];
	}
	var relativeRates = [], mins=[];
	for(var i=0; i<relatives.length ;i++){
		relativeRates.push(parseInt(relatives[i].relativeWidth, 10));
		mins.push(relatives[i].realMinw);
	}
	var absoluteWidths = SIDEMath.proportionalShare2(diff, relativeRates, mins);
	for(var i=0; i<relatives.length ;i++){
		var min = relatives[i].realMinw || parseInt(relatives[i].minw,10) || DT_DEFAULT_MIN_WIDTH;
		if(absoluteWidths[i] < min){
			relatives[i].relativeWidth = min;
		} else {
			relatives[i].relativeWidth = absoluteWidths[i];
		}
	}
	absTotal = 0;
	for(c=0; c<meta.rows[meta.refRowIndex].length ;c++){
		var model = meta.rows[meta.refRowIndex][c];
		if(model.visible === false){
			continue;
		}
		absTotal += (model.absoluteWidth || model.relativeWidth);
	}
	
	var columnCounter = 0, leftWidth=0, rightWidth=0, n=0;
	if(meta.hover){
		css += "#"+config.id +" .c"+(columnCounter)+".cell {width:"+(DT_HOVER_WIDTH)+"px;left:"+leftWidth+"px;}\n";
		css += "#"+config.id +" .c"+(columnCounter++)+".cell > .in-cell{width:"+(DT_HOVER_WIDTH)+"px;}\n";
		leftWidth += DT_HOVER_WIDTH;
		cinfo[n++].width = DT_HOVER_WIDTH;
	}
	if(meta.rowNumbers){
		css += "#"+config.id +" .c"+(columnCounter)+".cell {width:"+(DT_RN_WIDTH)+"px;left:"+leftWidth+"px;}\n";
		css += "#"+config.id +" .c"+(columnCounter++)+".cell > .in-cell{width:"+(DT_RN_WIDTH)+"px;}\n";
		leftWidth += DT_RN_WIDTH;
		cinfo[n++].width = DT_RN_WIDTH;
	}
	if(meta.selectable){
		css += "#"+config.id +" .c"+(columnCounter)+".cell {width:"+(DT_SEL_WIDTH)+"px;left:"+leftWidth+"px;}\n";
		css += "#"+config.id +" .c"+(columnCounter++)+".cell > .in-cell{width:"+(DT_SEL_WIDTH)+"px;}\n";
		leftWidth += DT_SEL_WIDTH;
		cinfo[n++].width = DT_SEL_WIDTH;
	}
	
	for(var i=0; i<meta.rows[meta.refRowIndex].length ;i++){
		var colMeta = meta.rows[meta.refRowIndex][i];
		if(colMeta.visible === false){
			continue;
		}
		var cw = (colMeta.absoluteWidth || colMeta.relativeWidth);
		if(!colMeta.absoluteWidth && $$rh_tds[tdCounter-bc.leftCellCount]){
			$$td = $$rh_tds[tdCounter-bc.leftCellCount];
			$$incell = $$.child($$td, "DIV");
			if($$td && $$incell){
				if($$incell.offsetWidth > cw){
					cw = $$incell.offsetWidth;
				}
				$$incell.style.width =  cw+"px";
			}
		}
		widths[tdCounter++] = cw;
		css += "#"+config.id +" .c"+columnCounter+".cell{width:"+cw+"px;left:"+rightWidth+"px;}\n";
		css += "#"+config.id +" .c"+columnCounter+".cell > .in-cell{width:"+cw+"px;}\n";
		cinfo[n++].width = cw;
		if(colMeta.mname == meta.treeColumn){
			leftWidth += cw;
		} else {
			rightWidth += cw;
		}
		columnCounter++;
	}
	this.rwidth = rightWidth;
	this.bwidth = bwidth;
	
	//fix header heights using calculated widths
	for(k=0; k<$$lh_tds.length ;k++){
		$$td = $$lh_tds[k];
		$$incell = $$.child($$td, "DIV");
		$$incell.style.width = widths[k]+"px";
		if($$incell.offsetHeight > headerHeight){
			headerHeight = $$incell.offsetHeight;
		}
	}
	for(k=0; k<$$rh_tds.length ;k++){
		$$td = $$rh_tds[k];
		$$incell = $$.child($$td, "DIV");
		$$incell.style.width = widths[k+bc.leftCellCount]+"px";
		if($$incell.offsetHeight > headerHeight){
			headerHeight = $$incell.offsetHeight;
		}
	}
	
	css += "#"+config.id +" .csc-dt-rhead, #"+config.id +" .csc-dt-lhead {height:"+headerHeight+"px;}\n";
	css += "#"+config.id +" .hrow{height:"+headerHeight+"px;}\n";
	css += "#"+config.id +" .hrow .cell > .in-cell{height:"+headerHeight+"px;}\n";
	
	//set left right head/body widths
	css += "#"+config.id +" .csc-dt-lhead{width:"+(leftWidth)+"px;}\n";
	css += "#"+config.id +" .csc-dt-lbody{width:"+(leftWidth)+"px;}\n";
	css += "#"+config.id +" .csc-dt-rhead{width:"+(pwidth-(leftWidth+bwidth+(config.vscroll ? this.scwidth : 0)))+"px;}\n";
	css += "#"+config.id +" .csc-dt-rbody{width:"+(pwidth-(leftWidth+bwidth+(config.vscroll ? this.scwidth : 0)))+"px;}\n";
	$$css.innerHTML = css;

	//Fix body heights according to new widths
	for(var i=0; i<$$rb_trs.length; i++){
		maxHeight = 0;
		$$tds = $$.childs($$rb_trs[i]);
		var rowid = $$rb_trs[i].getAttribute("rowid");
		for(var k=0; k<$$tds.length ;k++){
			$$td = $$tds[k];
			$$incell = $$.child($$td, "DIV");
			mname = $$td.getAttribute("mn");
			mmeta = cinfo[k+bc.leftCellCount].rmeta;
			if(maxHeight < $$incell.offsetHeight){
				maxHeight = $$incell.offsetHeight;
			}
			if(mmeta.mname != mname){
				continue;
			}
		}
		if(i == 0){
			rowHeight = config.style.rowHeight || maxHeight;
			css += "#"+config.id +" .rs{height:"+rowHeight+"px;}\n";
			css += "#"+config.id +" .r0{height:"+rowHeight+"px;}\n";
			css += "#"+config.id +" .rs .cell{height:"+rowHeight+"px;}\n";
			css += "#"+config.id +" .rs .cell > .in-cell{height:"+rowHeight+"px;}\n";
		}
		if(!config.fixHeight){//herkez aynı yüksekliği kullansın mı
			css += "#"+config.id +" .r" + rowid+"{height:"+maxHeight+"px;}\n";
			css += "#"+config.id +" .r" + rowid+" .cell {height:"+maxHeight+"px;}\n";
			css += "#"+config.id +" .r" + rowid+" .cell > .in-cell{height:"+maxHeight+"px;}\n";
		}
	}
	$$css.innerHTML = css;
};
BC.prototype.fixTable = function(){
	var bc=this, bf=bc.bf, config=bc.config, style=config.style, meta = bc.metadata, cinfo=bc.cinfo;
	var $$table = bc.$$table, $$title=bc.$$title, $$action=bc.$$action, $$lhead=bc.$$lhead, $$rhead=bc.$$rhead, $$lbody = bc.$$lbody, $$rbody = bc.$$rbody, $$footer=bc.$$footer, $$vscroll=bc.$$vscroll, $$hscroll=bc.$$hscroll;

	if(!$$.width($$table)){
		return;//Non-visible state (display: none;)
	}

	this.saveScrollPosition();
	
	if(!bc.scwidth || bc.scwidth < 5){
		bc.scwidth = $$.getScrollBarWidth($$table);
	}
	bc.prepareCSS($$table, this.pwidth, config.vscroll ? this.scwidth : 0);
	var $$css = $$.byid("dt-css-"+config.id), css = $$css.innerHTML;
	var leftWidth=0, maxHeight=0, rowHeight=0, headerHeight=0;
	
	//Header cell gerçek genişliklerini (scrollWidth) bul
	var $$lh_trs = $$.childs($$lhead, "DIV");
	var $$rh_trs = $$.childs($$rhead, "DIV");
	var tdWidths = [];
	
	var rowmeta = meta.rows[0];
	
	//Calculate left header widths and max header height
	var $$lh_tds = $$.childs($$lh_trs[0]), $$td, mname, mmeta, $$incell;
	for(var k=0; k<bc.leftCellCount ;k++){
		$$td = $$lh_tds[k];
		$$incell = $$.child($$td, "DIV");
		if(!$$td || !$$incell){//header yok
			tdWidths[k] = cinfo[k].width;
		} else {
			if($$td.offsetHeight > headerHeight){
				headerHeight = $$td.offsetHeight;
			}
			mname = $$td.getAttribute("mn");
			mmeta = cinfo[k].rmeta;
			if(!config.woverflow && mmeta && mmeta.absoluteWidth){
				tdWidths[k] = mmeta.absoluteWidth;
			} else {
				tdWidths[k] = $$incell.offsetWidth;
			}
		}
	}
	//Calculate right header widths and max header height
	var $$rh_tds = $$.childs($$rh_trs[0]);
	for(var k=0; k<$$rh_tds.length ;k++){
		$$td = $$rh_tds[k];
		$$incell = $$.child($$td, "DIV");
		mname = $$td.getAttribute("mn");
		mmeta = cinfo[k+bc.leftCellCount].rmeta;
		if($$td.offsetHeight > headerHeight){
			headerHeight = $$td.offsetHeight;
		}
		if(mmeta && mmeta.fixWidth){
			tdWidths[k+bc.leftCellCount] = mmeta.width;
		} else {
			tdWidths[k+bc.leftCellCount] = $$incell.offsetWidth;
		}
		if(mmeta && (mmeta.realMinw||0) < $$incell.offsetWidth){
			mmeta.realMinw = $$incell.offsetWidth;
		}
	}
	
	//body cell gerçek genişliklerini (scrollWidth) bul
	//TODO Burada bütün satırların standart olduğu varsayılıyor. Çoklu satır tasarımı da ele alınmalı
	var $$lb_trs = $$.childs($$lbody, "DIV");
	var $$rb_trs = $$.childs($$rbody, "DIV");
	for(var i=0; i<$$rb_trs.length; i++){
		maxHeight = 0;
		if($$lbody){
			var rowid = $$lb_trs[i].getAttribute("rowid");
			var $$tds = $$.childs($$lb_trs[i]);
			for(var k=0; k<$$tds.length ;k++){
				$$td = $$tds[k];
				$$incell = $$.child($$td, "DIV");
				mname = $$td.getAttribute("mn");
				mmeta = cinfo[k].rmeta;
				if(maxHeight < $$td.offsetHeight){
					maxHeight = $$td.offsetHeight;
				}
				if((!mmeta || (!mmeta.absoluteWidth && !config.woverflow)) && $$incell.offsetWidth > (tdWidths[k] || 0)){
					tdWidths[k] = $$incell.offsetWidth;
					if(mmeta){
						mmeta.realMinw = $$incell.offsetWidth;
					}
				}
				if(!tdWidths[k]){
					tdWidths[k] = ($$incell || $$td).offsetWidth;
				}
			}
		} else {
			var rowid = $$rb_trs[i].getAttribute("rowid");
		}
		$$tds = $$.childs($$rb_trs[i]);
		for(var k=0; k<$$tds.length ;k++){
			$$td = $$tds[k];
			$$incell = $$.child($$td, "DIV");
			mname = $$td.getAttribute("mn");
			mmeta = cinfo[k+bc.leftCellCount].rmeta;
			if(maxHeight < $$td.offsetHeight){
				maxHeight = $$td.offsetHeight;
			}
			if(mmeta.mname != mname){
				continue;
			}
			if(mmeta && !mmeta.absoluteWidth && !config.woverflow && $$incell.offsetWidth > (tdWidths[k+bc.leftCellCount] || 0)){
				tdWidths[k+bc.leftCellCount] = $$incell.offsetWidth;
			}
			if(!tdWidths[k+bc.leftCellCount]){
				tdWidths[k+bc.leftCellCount] = ($$incell || $$td).offsetWidth;
			}
			if(mmeta && (mmeta.realMinw||0) < $$incell.offsetWidth){
				mmeta.realMinw = $$incell.offsetWidth;
			}
		}
		if(i == 0){
			rowHeight = config.style.rowHeight || maxHeight;
			css += "#"+config.id +" .rs{height:"+rowHeight+"px;}\n";
			css += "#"+config.id +" .r0{height:"+rowHeight+"px;}\n";
			css += "#"+config.id +" .rs .cell{height:"+rowHeight+"px;}\n";
			css += "#"+config.id +" .rs .cell > .in-cell{height:"+rowHeight+"px;}\n";
		}
		if(!config.fixHeight){//herkez aynı yüksekliği kullansın mı
			css += "#"+config.id +" .r" + rowid+"{height:"+maxHeight+"px;}\n";
			css += "#"+config.id +" .r" + rowid+" .cell {height:"+maxHeight+"px;}\n";
			css += "#"+config.id +" .r" + rowid+" .cell > .in-cell{height:"+maxHeight+"px;}\n";
		}
	}
	for(i=0; i<bc.leftCellCount ;i++){
		leftWidth += tdWidths[i];
	}
	
	var widthTotal = 0, n=0;
	for(var i=0; i<tdWidths.length ;i++){
		cinfo[i].width = tdWidths[i];
		if(i<bc.leftCellCount){
			css += "#"+config.id +" .c"+(i)+".cell{width:"+(tdWidths[i])+"px;left:"+widthTotal+"px;}\n";
			css += "#"+config.id +" .c"+(i)+".cell > .in-cell{width:"+(tdWidths[i])+"px;}\n";
		} else {
			css += "#"+config.id +" .c"+(i)+".cell {width:"+(tdWidths[i])+"px;left:"+(widthTotal-leftWidth)+"px;}\n";
			css += "#"+config.id +" .c"+(i)+".cell > .in-cell{width:"+(tdWidths[i])+"px;}\n";
		}
		widthTotal += tdWidths[i] || 0;
	}
	
	//col span
	css += "#"+config.id +" .cs.cell {width:"+(widthTotal)+"px;left:"+(0)+"px;}\n";
	css += "#"+config.id +" .cs.cell > .in-cell{width:"+(widthTotal)+"px;}\n";
	
	$$css.innerHTML = css;
	
	bc.postCSS($$table, this.pwidth, tdWidths, $$lh_tds, $$rh_tds, $$rb_trs);
	
	var widthTotal=0, rwidth=0;
	for(var i=0; i<tdWidths.length ;i++){
		if(i>=bc.leftCellCount){
			rwidth += tdWidths[i] || 0;
		}
		widthTotal += tdWidths[i] || 0;
	}
	
	if($$vscroll){
		widthTotal += bc.scwidth;
	}
	
	if(widthTotal > $$table.offsetWidth+3){//hor scroll gerekli mi? TODO mahmuty +3 efinans tarafındaki hata için geçici olarak koyuldu kaldırılmalı
		$$hscroll.style.display = "block";
		$$table.setAttribute("cs-horsc", "yes");
		bc.$$hscrollInner.style.width = (rwidth + ($$lbody ? $$lbody.offsetWidth:0)) +(config.vscroll ? bc.scwidth : 0)+"px";
		$$hscroll.onscroll = function(){
			$$rhead && ($$rhead.scrollLeft = $$hscroll.scrollLeft);
			$$rbody && ($$rbody.scrollLeft = $$hscroll.scrollLeft);
			if(bc.$$totalRowInner){ bc.$$totalRow.scrollLeft = $$hscroll.scrollLeft; }
		};
	} else {
		$$table.setAttribute("cs-horsc", "no");
		$$hscroll.style.display = "";
		//console.log("fw: " + widthTotal +" off: "+$$table.offsetWidth);
		var bwidth = $$.getComputedBorders($$table);//TODO mahmuty yukarıdaki if'e de bwidth eklenmeli mi
		if(widthTotal == $$table.offsetWidth-bwidth){
			$$table.setAttribute("cs-full-width", "yes");
		} else {
			$$table.setAttribute("cs-full-width", "no");
		}
	}
	if($$rbody){
		$$rbody.onscroll = function(){
			if($$hscroll){
				$$hscroll.scrollLeft = $$rbody.scrollLeft;
				$$.fireEvent($$hscroll, "scroll");
			}
			if(bc.$$vscroll){
				bc.$$vscroll.scrollTop = $$rbody.scrollTop;
				$$.fireEvent(bc.$$vscroll, "scroll");
			}
		};
	}
	
	if(bc.$$totalRowInner){
		$$.css(bc.$$totalRow, "marginLeft", (($$lbody?$$lbody.offsetWidth:1)-1)+"px");
		var scrollSize = 0;
		if($$vscroll){
			scrollSize = $$.height($$hscroll);
			$$.css(bc.$$totalRowContainer, "marginRight", (scrollSize)+"px");
		}

		$$.css(bc.$$totalRowInner, "width", (widthTotal-leftWidth-scrollSize)+"px");
	}

	var $$head = ($$rhead || $$lhead);
	var borderWidths = $$.getComputedBorders($$table, true);//slt üst border widths
	var bodyHeight = bc.bodyHeight || (bc.mheight - ($$title ? $$title.offsetHeight : 0) - ($$action ? $$action.offsetHeight : 0) - ($$head ? $$head.offsetHeight : 0) - ($$footer ? $$footer.offsetHeight : 0) - (widthTotal > $$table.offsetWidth ? bc.scwidth : 0) - borderWidths);
	if(style.height || style.heightByRows){
		$$lbody && ($$lbody.style.height = bodyHeight+"px");
		$$rbody.style.height = bodyHeight+"px";
	}
	if(style.minHeight){
		var other = (($$title ? $$title.offsetHeight : 0) + ($$head ? $$head.offsetHeight : 0) + ($$action ? $$action.offsetHeight : 0) + ($$footer ? $$footer.offsetHeight : 0) + (widthTotal > $$table.offsetWidth ? bc.scwidth : 0) + borderWidths);
		if(bc.nodatatext && (style.minHeight-other) < 40){
			$$rbody.style.minHeight = "40px";
			$$lbody && ($$lbody.style.minHeight = "40px");
		} else {
			$$rbody.style.minHeight = (style.minHeight-other) +"px";
			$$lbody && ($$lbody.style.minHeight = (style.minHeight-other)+"px");
		}
	}
	
	if($$vscroll){
		if(bc.mheight < $$table.offsetHeight){
			$$vscroll.style.display = "block";
		} else {
			$$vscroll.style.display = "";
		}
		
		$$rbody.style.maxHeight = bodyHeight+"px";//fix'te bu değer hesaplanıp düzeltiliyor
		$$lbody && ($$lbody.style.maxHeight = bodyHeight+"px");//fix'te bu değer hesaplanıp düzeltiliyor
		
		$$vscroll.style.width = bc.scwidth+"px";
		$$vscroll.style.height = (($$rhead? $$rhead.offsetHeight:0) + $$rbody.offsetHeight)+"px";
		$$vscroll.childNodes[0].style.height = (($$rhead? $$rhead.offsetHeight:0) +$$rbody.scrollHeight)+"px";
	}
	bc.bindHeaderEvents($$table, $$rhead);
	bc.renderTotalRow();
	if(config.noFooter !== true){
		this.renderFooter();
	}
	$$.fireEvent($$hscroll, "scroll");
	
	this.loadScrollPosition();
};

BC.prototype.saveScrollPosition = function() {
	var $$dom = $$.byid(this.config.id);
	if(!$$dom){
		return;
	}
	if(!this.scrollInfos){
		this.scrollInfos = [];
	}
	var scrollInfo = {};
	scrollInfo.parent = $$dom.parentNode;
	if($$dom){
		while(scrollInfo.parent){
			if(scrollInfo.parent.scrollTop > 0){
				scrollInfo.scrollTop = scrollInfo.parent.scrollTop;
				break;
			}
			scrollInfo.parent = scrollInfo.parent.parentNode;
		}
	}
	
	this.scrollInfos.push(scrollInfo);
}

BC.prototype.loadScrollPosition = function() {
	if(!this.scrollInfos){
		return;
	}
	var scrollInfo = this.scrollInfos.pop();
	if(scrollInfo.parent){
		scrollInfo.parent.scrollTop = scrollInfo.scrollTop;
	}
	
	if(this.scrollInfos.length == 0){
		delete this.scrollInfos;
	}
}

BC.prototype.getCellWidth = function(memberName) {
	var bc=this, cinfo = bc.cinfo;
	if(!cinfo){
		return 100;
	}
	for(var i=0; i<cinfo.length ;i++){
		if(cinfo[i].rows && cinfo[i].rows[0].mname){
			return cinfo[i].width;
		}
	}
	return 100;
};

//class bilgileri row üzerinde tutulduğu için ayrıca bu bc üzerinde saklamaya gerek yok
BC.prototype.addClass = function(rowid, classes) {
	var bc=this;
	var $$tr = $$.getChildHasAttr(bc.$$lbody, "rowid", rowid);
	if($$tr){
		$$.addClass($$tr, classes);
	}
	$$tr = $$.getChildHasAttr(bc.$$rbody, "rowid", rowid);
	if($$tr){
		$$.addClass($$tr, classes);
	}
};

BC.prototype.styleRow = function(rowid, style) {
	if(!style || typeof style != "object"){
		return;
	}
	var bc=this, css = bc.rowStyles[rowid],$$tr,$$tds,i,s;
	if(!css){
		css = {};
		bc.rowStyles[rowid] = css;
	}
	for(s in style){
		css[s] = style[s];
	}
	
	$$tr = $$.getChildHasAttr(bc.$$lbody, "rowid", rowid);
	$$tds = $$.childs($$tr, "DIV");
	for(i=0; i<$$tds.length ;i++){
		$$.css($$tds[i], style);
	}
	$$tr = $$.getChildHasAttr(bc.$$rbody, "rowid", rowid);
	$$tds = $$.childs($$tr, "DIV");
	for(i=0; i<$$tds.length ;i++){
		$$.css($$tds[i], style);
	}
};

BC.prototype.highlightRow = function(rowid, color) {
	this.styleRow(rowid, {backgroundColor : color || "#C3D3EA" });
};

BC.prototype.setPageRowCount = function(rowCount){
	this.config.pageNum = rowCount || 10;
	this.bf.gotoPage(1);
};

BC.prototype.setExcelFileName = function(filename){
	this.efl = filename;
};

BC.prototype.setExcelModule = function(moduleName){
	this.excelModule = moduleName;
};

BC.prototype.formatTotal = function(sum){
	if(!this.totalRow || !this.totalRow.getConfig().totalFormat){
		return SIDEMath.formatDecimal(sum.toString(), 2);
	}
	if(this.totalRow.getConfig().totalFormat == "curr1"){//Binlik(,), ondalık(.)
		sum = SIDEMath.formatDecimal(sum.toString(), 2);
		var th = sum.substring(0, sum.length-3);
		var thstr = "", decstr = sum.substring(sum.indexOf(".")+1);
		var mod = th.length%3;
		if(mod == 0){
			mod=3;
		}
		for(var i=mod; i<=th.length ; i+=3){
			thstr += th.substring(i-3,i);
			if(i != th.length){
				thstr += ",";
			}
		}
		return thstr+"."+decstr;
	}
	
	if(this.totalRow.getConfig().totalFormat == "curr2"){//Binlik(,), ondalık yok.
		sum = Math.round(sum);
		sum = SIDEMath.formatDecimal(sum, 0);
		var thstr = "";
		var mod = sum.length%3;
		if(mod == 0){
			mod=3;
		}
		for(var i=mod; i<=sum.length ; i+=3){
			thstr += sum.substring(i-3,i);
			if(i != sum.length){
				thstr += ",";
			}
		}
		return thstr;
	}
};

BC.prototype.setNodata = function(flag){
	var bc=this,config=bc.config;
	bc.nodatatext = config.nodata || DT_NO_DATA_TEXT;
	
	var $$nodata = $$.byid(config.id+"-nodata");
	var $$span = $$.child($$nodata, "SPAN");
	if($$span){
		$$span.innerHTML = bc.nodatatext;
		if(bc.$$rbody){
			bc.$$rbody.style.minHeight = "40px";
		}
		$$nodata.style.top = (bc.$$title ? bc.$$title.offsetHeight:0)+(bc.$$action ? bc.$$action.offsetHeight :0)+(bc.$$rhead ? bc.$$rhead.offsetHeight :0);
	}
};

BC.prototype.setNoDataText = function(text){
	this.config.nodata = text;
};

BC.prototype.mask = function(text){
	//TODO implement edilecek
};

BC.prototype.unmask = function(){
	//TODO implement edilecek
};
BC.prototype.group = function(fieldName, collapse){
	//TODO implement edilecek
};
BC.prototype.getSortInfo = function(){
	//TODO implement edilecek
};
BC.prototype.getColModelMeta = function(){
	return this.userMeta;
};
BC.prototype.setColModelMeta = function(userMeta){
	this.userMeta = userMeta;
};
BC.prototype.showButton = function(buttonName, flag){
	//TODO implement edilecek
};
BC.prototype.cancelAdd = function(){
	if(this.cadd === false){
		this.bf.deleteRow(this.addedRowid);
	}
	this.cadd = true;
};
BC.prototype.cancelDelete = function(){
	this.cdel = true;
};
BC.prototype.hideActionBar = function(){
	this.config.showActionButtons = false;
	BFEngine.renderRequest(this.bf);
};

BC.prototype.load = function(){
	this.bf.fire("onload");
};

BC.prototype.destroybc = function(){
	$$.remove("dt-css-"+this.config.id);
};

BC.prototype.onExcelImport = function(callback){
	this.onexcelimport = callback;
};

BC.prototype.getCurrentPage = function(){
	if (this.bf.$CS$.ds) {
		return this.bf.$CS$.ds.page;
	}
	return this.pnumber || 1;
};

BC.prototype.bindEvent = function(eventName, callback) {
	if (eventName == "selected") {
		var dom = byid(this.config.id);
		if (dom) {
			dom.onclick = callback;
		}
	} else if (eventName == "drop"  || eventName == "ondrop") {
		var dom = byid(this.config.id);
		if (dom) {
			dom.ondrop = callback;
			$$.bindEvent(dom, "dragover", function (ev){ev.preventDefault(); });//drop olayının çalışması için
		}
	} else if (eventName == "dragover") {
		var dom = byid(this.config.id);
		if (dom) {
			dom.ondragover = callback;
		}
	} else if (eventName == "onpaging") {
		this.onpaging = true;
	}
};

BC.prototype.setExcelConfig = function(config){
	/**
	 * Excel Export işlemi için özel ayarlar verilmesini sağlar.
	 * @param [config] Configleri içeren JSON Objesidir.
	 * 	- templatePath: Excel şablonunun bulunduğu konumdur. side-support-gridexport.jar'ın çalıştığı uygulama sunucusuna verilen "side-excel-template-path" parametresine eklenir.
	 * 	- templateMap: Excel şablonunundaki keyleri map ile replace edilmesini sağlar. keylerin başına özel keyler verilerek davranışlar özelleştirile bilir.
	 * 		- $imgPath.logo : Template içerisindeki $key.logo yazılı yere $imgPath.logo ile verilen path'teki resmi ekler. side-support-gridexport.jar'ın çalıştığı uygulama sunucusuna verilen "side-excel-template-path" parametresine eklenerek tam path oluşturulur.
	 * 
	 * 	Örnek config:
	 * 		{
	 * 			templatePath: "templateCategory1/template1.xlsx",
	 * 			templateMap: 
	 * 				{
	 * 					"$imgPath.myLogo": "cybersoftLogo.png"
	 * 					"$key.address": "Bilkent Cyberpark"
	 * 				}
	 * 		}
	 */
	
	this.excelConfig = config;
};
})(window);
/////=csc-basic-form.js=/////
(function(window, undefined) {
/** 
 * @class CSC-BASIC-FORM-LAYOUT 
 */
function Definition(CS) {
	this.DEFAULTS = {
		twodots: true,
		forceColWidth: true
	};

	this.BaseBF = "CONTAINER";
	this.LABEL = "Basic Form Layout"; 
	this.METHODS = [ "collapse", "expand", "mask", "unmask", "setColumnWidths(widths)", "setColumnCount(count)" ];
	this.EVENTS = [ "selected", "oncontextmenu", "onEnterPressed", "onload", "oninit(param)", "closeIconSelected" , "onexpand(expanded)", "ondrop", "ondragstart(member)" ];
	this.DEPENDENCIES = [ {
		name : "JQuery",
		version : "2.0.3"
	} ];

	this.Type = function() {
	};
}
var def = new Definition();
def.Type.prototype = new BaseBC();
BCEngine.registerType("CSC-BASIC-FORM", def);

var BC = def.Type;


BC.prototype.renderRequiredMember = function(member, flag) {
	if(member){
		var labelid = member.getConfig().id+"-lbl";
		var $$dom = $$.byid(labelid);
		if($$dom){
			var $$tdLeft = $$dom.parentNode;
			if(flag){
				$$.addClass($$tdLeft, "required");
			}else{
				$$.rmClass($$tdLeft, "required");
			}			
		}
	}
};

BC.prototype.render = function($container) {
	var bc = this, bf = bc.bf, config=bc.config;
	var colWidth = config.colWidth;// "30,50-40,60" şeklinde

	var scrolledParent = $$.findScrolledParent($$.byid(config.id));
	var scrollTop = scrolledParent ? scrolledParent.scrollTop : 0;
	
	// create form container and set attributes and styles
	var $$formContainer = $$.create("DIV",{id: config.id}, ["csc-form-container", config.cssClass], config.style);
	var $$formTable = $$.create("TABLE", null, "csc-form-table");
	if(config.style && config.style.width){
		$$formTable.style.width = "100%";
	}
	
	if (inDesigner(this.bf)) {
		$$formContainer.style.display = "";
	} else {
		$$formContainer.style.display = this.config.visible ? "" : "none";
	}
    if(sideDebugLevel() > 1){
        $$formContainer.setAttribute("rel-def",bf.getBusinessName());
    }

	var titleType = this.config.titleType || "none";
	if (titleType == "window") {
		var $$titleDiv = $$.create("DIV", null, "csc-form-title");
		var $$titleSpan = $$.create("SPAN", null, [this.config.titleIcon, this.config.titleClass]);
		$$titleSpan.innerHTML = this.config.title || "";
		$$titleDiv.appendChild($$titleSpan);
		
		if (this.config.collapsible === true) {
			var $$collapseBtn = $$.create("INS", null, "collapse");
			$$collapseBtn.onclick = function() {
				if (bc.collapsed) {
					bf.expand();
				} else {
					bf.collapse();
				}
			};
			$$titleDiv.appendChild($$collapseBtn);
			if(this.config.collapsePos === "left"){
				$$.addClass($$titleDiv, "csc-form-title-collapse-left"); 
			}
		}
		if(this.config.showCloseIcon){
			var $$closeBtn = $$.create("ins", null, "close");
			$$closeBtn.onclick = function() {
				bc.bf.fire("closeIconSelected");
			};
			$$titleDiv.appendChild($$closeBtn);
		}
		$$formContainer.appendChild($$titleDiv);
		$$.addClass($$formTable, "csc-bordered-container");
		$$formContainer.appendChild($$formTable);
	} else if (titleType == "fieldset" || titleType == "bfieldset") {
		var $$fieldSet = $$.create("FIELDSET", null, ["csc-form-fieldset", titleType == "bfieldset" ? "borderless-fieldset":null]);
		var $$legend = $$.create("LEGEND");
		if (config.collapsible === true && config.showTitle !== false) {
			$$.addClass($$legend, "collapse");

			$$legend.onclick = function() {
				if (bc.collapsed) {
					bf.expand();
				} else {
					bf.collapse();
				}
			};
			$$legend.innerHTML = "<span>"+ (config.title || "&nbsp;") + "<span>";
			$$fieldSet.appendChild($$legend);
		} else if (config.title && config.showTitle !== false) {
			$$legend.innerHTML = "<span>"+ config.title + "<span>";
			$$fieldSet.appendChild($$legend);
		} else {
			$$.addClass($$fieldSet, "csc-form-fieldset-nolegend");
		}
		if(config.bottomBorder === false){
				$$.addClass($$fieldSet, "no-bottom-border");
		}
		$$fieldSet.appendChild($$formTable);
		$$formContainer.appendChild($$fieldSet);
	} else if (titleType === undefined || titleType == "none") {
		$$.addClass($$formContainer, "csc-bordered-box");
		$$formContainer.appendChild($$formTable);
	}

	$container.appendChild($$formContainer);

	var colNumber = 1;// default column number of form is 1
	if (config.colNumber && config.colNumber > 0) {
		colNumber = config.colNumber;
	}
	var counter = 0, $$formRow = null, colWidthArray = [];
	if (colWidth) {
		colWidthArray = colWidth.split("-");
		if(config.forceColWidth){
			var fullColWidths = colWidth.split(/-|,/),minWidth=0;
			for(var i=0; i<fullColWidths.length ;i++){
				minWidth += parseInt(fullColWidths[i]);
			}
			if(colWidth.indexOf("-")<0 && config.colNumber > 1){
				minWidth = minWidth*config.colNumber;
			}

			$$formContainer.style.minWidth = minWidth+"px";
		}
	} else {
		colWidthArray = [ (30 / colNumber) + "," + (70 / colNumber) ];
	}

	var isWideR = config.wideContainer || false;
	
	for ( var memberName in bf.members) {
		var colWidthArrayWithComma = [];
		if (colWidthArray.length > 0) {
			colWidthArrayWithComma = colNumber == colWidthArray.length ? colWidthArray[counter % colNumber].split(",") : colWidthArray[0].split(",");
		}

		var member = bf.members[memberName];
		if (member.bcRef.typeName == "CSC-POPUP") {
			continue;// popup ise çizme devam et
		}
		if (!inDesigner(bf) && !member.isVisible()) {
			continue;
		}
		
		var config = member.getConfig();

		var wRCond = (isWideR && (member.isTabular() || member.isContainer()));
		
		if ((counter % colNumber) === 0 || wRCond) {
			$$formRow = $$.create("TR", null, "csc-form-row");
			$$formTable.appendChild($$formRow);// append formRow to Form Container
		}

		if(!wRCond){
			// Create a Row's left(label) cell and set its class
			var $$tdLeft = $$.create("TD", null, "csc-form-row-left");
			$$formRow.appendChild($$tdLeft);// append left cell to Main Row

			var config = member.getConfig();
			if (config.label && (inDesigner(bf) || member.hasVisibleItem())) {
				var labelid = member.bcRef.getLabelId ? member.bcRef.getLabelId() : config.id;
				var $$label = $$.create("LABEL", {id: config.id + "-lbl"}, ["csc-form-label", config.label_class]);
				var twoDots=this.config.twodots && config.label ? ":" : "";
				$$label.innerHTML = config.label + twoDots;
				if(config.labelClick!==false){
					$$label.setAttribute("for",labelid);
				}
				if(config.tips){
					$$label.title = config.tips;
				}
				if(member.isRequired()) {
					$$.addClass($$tdLeft, "required");
				}
				$$tdLeft.appendChild($$label);// -------------------------> Append span to row's left cell
				$$label = null;
			}
		}

		// create row's right (component) cell and set its class
		var $$tdRight = $$.create("TD", {rel: memberName}, "csc-form-row-right");
		
		if(wRCond){
			$$.attr($$tdRight, "colspan", colNumber*2);
			counter = counter - counter%(colNumber*2)-1;
		}else{
			if (colWidthArrayWithComma.length > 1) {
				var colwidth = colWidthArrayWithComma[0];
				if (colwidth.indexOf("px") < 0) {
					colwidth = colwidth + "%";
				}
				$$tdLeft.style.width = colwidth;
				if((counter+1) % colNumber != 0){//En sağdaki td'ye width verme çünkü browser'ın orantılamasına sebep oluyor
					var colwidth = colWidthArrayWithComma[1];
					if (colwidth.indexOf("px") < 0) {
						colwidth = colwidth + "%";
					}
					$$tdRight.style.width = colwidth;
				}
			}
		}
		$$formRow.appendChild($$tdRight);

		if(config.draggable){
			var dragstartCallback = function(member){
				return function(event){
					var memName = member.$CS$.name;
					console.log("form layout on drag start, member name:" + memName);
					event.stopPropagation();
					bc.bf.fire("ondragstart", memName);	
				};
			}(member);
			$$tdRight.setAttribute("draggable", "true");
			$$.bindEvent($$tdRight, "dragstart", dragstartCallback);
		}
		
		// append the bf member to right row container
		BFEngine.render(member, $$tdRight);
		if (member.bcRef && bf.inlineValidationAvailable()) {
			var $$valImg = $$.create("IMG", {id : config.id + "-val", src : "css/bc-style/img/val_error.gif"}, "val-img");
			if (member.bcRef.renderInlineVal) {
				member.bcRef.renderInlineVal($$valImg);
			} else {
				$$tdRight.appendChild($$valImg);
			}
		}
		counter++;
	}
	// Add remaining cells if exists
	if (counter % colNumber > 0) {
		for ( var remainingCell = (colNumber - (counter % colNumber)); remainingCell > 0; remainingCell--) {
			$$formRow.appendChild($$.create("TD", null, "csc-form-row-left"));
			$$formRow.appendChild($$.create("TD", null, "csc-form-row-right"));
		}
	}

	if (config.collapsible === true) {
		if (this.collapsed) {
			this.collapse();
		} else {
			this.expand();
		}
	}

	this.applyAddedClasses();// Apply css classes added by user
	
	if(scrolledParent){
		scrolledParent.scrollTop = scrollTop;
	}
	
	if(config.maskIt){
		this.mask();
	}
};

/**
 * @function setColumnWidths
 * @description Paneldeki sütunların genişliklerini ayarlar.
 * @param [widths] Sütun genişliği
 */
BC.prototype.setColumnWidths = function(widths) {
	this.config.colWidth = widths;
	BFEngine.renderRequest(this.bf);
};

/**
 * @function setColumnCount
 * @description Panelin kaç sütundan oluşacağını belirler.
 * @param [count] Sütun sayısı
 */
BC.prototype.setColumnCount = function(count) {
	this.config.colNumber = count;
	BFEngine.renderRequest(this.bf);
};

/**
 * @function mask
 * @description Panele bir mesaj içeren koyu renkli "Yükleniyor" maskesi koymaya yarar.
 * @param [message] Maskenin üstünde yazan mesaj
 */
BC.prototype.mask = function(message) {
	var id = this.config.id;

	var $$gen = $$.byid(id);
	if(!$$gen){
		this.config.maskIt = true;
		return;
	}
	var $$maskDiv = $$.create("DIV",{"id": id + "-mask"}, "maskDiv", {"width": $$.innerWidth($$gen)+"px", "height": $$.innerHeight($$gen)+"px"});

	var $$loadingDiv = $$.create("DIV", undefined, "maskedLoadInfo");

	var $$img = $$.create("IMG", {"src": "css/bc-style/img/loadmaskicon.gif"});
	var $$span = $$.create("SPAN");
	$$span.innerHTML = message;
	
	$$loadingDiv.appendChild($$img);
	$$loadingDiv.appendChild($$span);
	$$maskDiv.appendChild($$loadingDiv);
	
	var $$parent = $$gen.parentNode;
	$$parent.insertBefore($$maskDiv, $$gen);
	
	$$.css($$loadingDiv, {"margin-left": $$.innerWidth($$gen) / 2 - $$.innerWidth($$loadingDiv) / 2+"px", "margin-top": $$.innerHeight($$gen) / 2 - $$.innerHeight($$loadingDiv) / 2+"px"});
};

BC.prototype.unmask = function() {
	/**
     * @description Panele konulan mesaj içerikli maskeyi kaldırmaya yarar.
     * @function unmask
     */
	$$dom = $$.byid(this.config.id+"-mask");
	$$.remove($$dom);
	this.config.maskIt = undefined;
};

BC.prototype.collapse = function() {
	/**
     * @description Paneli sadece başlığı gözükecek şekilde (varsa) kapatır. 
     * @function collapse
     */
	var $$container = $$.byid(this.config.id);
	if(this.config.titleType == "fieldset" || this.config.titleType == "bfieldset"){
		var $$fieldset = $$.child($$container,"fieldset");
		$$.toggleClass($$.child($$fieldset, "legend"), "expand", "collapse");//-------------> legend'in class'ını değiştir
		$$.toggleClass($$fieldset, "expanded", "collapsed");//-------------> fieldset'in class'ını değiştir TODO: legend'de eklenmiş sınıf yerine fieldset'i kullan ve gerecek css değişikliğini tüm temalarda yap.
		$$.css($$.getChildHasClass($$fieldset, "csc-form-table"), "display", "none");//-----> içeriği kapat
		$$.css($$fieldset, "height", 9);
	} else if(this.config.titleType == "window"){
		var $$ins = $$.query($$container, [{tagName: "DIV", clazz: "csc-form-title"}, {tagName: "INS"}]);
		$$.toggleClass($$ins, "expand", "collapse");//--------------------------------------> legend'in class'ını değiştir
		$$.css($$.getChildHasClass($$container, "csc-form-table"), "display", "none");//----> içeriği kapat
	}
	this.collapsed = true;
	this.bf.fire("onexpand", false);
};

BC.prototype.expand = function() {
	/**
	 * @function expand
     * @description Kapalı paneli, içerdiği elemanlar gözükecek şekilde aşağıya doğru açar. Açık panelde bir değişiklik yapmaz.
     */
	var bc=this, config=bc.config, $$container = $$.byid(config.id);
	if(config.titleType == "fieldset" || config.titleType == "bfieldset"){
		var $$fieldset = $$.child($$container,"fieldset");
		$$.toggleClass($$.child($$fieldset, "legend"), "collapse", "expand");//-------------> legend'in class'ını değiştir
		$$.toggleClass($$fieldset, "collapsed", "expanded");
		$$.css($$.getChildHasClass($$fieldset, "csc-form-table"), "display", "");//-----> içeriği kapat
		if($$fieldset){
			$$fieldset.style.height = "";
		}
	} else if(config.titleType == "window"){
		var $$ins = $$.query($$container, [{tagName: "DIV", clazz: "csc-form-title"}, {tagName: "INS"}]);
		$$.toggleClass($$ins, "collapse", "expand");//--------------------------------------> legend'in class'ını değiştir
		$$.css($$.getChildHasClass($$container, "csc-form-table"), "display", "");//----> içeriği kapat
	}
	
	bc.collapsed = false;
	bc.bf.fire("onexpand", true);
	
	BFEngine.DRL(bc.bf);
};

BC.prototype.beforeDRL = function(mname) {
	var $$container = $$.byid(this.config.id);
	if(!$$container){
		return;
	}
	if(this.config.titleType == "fieldset" || this.config.titleType == "bfieldset"){
		$$container = $$.child($$container,"fieldset");
	}
	var $$table = $$.child($$container,"table");
	$$table.style.width = "100%";
};
BC.prototype.DRL = function(mname) {
	var $$container = $$.byid(this.config.id);
	if(!$$container){
		return;
	}
	if(this.config.titleType == "fieldset" || this.config.titleType == "bfieldset"){
		$$container = $$.child($$container,"fieldset");
	}
	var $$table = $$.child($$container,"table");
	$$table.style.width = "";
};

BC.prototype.getChildContainer = function(mname) {
	var $$container = $$.byid(this.config.id);
	if(!$$container){
		return;
	}
	if(this.config.titleType == "fieldset" || this.config.titleType == "bfieldset"){
		$$container = $$.child($$container,"fieldset");
	}
	var $$table = $$.child($$container,"table");
	var $$tbody = $$.child($$table, "tbody");
	if(!$$tbody){
		$$tbody = $$table;
	}
	var $$trs = $$.childs($$tbody, "TR");
	for(var i=0; i<$$trs.length ;i++){
		var $$tds = $$.childs($$trs[i],"TD");
		for(var k=0; k<$$tds.length ;k++){
			if($$tds[k].getAttribute("rel") == mname){
				return $$tds[k];
			}
		}
	}
};

BC.prototype.setTitle = function(title){
	this.config.title = title;
	var $$container = $$.byid(this.config.id);
	if(this.config.titleType == "window") {
		var $$spanTitle = $$.query($$container, [{tagName: "div", clazz: "csc-form-title"}, {tagName: "span"}]);
		if($$spanTitle){
			$$spanTitle.innerHTML = title;
		}
	} else if(this.config.titleType == "fieldset" || this.config.titleType == "bfieldset") {
		var $$spanTitle = $$.query($$container, [{tagName: "fieldset"}, {tagName: "legend"}, {tagName: "span"}]);
		if($$spanTitle){
			$$spanTitle.innerHTML = title;
		}
	}
};

BC.prototype.load = function() {
	if (this.onloadcallback) {
		this.onloadcallback();
	}
};

BC.prototype.bindEvent = function(eventName, callback) {
	if (eventName == "selected") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.onclick = callback;
		}
	}else if (eventName == "oncontextmenu") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.oncontextmenu = callback;
		}
	} else if (eventName == "drop" || eventName == "ondrop") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.ondrop = callback;
			$$.bindEvent(dom, "dragover", function (ev){ev.preventDefault();});//drop olayının çalışması için
		}
	} else if (eventName == "dragover") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.ondragover = callback;
		}
	} else if (eventName == "onload") {
		this.onloadcallback = callback;
	} else if (eventName == "onEnterPressed") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.onkeypress = function(e) {
				if (e.keyCode == 13) {
					callback();
				}
			};
		}
	}
};


})(window);
/////=csc-cs-metin.js=/////
(function(window, undefined) {
/**
 * @class CSC-TEXTBOX 
 * @classdesc Temel textox bileşeni
 */
function Definition() {
	this.DEFAULTS = {
		sql : true,
		roEmptyValue: "-----",
		emptyValue: "",
		focusable: true,
		disabledKey: "disabled"
	};

	this.BaseBF = "BASIC";
	this.LABEL = "Metin"; 
	
	this.METHODS = [ "focus", "setEmptyValue(value)", "setMaxLength(maxLength)", "setDefaultValue(value)" ];
	this.EVENTS = [ "changed()", "selected()", "blur()", "fihrist()", "keyup", "onfocus()" ];
	this.DISABLE_EVENTS = [ "selected" ];

	this.DEPENDENCIES = [ {name : "underscore", version : "1.3.3" } ];//bf engine için gerekli underscore

	this.Type = function() {};
}
var def = new Definition();
def.Type.prototype = new BaseBC();
BCEngine.registerType("CSC-CS-METIN", def);

var BC = def.Type;

/**
 * @function setEmptyValue
 * @description Textbox bileşene bir değer verilmediği durumda ekranda gösterilecek değeri belirler.
 * @param [value] alana bir değer verilmediği durumda ekranda gösterilecek değer
 */
BC.prototype.setEmptyValue = function(value) {
	this.config.emptyValue = value;
};

BC.prototype.setDefaultValue = function(value) {
    /**
     * @function setDefaultValue
     * @description Textbox bileşene bir değer verilmediği durumda bileşenin varsayılan değeri belirler.
     * @param [value] alana verilen varsayılan değer
     */
	this.config.defaultValue = value;
}

BC.prototype.clear = function() {
	this.setValue(this.config.defaultValue || "");
}

BC.prototype.getValue = function() {
	var bc=this, config=bc.config, $$dom = $$.byid(config.id);
	var result;
	if ($$dom && $$dom.tagName == "INPUT") {
		result = $$dom.value;
	} else {
		result = config.value;
	}
	if(result === null || result === undefined || result === ""){
		return config.emptyValue;
	}
	return result;
};

BC.prototype.setValue = function(value) {
	if(value === null || undefined === value){
		value = "";
	}
	var bc=this, config=bc.config, $$dom = $$.byid(config.id);
	config.value = value;
	if ($$dom) {
		if($$dom.tagName == "INPUT"){
			$$dom.value = value;
		} else {//readonly durumu
			if(config.roInnerText){
				$$dom.innerText = value;
			} else {
				$$dom.innerHTML = value;
			}
		}
	}
	
	if($$dom && config.filter == "upper"){
		if($$dom.tagName == "INPUT"){
			$$dom.value = SIDEString.turkishToUpperCase(value);
		} else {
			if(config.roInnerText){
				$$dom.innerText = SIDEString.turkishToUpperCase(value);
			} else {
				$$dom.innerHTML = SIDEString.turkishToUpperCase(value);
			}
		}
	}
	
	if($$dom && config.filter == "upperEnglish"){
		if($$dom.tagName == "INPUT"){
			$$dom.value = SIDEString.turkishToEngUpperCase(value);
		} else {
			if(config.roInnerText){
				$$dom.innerText = SIDEString.turkishToEngUpperCase(value);
			} else {
				$$dom.innerHTML = SIDEString.turkishToEngUpperCase(value);
			}
		}
	}
	
	var activeChangedEvent = SideDefaults[SideModuleManager.getLocalModuleName()]["support-changed-event-on-setvalue"];
	if( activeChangedEvent || activeChangedEvent == "true" ){
		bc.bf.fire("changed");
	}
};

BC.prototype.saveState = function(){
	this.config.value = this.getValue();
};

BC.prototype.focus = function(){
	$$txt = $$.byid(this.config.id);
	if($$txt && $$txt.focus){
		$$txt.focus();
	}
};

BC.prototype.setMaxLength = function(maxLength) {
    /**
     * @function setMaxLength
     * @description Textbox'a kullanıcının girebileceği karakter limitini belirler
     * @param [maxLength] kullanıcının girebileceği karakter limiti
     */
	this.config.maxLength = maxLength;
}

BC.prototype.render = function($container) {
	var bc = this, bf=bc.bf, config=bc.config, style = config.style;
	var readonly = bf.isReadonly();
	if(readonly){
		var $$span = $$.create("span", {"id": config.id, title:config.tips}, ["csc-rospan",config.cssClass], style);
		if(!inDesigner(bf) && bc.clickBinded && !bf.isDisabled()){
			$$.addClass($$span, "csc-textbox-linked");
		}
		if(config.value === undefined || config.value === null || config.value === ""){
			$$span.innerHTML = config.roEmptyValue || config.defaultValue || "";				
		} else {
			$$span.innerHTML = config.value;
		}
		if (inDesigner(bf) && bf.getModuleName() == "side") {
			$$span.style.display = "";
			$$span.innerHTML = config.roEmptyValue || "Readonly";
			$$.addClass($$span, "csc-readonly");
		}
		if(!style || !style.whiteSpace){
			$$span.style.whiteSpace = "normal";
		}
		if(style && style.whiteSpace == "non"){
			$$span.style.whiteSpace = "";
		}
		$$.css($$span, "display", bf.isVisible() ? "" : "none");
		
		$container.appendChild($$span);
	} else {
		var $$input = $$.create("input", {id: config.id, type: "text", tabindex: config.tabIndex, title:config.tips, size: config.size, placeholder: config.placeholder}, ["csc-textbox",config.cssClass], style);
		if(bf.isDisabled()){
			$$input.setAttribute(config.disabledKey,config.disabledKey);
		}
        if(config.value === undefined || config.value === null || config.value === ""){
            $$input.setAttribute("value", config.defaultValue === undefined ? "" : config.defaultValue);
        } else {
            $$input.setAttribute("value", config.value);
        }
		if(config.maxLength){
			$$input.setAttribute("maxlength",config.maxLength);
		}
		
		var $$fihristDiv = null;
		if(config.fihrist){
			$$fihristDiv = $$.create("div");
			$$.css($$fihristDiv, "display", bf.isVisible() ? "" : "none");
			var $$fihristBtn = $$.create("input",{id:config.id+"-fh",type:"button", value:"..."},"csc-fihrist-btn");
			$$fihristDiv.appendChild($$input);
			$$fihristDiv.appendChild($$fihristBtn);
		} else {
			$$.css($$input, "display", bf.isVisible() ? "" : "none");
		}
		
		$$.css($$input, style);
		// Design Time da visible yap
		if(inDesigner(bf)){
			$$.css($$input, "display","");
		}
		
		if(bf.isRequired()){
			$$.addClass($$input, "csc-required");
		}
		
		if(config.fihrist){
			$container.appendChild($$fihristDiv);
		} else {
			$container.appendChild($$input);
		}
		if(config.filter == "upper"){
			$$.bindEvent($$input, "keyup", function(e){
				var caretPosition = this.selectionStart;
		        $$input.value = SIDEString.turkishToUpperCase($$input.value);
		        this.setSelectionRange(caretPosition, caretPosition);
		        bc.changedFlag = true;
			});
		}
		if(config.filter == "upperEnglish"){
			$$.bindEvent($$input, "keyup", function(e){
				var caretPosition = this.selectionStart;
				$$input.value = SIDEString.turkishToEngUpperCase($$input.value);
				this.setSelectionRange(caretPosition, caretPosition);
				bc.changedFlag = true;
			});
		}
		if(config.filterRegex){
			$$.bindEvent($$input, "keypress", function(e){
				if (isInIt([186,188,190,219,221,222], e.which)) {
					return true;
				}
				var input = String.fromCharCode(e.which);
				try {
					var regex = new RegExp(config.filterRegex);
					if(!regex.test(input)){
						e.preventDefault();
						return false;
					}
				}catch(ex){
					e.preventDefault();
					return false;
				}
			});
		}
		if(config.sql || config.filter == "number"){
			$$.bindEvent($$input, "keypress", function(e){
				if(config.sql){
					if (e.which == 37 || e.which == 91 || e.which == 93 || e.which == 95  || e.which == 94) {
						e.preventDefault();
						return false;
					}
				}
				if(config.filter == "number"){
					if(e.charCode == 0){//backspace, tab, del vs
						return true;
					}
					if(e.charCode < 48 || e.charCode > 57){//[0..9]
						e.preventDefault();
						return false;
					}
				}
			});
		}
		$$input.onpaste = function(e){
			try {
				var data = "";
				if(e.clipboardData){
					data = e.clipboardData.getData('text/plain');
					
				} else if (window.clipboardData) {
					data = window.clipboardData.getData('Text');
				}
				if(config.sql){
					if(/[\^_\[\]\%]/g.test(data)){
						return false;
					}
				}
				if(config.filter == "number"){
					for(var i=0; i<data.length ;i++){
						if(data.charAt(i) < '0' || data.charAt(i) > '9'){
							return false;
						}
					}
				} else if(config.filter == "upper"){
					e.clipboardData.setData('text/plain', SIDEString.turkishToUpperCase(data));
					return true;
				} else if(config.filter == "upperEnglish"){
					e.clipboardData.setData('text/plain', SIDEString.turkishToEngUpperCase(data));
					return true;
				}
				if(config.filterRegex){
					var regex = new RegExp(bc.config.filterRegex);
					for(var c=0;c<data.length;c++){
						if(!regex.test(data[c])){
							return false;
						}
					}
				}
			} catch(ex) {
				return false;
			}
		};
			
		bc.applyInlineValidation($$input);
	}
	bc.applyAddedClasses();//Apply css classes added by user
};

BC.prototype.bindEvent = function(eventName, callback) {
	var bc = this, $$dom = $$.byid(bc.config.id);
	if(!$$dom && eventName != "selected"){
		return;
	}
	if (eventName == "changed") {
		$$dom.onchange = callback;
	} else if (eventName == "selected") {
		bc.clickBinded = true;
		if ($$dom) {
			$$dom.onclick = callback;
			if(!inDesigner(bc.bf) && $$dom.tagName == "SPAN" && !bc.bf.isDisabled()){
				$$.addClass($$dom, "csc-textbox-linked");
			}
		}
	} else if (eventName == "blur") {
		$$dom.onblur = function(e){
			if(bc.changedFlag){//keyup ile müdahele edince changed eventi çağırılmıyor
				bc.changedFlag = false;
				bc.bf.fire("changed");
			}
			callback();//blur callback
		}
	} else if (eventName == "keyup") {
		$$dom.onkeyup = callback;
	} else if (eventName == "fihrist") {
		var $$dom = byid(this.config.id+"-fh");
		if ($$dom) {
			$$dom.onclick = callback;
		}
		this.config.fihrist = true;
	} else if (eventName == "onfocus") {
		$$dom.onfocus = callback;
	}
};



})(window);
/////=csc-html-element.js=/////
(function(window, undefined) {
/**
 * @class CSC-HTML-ELEMENT
 */
BCEngine.registerType("CSC-HTML-ELEMENT", new function() {
	this.METHODS = ["setInnerHTML(str)"];
	this.EVENTS = ["selected", "changed"];
	this.BaseBF = "BASIC";
	this.LABEL = "HTML Element";
	this.Type = function() {
	};
	this.Type.prototype = new BaseBC();

	/**
	 * @function setInnerHTML
     * @description HTML içeriğini ayarlar.
     * @param [str] HTML kodlarının yer aldığı içerik
     */
	this.Type.prototype.setInnerHTML = function(str) {
		this.config.innerHTML = str;
		this.bf.fire("changed");
		this.bf.rerender();
	};

	this.Type.prototype.render = function($container) {
		var $element = $("<div>").attr("id", this.config.id).addClass("csc-html-element").addClass(this.config.cssClass);
		$element.css("display", this.config.visible ? "" : "none");
		$element.css(this.config.style || {});
		if (inDesigner(this.bf)) {
			$element.css("background-image", "url('designer/img/027.gif')");
			$element.css("height", this.config.height || "50px");
		} else {
			$element.html(this.config.innerHTML || "");
		}
		$container.appendChild($element[0]);
	};
	
	this.Type.prototype.bindEvent = function(eventName, callback) {
		if (eventName == "selected") {
			this.clickBinded = true;
			var dom = byid(this.config.id);
			if (typeof dom != "undefined" && dom != null) {
				dom.onclick = callback;
			}
		}
	};
});
})(window);
/////=csc-pagex.js=/////
(function(window, undefined) {
/**
 * @class CSC-PAGEX LAYOUT
 */
function Definition(CS) {
	this.DEFAULTS = {
		cls : "csc-pagex",
		border : false,
		style : {
			width : "800px",
			minHeight : "40px"
		},
		layoutConfig : {
			pageLayout : "rows",
			ref : "window",
			minWidth : 800,
			minHeight : 500
		}
	};

	this.BaseBF = "CONTAINER";
	this.LABEL = "Pagex Layout";

	this.METHODS = [ "getDesignedWidth", "close"];
	this.EVENTS = [ "oninit(param)", "onload", "selected", "onopen(param)", "onclose" ];
	
	this.Type = function() {};
}
var def = new Definition();
def.Type.prototype = new BaseBC();
BCEngine.registerType("CSC-PAGEX", def);
BCEngine.registerType("CSC-PAGE", def);

var BC = def.Type;

var defaultMemberHeight = 100, defaultMinWidth = 250, defaultMinHeight = 40;

BC.prototype.init = function() {
	this.config.layoutConfig.minWidth = parseInt(this.config.layoutConfig.minWidth || defaultMinWidth, 10);
	this.config.layoutConfig.minHeight = parseInt(this.config.layoutConfig.minHeight || defaultMinHeight, 10);
	if (this.config.layoutConfig.pageLayout == "fixed" && !inDesigner(this.bf)) {
		var bc = this;
		window.onresize = function() {
			//Eğer popup açıksa birşey yapma çünkü hesap hatalarına sebep oluyor. PopupContext'in close eventinde yeniden render yap
			if(CSPopupContext.getPopups().length){
				if(bc.popupEventid){//birden fazla event bağlanmaması için
					return;
				}
				bc.popupEventid = CSPopupContext.on("close", function(){
					if(CSPopupContext.getPopups().length){//açık popup kalmışsa birşey yapma
						return;
					}
					bc.popupEventid = null;
					CSPopupContext.unbind(bc.popupEventid);
					bc.renderFixedLayout($$.byid(bc.config.id));
				});
				return;
			}
			var $$dom = $$.byid(bc.config.id);
			if($$dom){
				bc.renderFixedLayout($$dom);
			}
		};
	}
};

BC.prototype.getDesignedWidth = function(){
	/**
	 * @function getDesignedWidth
     * @description Tasarlanan genişliği getirir.
     */
	if (this.config.layoutConfig.width) {
		return this.config.layoutConfig.width;
	} else if (this.config.layoutConfig.minWidth) {
		return this.config.layoutConfig.minWidth;
	}
	return defaultMinWidth;
};

/**
 * @functon close
 * @description Closes the page that is opened as popup or opened in a tab panel or an accordion panel.
 */
BC.prototype.close = function(){
	var parent = this.bf.getParent();
	if(parent && typeof parent.close == "function"){
		parent.close(this.bf.getMemberName());
	}
};

BC.prototype.setTitle = function(title){
	this.config.title = title;
	var parent = this.bf.$CS$.parent;
	if(parent && parent.bcRef.typeName == "CSC-POPUP"){
		parent.setTitle(title);
	}
};

BC.prototype.renderFixedLayout = function($$div) {
	if(!$$div){
		return;
	}
	if (inDesigner(this.bf)) {
		var mainDef = csd.Properties.getMainDef();
		if (!mainDef) {
			return;
		}
	}
	var bf = this.bf;

	if (!this.config.layoutConfig.minWidth || this.config.layoutConfig.minWidth < 100) {
		this.config.layoutConfig.minWidth = defaultMinWidth;
	}
	if (!this.config.layoutConfig.minHeight || this.config.layoutConfig.minHeight < 100) {
		this.config.layoutConfig.minHeight = defaultMinHeight;
	}
	var width = this.config.layoutConfig.minWidth + "px", height = this.config.layoutConfig.minHeight;
	var winWidth = 0, winHeight = 0;
	if (this.config.layoutConfig.ref == "window") {
		if (!inDesigner(this.bf)) {
			var winWidth = $$.innerWidth(window);
			var winHeight = $$.innerHeight(window) - (this.config.layoutConfig && this.config.layoutConfig.ignoreScrollSize ? 0 : 12);//scroll için 12
		} else {
			var mainDef = csd.Properties.getMainDef();
			var winWidth = mainDef.designerConfig.width;
			var winHeight = mainDef.designerConfig.height;
		}
		if (winWidth > this.config.layoutConfig.minWidth) {
			width = "100%";
		}
		if (winHeight > this.config.layoutConfig.minHeight) {
			height = winHeight;
		}
	} else {
		width = this.config.layoutConfig.minWidth + "px";
		height = this.config.layoutConfig.minHeight;
	}
	$$.css($$div, {
		width : width,
	});
	var topTotal = 0, bottomTotal = 0, middle = undefined, bottoms = [];
	for ( var memberName in bf.members) {
		var member = bf.members[memberName];
		if (member.bcRef.typeName == "CSC-POPUP") {
			continue;// popup ise çizme devam et
		}
		if (member.bcRef.typeName == "CSC-PAGE-BOX") {
			var $$warn = $$.create("DIV");
			$$warn.innerHTML = "PAGEBOX layout is no longer supported.";
			$$div.appendChild($$warn);
			continue;
		}
		if (!inDesigner(this.bf) && !member.hasVisibleItem()) {
			continue;
		}
		var memConfig = this.getMemberConfig(member);
		var $$memberDiv = $$.byid(this.config.id + "-" + memberName);
		var rerender = false;
		if (!$$memberDiv) {
			$$memberDiv = $$.create("DIV", {"id": this.config.id + "-" + memberName});
			rerender = true;
		}
		if (memConfig.layoutConfig.placement == "top") {
			var memHeight = memConfig.layoutConfig.height || defaultMemberHeight;
			$$.css($$memberDiv, {
				width : width,
				height : memHeight + "px",
				overflow : memConfig.layoutConfig.overflow || "auto"
			});
			topTotal += parseInt(memHeight, 10);
		} else if (memConfig.layoutConfig.placement == "bottom") {
			bottoms.push(memberName);
			var memHeight = memConfig.layoutConfig.height || defaultMemberHeight;
			bottomTotal += parseInt(memHeight, 10);
			rerender = false;
		} else {// placement ise middle
			if (middle) {
				console.error(memberName + "will not be rendered. Only one middle can be render.");
				continue;
			}
			middle = memberName;
			rerender = false;
		}
		if (rerender) {
			$$div.appendChild($$memberDiv);
			BFEngine.render(member, $$memberDiv);
		} else {
			BFEngine.DRL(member);
		}
	}
	if (middle) {// middle en son çizilmeli (bottomTotal ve topTotal tam olarak belli olmalı)
		var $$memberDiv = $$.byid(this.config.id + "-" + middle);
		var rerender = false;
		if (!$$memberDiv) {
			$$memberDiv = $$.create("DIV", {"id": this.config.id + "-" + middle});
			rerender = true;
		}
		var member = bf.members[middle];
		var memConfig = this.getMemberConfig(member);
		var memHeight = height - (bottomTotal + topTotal);
		$$.css($$memberDiv, {
			width : width,
			overflow : memConfig.layoutConfig.overflow || "auto"
		});
/*		if(memConfig.layoutConfig.fixedHeight !== false){*/
			$$.css($$memberDiv, {height : memHeight + "px"});
/*		}*/
		if (rerender) {
			$$div.appendChild($$memberDiv);
			BFEngine.render(member, $$memberDiv);
		} else {
			BFEngine.DRL(member);
		}
	}
	for(var i=0; i<bottoms.length ;i++){
		var $$memberDiv = $$.byid(this.config.id + "-" + bottoms[i]);
		var rerender = false;
		if (!$$memberDiv) {
			$$memberDiv = $$.create("DIV", {"id": this.config.id + "-" + bottoms[i]});
			rerender = true;
		}
		var member = bf.members[bottoms[i]];
		var memConfig = this.getMemberConfig(member);
		
		var memHeight = memConfig.layoutConfig.height || defaultMemberHeight;
		$$.css($$memberDiv, {
			width : width,
			height : memHeight + "px",
			"z-index" : memConfig.layoutConfig.zindex,
			overflow : memConfig.layoutConfig.overflow || "auto"
		});
		
		if (rerender) {
			$$div.appendChild($$memberDiv);
			BFEngine.render(member, $$memberDiv);
		} else {
			BFEngine.DRL(member);
		}
	}
};

BC.prototype.renderAbsoluteLayout = function($$div) {
	if (inDesigner(this.bf)) {
		var mainDef = csd.Properties.getMainDef();
		if (!csd.Properties.getMainDef()) {
			return;
		}
	}
	// TODO mahmuty
};

// Rows layout
BC.prototype.renderRowsLayout = function($$div) {
	var bf = this.bf;
	$$.css($$div, {
		width : this.config.layoutConfig.width || "auto",
		// height: this.config.layoutConfig.height+"px",
		minWidth : this.config.layoutConfig.minWidth + "px"
	});
	if(this.config.layoutConfig.height){
		$$.css($$div, {
			height: this.config.layoutConfig.height+"px"
		});
	}
//	if(this.config.title){
//		var $$titlediv = $$.create("DIV",undefined,["csc-form-title", "csc-page-title", this.config.titleClass]);
//		var $$titlespan = $$.create("span", undefined, this.config.titleIcon);
//		$$titlespan.innerHTML = this.config.title;
//		$$titlediv.appendChild($$titlespan);
//		$div.append($$titlediv);
//	}
	for ( var memberName in bf.members) {
		var member = bf.members[memberName];
		if (member.bcRef.typeName == "CSC-POPUP") {
			continue;// popup ise çizme devam et
		}
		if (member.bcRef.typeName == "CSC-PAGE-BOX") {
			var $$warn = $$.create("DIV");
			$$warn.innerHTML = "PAGEBOX layout is no longer supported.";
			$$div.appendChild($$warn);
			continue;
		}
		if (!inDesigner(this.bf) && !member.hasVisibleItem()) {
			continue;
		}
		var memConfig = this.getMemberConfig(member);
		var $$memberDiv = $$.create("DIV", {"id": this.config.id + "-" + memberName});
		var memHeight = memConfig.layoutConfig.height ? (memConfig.layoutConfig.height + "px") : "";
		$$.css($$memberDiv, {
			width : "100%",
			height : memHeight,
			overflow : memConfig.layoutConfig.overflow || ""
		});
		$$div.appendChild($$memberDiv);
		BFEngine.render(member, $$memberDiv);
	}
};

BC.prototype.render = function($container) {
	var $$div = $$.create("DIV", {"id": this.config.id}, ["csc-pagex", this.config.cssClass]/*, this.config.style*/);
    if(sideDebugLevel() > 1){
        $$div.setAttribute("rel-def",this.bf.getBusinessName());
    }
	if(!inDesigner(this.bf) && this.config.bodyClass){
		$$.addClass($$.body(), this.config.bodyClass);
	}
	
	
	$container.appendChild($$div);

	if (this.config.layoutConfig.pageLayout == "fixed") {
		this.renderFixedLayout($$div);
	} else if (this.config.layoutConfig.pageLayout == "rows") {
		this.renderRowsLayout($$div);
	}
};

BC.prototype.getChildContainer = function(memberName) {
	return $$.byid(this.config.id + "-" + memberName);
};

BC.prototype.getMemberConfig = function(member) {
	var memConfig = member.getConfig();
	if (!memConfig.layoutConfig) {
		memConfig.layoutConfig = {};
	}
	if (this.config.layoutConfig.pageLayout == "fixed") {
		if (!memConfig.layoutConfig.placement) {
			memConfig.layoutConfig.placement = "top";
		}
	}
	return memConfig;
};

BC.prototype.load = function() {
	if (this.onloadcallback) {
		this.onloadcallback();
	}
};

BC.prototype.bindEvent = function(eventName, callback) {
	if (eventName == "selected") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.onclick = callback;
		}
	} else if (eventName == "drop") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.ondrop = callback;
		}
	} else if (eventName == "dragover") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.ondragover = callback;
		}
	} else if (eventName == "onload") {
		this.onloadcallback = callback;
	}
};
})(window);
/////=csc-radiobutton.js=/////
(function(window, undefined) {
/** @class CSC-RADIOBUTTON */
function Definition(CS) {
	this.DEFAULTS = {
		focusable: true,
        rtype: "boolean"
	};

	this.BaseBF = "BASIC";
	this.LABEL = "RadioButton";

	this.METHODS = [ "getGroupValue", "focus", "changeReturnType(rtype)"];
	this.EVENTS = [ "changed", "selected" ];

	this.DEPENDENCIES = [];

	this.Type = function() {
	};

}
var def = new Definition();
def.Type.prototype = new BaseBC();
BCEngine.registerType("CSC-RADIOBUTTON", def);

var BC = def.Type;

BC.prototype.rmap = {
	"number": [1, 0],
	"boolean": [true, false],
};

BC.prototype.focus = function(){
	/**
	 * @function focus
     * @description Odağı radio button'a alır.
     */
	$$txt = $$.byid(this.config.id);
	if($$txt){
		$$txt.focus();
	}
};

BC.prototype.init = function(){
	var parent = this.bf.$CS$.parent;
	if(parent && this.config.gvalue){
		parent.bcRef.isRadioGroup = true;
	}
};

BC.prototype.getValue = function() {
	var dom = $$.byid(this.config.id);
	if(dom){
		if(dom.checked){
            return this.rmap[this.config.rtype][0];//true
        } else {
            return this.rmap[this.config.rtype][1];//false
        }
	}
    if(this.config.value){
        return this.rmap[this.config.rtype][0];//true
    } else {
        return this.rmap[this.config.rtype][1];//false
    }
};

BC.prototype.getGroupValue = function() {
	/**
	 * @function getGroupValue
     * @description Grup değerini getirir.
     **/
	return this.config.gvalue;
};

BC.prototype.changeGroupValue = function(group) {
	this.config.gvalue = group;
	this.reRender();
};

BC.prototype.changeReturnType = function(rtype){
	/**
	 * @function changeReturnType
     * @description Checkbox'ın döndüğü tipi değiştirir.
     * @param [rtype] Checkbox'ın döndüğü tip. Değer olarak "number" ve "boolean". Dönen değerler number için 1,0; boolean için true,false olur. 
     **/
	this.config.rtype = rtype;
};

BC.prototype.setValue = function(value) {
	this.config.value = value;
	var dom = $$.byid(this.config.id);
	if(dom){
		dom.checked = value;
	}
};
BC.prototype.saveState = function() {
	this.config.value = this.getValue();
};

BC.prototype.render = function($container) {
	var bc=this, bf=bc.bf, config=bc.config;
	var group = config.group === undefined ? false : config.group;
	var disabled = bf.isDisabled();
	var value = config.value ? true:false;
	
	//Aynı group ismine sahip radio butonların birbirine karışmaması için atasının id'si group'a eklendi
	if(group && !config.global && bf.$CS$.parent){
		group = group + "-" +bf.$CS$.parent.getConfig().id;
	}
	
	var $$input = $$.create("INPUT", {id: config.id, type : "radio", name : group,	disabled: disabled, checked : value	}, ["csc-radiobutton", config.cssClass]); 
	$$input.style.display = inDesigner(bf) || bf.isVisible() ? "" : "none";
	$container.appendChild($$input);
};

BC.prototype.bindEvent = function(eventName, callback) {
	var bc=this, $$dom = $$.byid(bc.config.id);
	if(!$$dom){
		return;
	}
	if (eventName == "changed") {
		$$dom.onchange = callback;
	} else if (eventName == "selected") {
		$$dom.onclick = callback;
	}
};
})(window);
/////=csc-listbox.js=/////
(function(window, undefined) {
/** @class CSC-LISTBOX */

function Definition(CS) {
	this.DEFAULTS = {
		disabled : false,
		cls : "csc-listbox"
	};

	this.BaseBF = "BASIC";
	this.LABEL = "List";
	this.METHODS = [ "setOptions", "setOptionsConfig", "filter(filterProp, filterValue, config)", "inverseFilter(filterProp, filterValue, setNull)","getOptions()", "addOptions(items, index)", "clearOptions()", "removeSelectedOptions()", "getSelectedIndex()", "getSelectedIndexes","removeOption", "setDefaultValue(value)","sortOptions(fieldName,order)" ];
	this.EVENTS = [ "changed", "selected", "doubleclick" ];
	this.DEPENDENCIES = [ {
		name : "JQuery",
		version : "2.0.3"
	} ];

	this.Type = function() {
	};
}
var def = new Definition();
def.Type.prototype = new BaseBC();
BCEngine.registerType("CSC-LISTBOX", def);

var BC = def.Type;

//BC.prototype.init = function(){
//	this.prepareOptions();
//};


BC.prototype.setDefaultValue = function(value) {
	/**
	 * @function setDefaultValue
     * @description Listbox'taki varsayılan değeri ayarlar.
     * @param [value] varsayılan değer
     */
	this.config.defaultValue = value;
}
BC.prototype.sortOptions = function(fieldName, order){
	this.sortFieldName = fieldName;
	this.sortOrder = order || "asc";
	this.reRender();
};
BC.prototype.sortArray = function(data){
    var me = this;
    if(data){
        return data.sort(function(a,b){
            if(me.sortOrder == "desc"){
                if(typeof a[me.sortFieldName] == "string"){
                    return b[me.sortFieldName].localeCompare(a[me.sortFieldName]);
                } else {
                    if(a[me.sortFieldName] < b[me.sortFieldName]) return 1;
                    if(a[me.sortFieldName] > b[me.sortFieldName]) return -1;
                    return 0;
                }
            }else{
                if(typeof b[me.sortFieldName] == "string"){
                    return a[me.sortFieldName].localeCompare(b[me.sortFieldName]);
                } else {
                    if(a[me.sortFieldName] < b[me.sortFieldName]) return -1;
                    if(a[me.sortFieldName] > b[me.sortFieldName]) return 1;
                    return 0;
                }
            }
        });
    }
}


BC.prototype.clear = function() {
	this.setValue(this.config.defaultValue || "");
}

BC.prototype.init = function() {
	this.inTabular = false;
	var parent = this.bf;
	this.fprop = this.config.filterProp;
	while (parent) {
		if (parent.bcRef.typeName == "CSC-POPUP") {
			break;
		}
		if (parent.$CS$.definition.isTabular) {
			this.inTabular = true;
			break;
		}
		parent = parent.$CS$.parent;
	}
	if (this.inTabular && parent[this.bf.$CS$.name]) {
		this.tabularBc = parent[this.bf.$CS$.name].bcRef;
		this.options = this.tabularBc.options;
		this.localOptions = this.tabularBc.localOptions;
		this.optionsConfig = this.tabularBc.optionsConfig;
		
		this.config.refDataNames = this.tabularBc.config.refDataNames;
		this.config.appRefData = this.tabularBc.config.appRefData;
		
		this.fprop = this.tabularBc.fprop || this.fprop;
		this.fvalue = this.tabularBc.fvalue;
		
		this.iprop = this.tabularBc.iprop || this.iprop;
		this.ivalue = this.tabularBc.ivalue;
	}
	
	this.prepareOptions();
};



BC.prototype.getValue = function() {
	if(!(this.isParentReadonly() || this.bf.isReadonly())){
		var $select = $("#" + this.config.id);
		if ($select.length) {
			return $select.val();
		}
	}
	if (Array.isArray(this.config.value)) {
		var value = [];
		for ( var i = 0; i < this.config.value.length; i++) {
			if (typeof this.config.value[i] == "object") {
				value.push(this.config.value[i].value);
			} else {
				value.push(this.config.value[i]);
			}
		}
		return value;
	}
	if (typeof this.config.value == "object") {
		this.config.value;
	}
	return this.config.value || "";
};

BC.prototype.setValue = function(value) {
	this.config.value = value;
	if(this.isParentReadonly() || this.bf.isReadonly()){
		var $$ul = $$.byid(this.config.id);
		if(!$$ul){
			return;
		}
		$$ul.innerHTML = "";
		var texts = this.getText();
		if(texts === undefined || texts === null){
			return;
		}
		if(!Array.isArray(texts)){
			texts = [texts];
		}
		for(var i=0; i<texts.length ;i++){
			var $$li = $$.create("LI");
			$$li.innerHTML = texts[i];
			$$ul.appendChild($$li);
		}
	} else {
		var $select = $("#" + this.config.id);
		if ($select.length) {
			$select.val(value);
		}
	}
	
};

BC.prototype.saveState = function() {
	this.config.value = this.getValue();
};

BC.prototype.getText = function(value){
	if(value === undefined){
		if(this.isParentReadonly() || this.bf.isReadonly()){
			value = this.config.value;
		} else {
			value = this.getValue();
		}
	}
	if(value === undefined || value === null){
		return undefined;
	}
	if(Array.isArray(value)){
		var texts = [];
		for(var i=0; i<value.length ;i++){
			var val = value[i];
			if(typeof val == "object"){
				texts.push((this.optionsConfig && this.optionsConfig.text) ? val[this.optionsConfig.text] : val.text);
			} else {
				for(var k=0; k<this.localOptions.length ;k++){
					if(this.localOptions[k][0] == val){
						texts.push(this.localOptions[k][1]);
						break;
					}
				}
			}
		}
		return texts;
	}
	if(typeof value == "object"){
		return (this.optionsConfig && this.optionsConfig.text) ? value[this.optionsConfig.text] : value.text;
	}
	for(var k=0; k<this.localOptions.length ;k++){
		if(this.localOptions[k][0] == value){
			return this.localOptions[k][1];
		}
	}
};

BC.prototype.prepareOptions = function() {
	var selectedRefDataName = this.config.refDataNames || this.config.appRefData;
	this.localOptions = [];
	if (this.options) {
	  if (this.sortFieldName){
                 this.options = this.sortArray(this.options);
             }
		if (!this.config.filterProp || (this.config.filterProp && this.filterValue)) {
			for ( var i = 0; i < this.options.length; i++) {
				var item = this.options[i];
				if (Array.isArray(item)) {
					if(this.fprop && Array.isArray(this.fvalue) && !isInIt(this.fvalue, item[0])){
						continue;
					}
					if(this.iprop && Array.isArray(this.ivalue) && isInIt(this.ivalue, item[0])){
						continue;
					}
					this.localOptions.push([ item[0], item[1] ]);
				} else if (typeof item != "object") {
					if(this.fprop && Array.isArray(this.fvalue) && !isInIt(this.fvalue, item)){
						continue;
					}
					if(this.iprop && Array.isArray(this.ivalue) && isInIt(this.ivalue, item)){
						continue;
					}
					this.localOptions.push([ item, item ]);
				} else {
					if (this.fprop) {//filter va mı?
						if(Array.isArray(this.fvalue) && !isInIt(this.fvalue, BEANUtils.getValue(item, this.fprop))){
							continue;
						}
						if(!Array.isArray(this.fvalue) && item[this.fprop] != this.fvalue){
							continue;
						}
					}
					if (this.iprop) {//inverse filter va mı?
						if(Array.isArray(this.ivalue) && isInIt(this.ivalue, BEANUtils.getValue(item, this.iprop))){
							continue;
						}
						if(!Array.isArray(this.ivalue) && item[this.iprop] == this.ivalue){
							continue;
						}
					}
					if (this.optionsConfig && this.optionsConfig.value && this.optionsConfig.text) {
						var value = BEANUtils.getValue(item, this.optionsConfig.value), text = BEANUtils.getValue(item, this.optionsConfig.text);
						if((item.aktifPasif === false || item.aktifPasif === "false") && this.nonPassiveValue !== value){
							this.addPassiveOption(value, text);
						} else {
							this.localOptions.push([ value, text ]);
						}
					}else if (this.config.valueField && this.config.textField && item[this.config.valueField] !== undefined && item[this.config.textField] !== undefined) {
						if((item.aktifPasif === false || item.aktifPasif === "false") && this.nonPassiveValue !== item.value){
							this.addPassiveOption(item.value, item.text);
						} else {
							this.localOptions.push([ item[this.config.valueField], item[this.config.textField]]);
						}
					} else {
						if((item.aktifPasif === false || item.aktifPasif === "false") && this.nonPassiveValue !== item.value){
							this.addPassiveOption(item.value, item.text);
						} else {
							this.localOptions.push([ item.value, item.text ]);
						}
					}
				}
			}
		}
	} else if (selectedRefDataName != undefined) {
		if (!inDesigner(this.bf) && selectedRefDataName != "none") {
			var data = CSRefDataManager.getData(selectedRefDataName);
			if (data) {
				if (!this.config.filterProp || (this.config.filterProp && this.filterValue)) {
					for ( var i = 0; i < data.length; i++) {
						if (this.fprop && this.fvalue) {
							if(Array.isArray(this.fvalue) && !isInIt(this.fvalue, data[i][this.fprop])){
								continue;
							}
							if(!Array.isArray(this.fvalue) && data[i][this.fprop] != this.fvalue){
								continue;
							}
						}
						if (this.config.filterProp && this.filterValue) {
							if(Array.isArray(this.filterValue) && !isInIt(this.filterValue, data[i][this.config.filterProp])){
								continue;
							}
							if(!Array.isArray(this.filterValue) && data[i][this.config.filterProp] != this.filterValue){
								continue;
							}
						}
						if (this.config.valueField && this.config.textField) {
							this.localOptions.push([ data[i][this.config.valueField], data[i][this.config.textField] ]);
						} else {
							this.localOptions.push([ data[i].value, data[i].text ]);
						}
					}
				}
			}
		}
	}
};

BC.prototype.render = function($container) {
	var readonly = this.isParentReadonly() || this.bf.isReadonly();
	if(readonly){
		var $$ul = $$.create("UL", {id: this.config.id}, ["csc-listbox-ul",this.config.cssClass], this.config.style);
		$container.appendChild($$ul);
		if (inDesigner(this.bf)) {
			$$ul.style.display = "";// Design Time da visible yap
			var texts = ["Readonly"];
		} else {
			var texts = [];
			if(this.getValue()){
				texts = this.getText();
			}
		}
		if(texts === undefined || texts === null){
			texts = "";
		}
		if(!Array.isArray(texts)){
			texts = [texts];
		}
		for(var i=0; i<texts.length ;i++){
			var $$li = $$.create("LI");
			$$li.innerHTML = texts[i];
			$$ul.appendChild($$li);
		}
	} else {
		var disabled = this.bf.isDisabled() ? "disabled" : undefined;
		var $$select = $$.create("SELECT", {id: this.config.id, "tabindex": this.config.tabIndex, name: this.config.id, disabled: disabled, multiple: "multiple"}, ["csc-listbox", this.config.cssClass], this.config.style);
		$$select.style.display = this.config.visible ? "" : "none";
		// Design Time da visible yap
		if (inDesigner(this.bf)) {
			$$select.style.display = "";
		}
	
		if (this.bf.isRequired()) {
			$$.addClass($$select, "csc-required");
		}
		
		this.prepareOptions();
		
		if($$.isie9()){
			for ( var i = 0; i < this.localOptions.length; i++) {
				var opt = document.createElement('option');
				opt.value = this.localOptions[i][0];
				opt.text = this.localOptions[i][1];
				$$select.options.add(opt);
			}
		}else{
			var optionStr = "";
			for ( var i = 0; i < this.localOptions.length; i++) {
				optionStr += "<option value='" + this.localOptions[i][0]+ "'>" + this.localOptions[i][1] + "</option>";
			}
			$$select.innerHTML = optionStr;
		}
		$container.appendChild($$select);
		
		if (this.config.value !== undefined) {
			this.setValue(this.config.value);
		}
	}

};

BC.prototype.setOptions = function(items, config) {
	/**
	 * @function setOptions
     * @description Listbox'ta gözüken değerleri ayarlar.
     * @param [items] items dizi olmalıdır. 
     * @example items: [{plaka: "06", adi: "Ankara"},{plaka:"01", adi: "Adana"}]
     * config: {value: "plaka", text: "adi"}
     * @param [config] value ve text isimleri config ile verilir). 
     */
	if (!Array.isArray(items)) {
		return;
	}
	this.options = [];//Gönderilen array'in referansından kurtulmak için değerleri tek tek aktarıyoruz.
	for(var i=0; i<items.length ;i++){
		this.options[i] = items[i];
	}
	this.optionsConfig = config;

	this.prepareOptions();
	this.reRender();
};

BC.prototype.setOptionsConfig = function(config) {
	/**
	 * @function setOptionsConfig
     * @description Listbox'taki gözüken değerlerin konfigürasyonunu ayarlar.
     * @param [config] Konfigürasyon ayarı. Value ve text isimleri config ile verilir). 
     * @example {value: "plaka", text: "adi"}
     */
	this.optionsConfig = config;
};

/**
 * @function getOptions
 * @description Listbox'taki değerleri getirir.
 */
BC.prototype.getOptions = function() {
	if(this.options){
		return this.options;
	}
	var result = [];
	if(this.localOptions){
		for(var i=0; i<this.localOptions.length ;i++){
			result.push({value: this.localOptions[i][0], text: this.localOptions[i][1]});
		}
	}
	return result;
};

/**
 * @function addOptions
 * @description Listbox'a yeni değer(ler) ekler.
 * @param [items] Eklenecek değerler. Dizi de olabilir.
 * @param [index] Değerlerin ekleneceği indeks
 */
BC.prototype.addOptions = function(items, index) {
	if (!Array.isArray(items)) {
		items = [items];
	}
	if (!this.options) {
		this.options = [];
	}
	if (index !== undefined) {
		var op2 = this.options.splice(index, this.options.length - index);
		this.options = this.options.concat(items, op2);
	} else {
		this.options = this.options.concat(items);
	}
	this.prepareOptions();
	this.reRender();
};

/**
 * @function clearOptions
 * @description Listbox'taki değerleri siler.
 */
BC.prototype.clearOptions = function() {
	this.options = [];
	this.prepareOptions();
	this.reRender();
};

/**
 * @function removeOption
 * @description İstenen değerleri listbox'tan siler.
 * @param [values] Silinecek değerler
 */
BC.prototype.removeOption = function(values) {
	if(!values){
		return;
	}
	if(!Array.isArray(values)){
		values = [values];
	}
	
	if (this.options && (!this.config.filterProp || (this.config.filterProp && this.filterValue))) {
		for(var k=0; k<values.length ;k++){
			for ( var i = 0; i < this.options.length; i++) {
				var item = this.options[i];
				if (Array.isArray(item)) {
					if(item[0] == values[k]){
						this.options.splice(i, 1);
						break;
					}
				} else if (typeof item != "object") {
					if(item == values[k]){
						this.options.splice(i, 1);
						break;
					}
				} else {
					if (this.config.filterProp) {
						if(BEANUtils.getValue(item, this.config.filterProp) == values[k]){
							this.options.splice(i, 1);
							break;
						}
					}
					if (this.optionsConfig && this.optionsConfig.value) {
						if(BEANUtils.getValue(item, this.optionsConfig.value) == values[k]){
							this.options.splice(i, 1);
							break;
						}
					} else {
						if(item.value == values[k]){
							this.options.splice(i, 1);
							break;
						}
					}
				}
			}
		}
	}
	
	for(var k=0; k<values.length ;k++){
		for(var i=0; i<this.localOptions.length ;i++){
			if(this.localOptions[i][0] == values[k]){
				this.localOptions.splice(i, 1);
				break;
			}
		}
	}
	this.reRender();
};

BC.prototype.filter = function(filterProp, filterValue, config) {
	var disableFilterInverseFilter = BCDefaults.get("CSC-LISTBOX", "allowMultipleFilter", false);
	
	if(disableFilterInverseFilter){
		this.iprop = null;
		this.ivalue = null;
	}
	
	
	if((typeof config === "boolean" && config == true) || (config && config.setNull === true)){
		this.setValue(null);
	}
	if(filterValue === undefined){
		this.fprop = this.config.filterProp;
		filterValue = filterProp;
	} else {
		this.fprop = filterProp;
	}
	this.fvalue = filterValue;
	
	if(config && config.forcePrepareOptions){
		this.prepareOptions();
	}
	
	this.reRender();
};

BC.prototype.inverseFilter = function(filterProp, filterValue, setNull) {
	var disableFilterInverseFilter = BCDefaults.get("CSC-LISTBOX", "allowMultipleFilter", false);
	
	if(disableFilterInverseFilter){
		this.fprop = null;
		this.fvalue = null;
	}
	
	if(setNull === true){
		this.setValue(null);
	}
	if(filterValue === undefined){
		this.iprop = this.config.filterProp;
		filterValue = filterProp;
	} else {
		this.iprop = filterProp;
	}
	this.ivalue = filterValue;
	this.reRender();
};

/* Filter uygulanmadığı durumda düzgün çalışır çünkü index tabanlıdır */
/**
 * @function removeSelectedOptions
 * @description Listbox'ta seçilen değerleri kaldırır.
 */
BC.prototype.removeSelectedOptions = function() {

	var $$select = $$.byid(this.config.id);
	if (!$$select) {
		return;
	}
	
	if ($$.isie()) {
		for (i = $$select.options.length - 1; i >= 0 ; i--) {
			if ($$select.options[i].selected) {
				this.options.splice(i, 1);
			}
		}
	} else {
		if (!$$select.selectedOptions || $$select.selectedOptions.length == 0) {
			return;
		}
		var indices = [];
		for ( var i = 0; i < $$select.selectedOptions.length; i++) {
			indices.push($$select.selectedOptions[i].index);
		}
		indices.sort(function(a,b){
			return a-b;
		});
		for(var i=indices.length-1; i>=0 ;i--){
			this.options.splice(indices[i], 1);
		}
	}

	this.prepareOptions();
	this.reRender();
};

/**
 * @function getSelectedIndex
 * @description Seçilen değerin indeksini döner.
 */
BC.prototype.getSelectedIndex = function() {
	var $$select = $$.byid(this.config.id);
	if (!$$select) {
		return -1;
	}
	return $$select.selectedIndex;
};

BC.prototype.getSelectedIndexes = function() {
	var result = [];
	var $$select = $$.byid(this.config.id);
	if (!$$select) {
		return result;
	}
	var $$options = $$.childs($$select, "OPTION");
	for(var i=0; i<$$options.length ;i++){
		if($$options[i].selected){
			result.push(i);
		}
	}
	return result;
};

BC.prototype.bindEvent = function(eventName, callback) {
	if (eventName == "changed") {
		var dom = byid(this.config.id);
		if (typeof dom != "undefined" && dom != null) {
			dom.onchange = callback;
		}
	} else if (eventName == "selected") {
		var dom = byid(this.config.id);
		if (dom) {
			dom.onclick = callback;
		}
	} else if (eventName == "doubleclick") {
		var dom = byid(this.config.id);
		if (dom) {
			dom.ondblclick = callback;
		}
	}
};
})(window);
/////=csc-single-bar-chart.js=/////
(function(window, undefined) {
/**
 * 	@class CSC-SINGLE-BAR-CHART
 * 	@author ADogan
 */
function Definition() {
	this.DEFAULTS = {};

	this.BaseBF = "BASIC";
	this.LABEL = "Single Bar Chart";

	this.METHODS = ["setOptions(data)"];
	this.EVENTS = [];
	this.DEPENDENCIES = [];

	this.Type = function() {};
};

var def = new Definition();
def.Type.prototype = new BaseBC();
BCEngine.registerType("CSC-SINGLE-BAR-CHART", def);

var BC = def.Type;

BC.prototype.setOptions = function(data, config){
	/**
	 * @function setOptions
	 * @description Chart için veri set etmek için kullanılır.
	 * @param [data] Chart'a basılacak veriler dizisidir. Data, color ve label bilgilerini içerir. Color değeri verilmezse random üretilir. Label ise opsiyoneldir. Eğer tek veri varsa data direkt yüzde olarak alınır. Birden fazla veri varsa toplam veriye göre yüzdeler hesaplanır. 
	 * @param [config] Configler; showLabel. 
	 * @example config: {showLabel: false}
	 * data: [ {data: 90} ] için %90'lık bir bar çizilir. 
	 * [{data: 250, color: "c30000"}, {data: 750, color: "000000"}] için ise ilk veri %25 ikincisi %75 olarak çizilir.
	 */
	this.data = data;
	this.chartConfig = config;
	
	this.reRender();
}

BC.prototype.setValue = function(data, config){
	this.setOptions(data, config);
}

BC.prototype.render = function($container){
	var w = this.config.style ? parseInt(this.config.style.width) || 300 : 300;
	var h = this.config.style ? parseInt(this.config.style.height) || 25 : 25;
	
	var palette = ["E18942", "EECD86", "B95835", "3D3242", "7A3E48", "EECD86", "E18942", "B95835", "3D3242", "7A3E48"];
	
	var $$chartContainer = $$.create("DIV", {id:this.config.id}, ["csc-single-bar-chart"], {width: w+"px", height: h+"px"}, $container);
	
	var sum = 0;
	
	var parent = this.bf.getParent();
	if(parent){
		var parentConfig = parent.getConfig();
		if(parentConfig.horAlign && parentConfig.horAlign == "center"){
			$$.css($$chartContainer, "margin", "auto");
		}
	}
	
	if(inDesigner(this.bf)){
		this.data = [{data: 250}, {data: 750, color: "C3E555", label: "KDV"}, {data: 1453, }];
//		this.data = [{data: 75, label: "KDV", color: "C3E555"}];
	}
	
	if(!this.data){$$.css($$chartContainer, "display", "none"); return;}
	
	for(var i=0; i<this.data.length; i++){
		sum += this.data[i].data;
	}
	
	for(var i=0; i<this.data.length; i++){
		var $$bar, percent;
		if(this.data.length == 1){
			percent = this.data[0].data;
		}else{
			percent = Number(((this.data[i].data/sum)*100).toFixed(1));
		}
		
		$$bar = $$.create("DIV", undefined, ["csc-single-bar-chart-bar"], {width: percent+"%", lineHeight: h+"px"}, $$chartContainer);
		
		if(!this.chartConfig || this.chartConfig.showLabel === undefined || this.chartConfig.showLabel == true){
			var $$label = $$.create("SPAN", undefined, ["csc-single-bar-chart-label"], {paddingRight: "5px"}, $$bar);
			$$label.innerHTML = this.data[i].label === "" ? "" : (this.data[i].label || percent+"%");
		}
		if(this.data[i].color){
			$$.css($$bar, "background-color", "#"+this.data[i].color);
		}else{
			$$.css($$bar, "background-color", "#"+palette[i%palette.length]);
		}
		
	}
};

BC.prototype.bindEvent = function(eventName, callback) {};

})(window);
/////=csc-number.js=/////
(function(window, undefined) {
/**
 * @class CSC-NUMBER
 */
function Definition() {
	this.DEFAULTS = {
		allowZero : false,
		roEmptyValue : "-----",
		defvalue : 0,
		focusable: true,
		disabledKey: "disabled", 
		allowNegative : true
	};

	this.BaseBF = "BASIC";
	this.LABEL = "Number";

	this.METHODS = ["focus", "setDefaultValue(value)", "setEmptyValue(value)"];
	this.EVENTS = [ "changed(event)", "selected(event)", "blur(event)" ];

	this.DEPENDENCIES = [ {
		name : "JQuery",
		version : "2.0.3"
	}, {
		name : "JQuery-Currency-Autonumeric",
		version : "1.9.7"
	} ];

	this.Type = function() {};
}

var def = new Definition();
def.Type.prototype = new BaseBC();
BCEngine.registerType("CSC-NUMBER", def);

var BC = def.Type;

/**
 * @function setDefaultValue
 * @description Number bileşene bir değer verilmediği durumda bileşenin varsayılan değeri belirler.
 * @param [value] alana verilen varsayılan değer
 */
BC.prototype.setDefaultValue = function(value) {
	this.config.defvalue = value;
};

BC.prototype.getSortType = function() {
	return "number";
};

/**
 * @function setEmptyValue
 * @description Sets the empty value. If a number component has an empty value then display value of component is an empty string "".
 * When component doesnt has a value getValue method returns empty value.
 * To use empty value properly defaultValue must be undefined, otherwise empty value will be omitted.
 * @param [value] empty value
 */
BC.prototype.setEmptyValue = function(value) {
	this.config.emptyValue = value;
};

BC.prototype.focus = function(){
	/**
	 * @function focus
     * @description Odağı multi combo'ya getirir.
     */
	$$txt = $$.byid(this.config.id);
	if($$txt){
		$$txt.focus();
	}
};

BC.prototype.init = function() {
	if(typeof this.config.min == "string"){
		this.config.min = parseInt(this.config.min, 10);
	}
	if(typeof this.config.max == "string"){
		this.config.max = parseInt(this.config.max, 10);
	}
	
	if (inDesigner(this.bf)) {
		var t = this.config.thousandSeperator || "";
		var d = this.config.decimalSeperator || ".";
		if( (d || t) && (d == t) ){
			CSPopupUTILS.MessageBox("Thousand Sep. and Decimal Sep. cannot equal!", {error: true});
			this.config.thousandSeperator = "";
			this.config.decimalSeperator = ".";
			this.reRender();
		}
	}
};

BC.prototype.getValue = function() {
	var bc=this, bf=bc.bf, config=bc.config;
	var $el = $("#" + config.id);
	var readonly = bc.isParentReadonly() || bf.isReadonly();
	if ($el.length && !readonly) {
		config.value = $el.autoNumeric('get');
	}
	var value = config.value;
	if(config.emptyValue !== undefined && (value === null || value === undefined || value === "" || isNaN(value) )){
		return config.emptyValue;
	}
	if (config.defvalue !== undefined && (value === null || value === undefined || value === "" || isNaN(value) )) {
		return config.defvalue;
	}
	
	if (value === null) {
		return value;
	}
	return parseFloat(value);
};

BC.prototype.setValue = function(value) {
	var bc=this, bf=bc.bf, config=bc.config;
	if(value && typeof value == "number"){
		value = new BigDecimal(""+value);
		value.form = 0;
		value = value.toString();
	}
	if(config.emptyValue !== undefined && config.emptyValue === value){
		value = "";
	}
	config.value = value;
	$el = $("#" + config.id);

	var readonly = bf.isReadonly();
	if (readonly) {
		if (config.value !== undefined && config.value !== null) {
			$el.autoNumeric('set', config.value);
		} else {
			$el.html(config.roEmptyValue || "");
		}
	} else {
		if (config.value !== undefined && config.value !== null) {
			$el.autoNumeric('set', config.value);
		} else {
			$el.autoNumeric('set', "");
		}
	}
	
	var activeChangedEvent = SideDefaults[SideModuleManager.getLocalModuleName()]["support-changed-event-on-setvalue"];
	if( activeChangedEvent || activeChangedEvent == "true" ){
		bf.fire("changed");
	}
};

BC.prototype.setDisabled = function(flag) {
	var bc=this, config=bc.config;
	config.value = bc.getValue();
	if(config.emptyValue !== undefined && config.value===config.emptyValue){
		config.value = "";
	}
	config.disabled = flag;
};

BC.prototype.saveState = function() {
	var bc=this, config=bc.config;
	var value = bc.getValue();
	if(value && typeof value == "number"){
		value = new BigDecimal(""+value);
		value.form = 0;
		value = value.toString();
	}
	if(config.emptyValue !== undefined && value===config.emptyValue){
		value = "";
	}
	config.value = value;
};

BC.prototype.isEmpty = function(omitDefaultValue) {
	var bc=this, config=bc.config;
	var value = bc.getValue();
	if(omitDefaultValue && value == 0){
		return true;
	}
	if(config.emptyValue !== undefined && value===config.emptyValue){
		return true;
	}
	if (config.allowZero) {
		return false;
	}
	return value == 0;
};

BC.prototype.destroybc = function(){
	$("#"+this.config.id).remove();
};

BC.prototype.render = function($container) {
	var bc=this, bf=bc.bf, config=bc.config;
	var readonly = bc.isParentReadonly() || bf.isReadonly();
	if (config.value === undefined && config.min !== undefined) {
		config.value = config.min;
	}
	var decSep = config.decimalSeperator;
	var thousandSep = config.thousandSeperator || "";
	
	if(config.autoDecimalLength == "false"){ 
		config.autoDecimalLength = false;
	}
	var decimalLen = config.decimalLength || 0;
	if (decimalLen < 0 || config.autoDecimalLength)
		decimalLen = 0;

	var max = 9999999999999;
	if (config.max !== undefined && !isNaN(config.max)) {
		max = config.max;
	}
	if (!config.allowNegative) {
		min = 0;
	}else{
		min = 0 - max;
	}
	if (!config.style) {
		config.style = {};
	}
	if (!config.style.textAlign) {
		config.style.textAlign = "right";
	}
	if (readonly) {
		var $span = $("<span>");
		$span.attr({
			id : config.id,
			title:config.tips
		});
		$span.css(config.style || {});
		$span.addClass("csc-rospan").addClass("csc-number").addClass(config.cssClass);
		if(!inDesigner(bf) && bc.clickBinded && !bf.isDisabled()){
			$span.addClass("csc-textbox-linked");
		}
		
		$span.attr({
			"data-a-sep" : thousandSep,
			"data-a-dec" : decSep,
			"data-m-dec" : decimalLen,
			"data-v-max" : max,
			"data-v-min" : min,
			"data-autoDecimalLength" : config.autoDecimalLength
		});
		if(config.maxDecLength && config.maxDecLength > 0){
			$span.attr("data-maxDecLength", config.maxDecLength);
		}
		$span.autoNumeric('init');
		
		if (config.value !== undefined && config.value !== null) {
			$span.autoNumeric('set', config.value);
		} else {
			$span.html(config.roEmptyValue || "");
		}
		if (inDesigner(bf)) {
			$span.css("display", "");
			$span.html(config.roEmptyValue || "Readonly").addClass("csc-readonly");
		}
		$container.appendChild($span[0]);
	} else {
		var $newTextBox = $("<input>");
		// Set ID, Type, Value And Disabled Attributes if exists

		$newTextBox.attr({
			id : config.id,
			type : "text",
			size : config.size,
			value : config.value,
			title:config.tips,
			tabindex: config.tabIndex,
			"data-a-sign" : "",
			"data-a-sep" : thousandSep,
			"data-a-dec" : decSep,
			"data-m-dec" : decimalLen,
			"data-v-max" : max,
			"data-v-min" : min,
			"data-w-empty" : "empty",
			"data-l-zero" : "deny",
			"data-autoDecimalLength" : config.autoDecimalLength
		});
		if(bf.isDisabled()){
			$newTextBox.attr(config.disabledKey,config.disabledKey);
		}
		
		if(config.maxDecLength && config.maxDecLength > 0){
			$newTextBox.attr("data-maxDecLength", config.maxDecLength);
		}

		try {
			$newTextBox.autoNumeric('init');
		} catch (ex) {
			$newTextBox.attr("value", min);
			$newTextBox.autoNumeric('init');
		}

		$newTextBox.addClass("csc-number").addClass(config.cssClass);

		checkAndSetCss($newTextBox, "display", config.visible ? "" : "none");
		$newTextBox.css(config.style || {});
		
		$newTextBox.blur(function(){
			var value = bc.getValue();
			if(value === undefined || value === null || value === ""){
				return;
			}
			if(bc.config.min !== undefined && parseInt(bc.config.min) > value){
				bc.setValue("");
			}
			if(bc.config.allowZero === false && value === 0){
				bc.setValue("");
			}
		});

		// Design Time da visible yap
		if (inDesigner(bf)) {
			$newTextBox.css("display", "");
		}
		if (config.cssClass) {
			$newTextBox.addClass(config.cssClass);
		}

		if (bf.isRequired()) {
			$newTextBox.addClass("csc-required");
		}
		
		$newTextBox.bind('change', function(event) {
			if(!bc.validate()){
				bc.bf.fire("changed", bc.getValue());
			}else{
				bc.setValue("");
			}
		});
		
		bc.applyInlineValidation($newTextBox[0]);
		$container.appendChild($newTextBox[0]);
	}

};
BC.prototype.validate = function() {
	var value = this.getValue(), label = this.bf.getConfig("label");
	if (this.config.max !== undefined && parseFloat(this.config.max) < value) {
		return SideMLManager.get(this, "maxValue", this.config.max, label);
	}
	if (this.config.min !== undefined && parseFloat(this.config.min) > value) {
		return SideMLManager.get(this, "minValue", this.config.min, label);
	}
};

BC.prototype.bindEvent = function(eventName, callback) {
	if (eventName == "selected") {
		var bc=this, $$dom = byid(bc.config.id);
		if ($$dom) {
			$$dom.onclick = callback;
			if(!inDesigner(bc.bf) && $$dom.tagName == "SPAN" && !bc.bf.isDisabled()){
				$$.addClass($$dom, "csc-textbox-linked");
			}
		}
	} else if (eventName == "blur") {
		var dom = byid(this.config.id);
		if (dom) {
			dom.onblur = callback;
		}
	}
};
})(window);




?cmd=mainService_checkStatus
fetch("http://localhost:2023/?cmd=mainService_checkStatus", {
  "headers": {
    "accept": "text/html, */*; q=0.01",
    "accept-language": "tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7",
    "sec-ch-ua": "\"Not/A)Brand\";v=\"8\", \"Chromium\";v=\"126\", \"Google Chrome\";v=\"126\"",
    "sec-ch-ua-mobile": "?0",
    "sec-ch-ua-platform": "\"Linux\"",
    "sec-fetch-dest": "empty",
    "sec-fetch-mode": "cors",
    "sec-fetch-site": "cross-site"
  },
  "referrer": "http://keys.ggm.bim/",
  "referrerPolicy": "strict-origin-when-cross-origin",
  "body": null,
  "method": "POST",
  "mode": "cors",
  "credentials": "omit"
});

yuk
cmd: mainService_checkStatus

yanıt
{"metadata":{"optime":"20260105113544"},"data":true}


dispatch
fetch("http://keys.ggm.bim/etebligat_server/dispatch", {
  "headers": {
    "accept": "application/json, text/javascript, */*; q=0.01",
    "accept-language": "tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7",
    "content-type": "application/x-www-form-urlencoded; charset=UTF-8"
  },
  "referrer": "http://keys.ggm.bim/etebligat/index.jsp?token=501091d0af143c0c39542712ca97265540e735f22ea710f860686727e9e17909783da6ba8d196caa7cf7f09b5083775792a6c7500bdfd39f94cebb65fb7c5ffa",
  "referrerPolicy": "strict-origin-when-cross-origin",
  "body": "cmd=etebligatService_etebligatBelgeSorgulaImzaIcin&callid=f27f5bf56482d-9&token=501091d0af143c0c39542712ca97265540e735f22ea710f860686727e9e17909783da6ba8d196caa7cf7f09b5083775792a6c7500bdfd39f94cebb65fb7c5ffa&jp=%7B%22respKeyParam%22%3A%22list%22%2C%22orgoid%22%3A%2200000000000868%22%2C%22vkn%22%3A%22%22%2C%22tckn%22%3A%22%22%2C%22belgoNo%22%3A%22%22%2C%22belgeDurumlari%22%3A%5B%22250%22%5D%2C%22zarfDurumlari%22%3A%5B%22210%22%5D%2C%22belgeTuru%22%3A%2266%22%2C%22baslangic%22%3A%220000000000%22%2C%22bitis%22%3A%229999999999%22%2C%22imzalanmaTarihi%22%3A%22%22%2C%22pv%22%3A%7B%22start%22%3A0%2C%22limit%22%3A%2230%22%2C%22sorters%22%3A%5B%5D%7D%7D",
  "method": "POST",
  "mode": "cors",
  "credentials": "omit"
});

yuk
cmd: etebligatService_etebligatBelgeSorgulaImzaIcin
callid: f27f5bf56482d-9
token: 501091d0af143c0c39542712ca97265540e735f22ea710f860686727e9e17909783da6ba8d196caa7cf7f09b5083775792a6c7500bdfd39f94cebb65fb7c5ffa
jp: {"respKeyParam":"list","orgoid":"00000000000868","vkn":"","tckn":"","belgoNo":"","belgeDurumlari":["250"],"zarfDurumlari":["210"],"belgeTuru":"66","baslangic":"0000000000","bitis":"9999999999","imzalanmaTarihi":"","pv":{"start":0,"limit":"30","sorters":[]}}


yanıt
{
    "metadata": {
        "optime": "20260105164133"
    },
    "messages": [
        {
            "text": "Bir hata oluştu. Hata detayı:Arama kriterlerine uygun kayit bulunamadi!",
            "type": "1"
        }
    ],
    "error": "1"
}

<script>
